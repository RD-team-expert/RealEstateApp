import{j as r,L as g}from"./app-BSOlzI_M.js";import{B as n}from"./badge-Bc6JwGPl.js";import{B as x}from"./button-D2rKFPK1.js";import{b as u,e as t}from"./table-D6Ykx5nO.js";import{E as h}from"./eye-D6dEBVIw.js";import{S as N}from"./square-pen-BbbP7D49.js";import{T as j}from"./trash-2-CnyQPA5D.js";import{f as p}from"./format-PYUiRpxY.js";import"./app-D9zByHv3.js";import"./index-ByB7CnZO.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-BGWKpKjb.js";const s=(e,d="-")=>{if(!e)return d;const c=/^(\d{4})-(\d{2})-(\d{2})/.exec(e);if(!c)return d;const[,l,a,o]=c,i=new Date(Number(l),Number(a)-1,Number(o));return p(i,"P")},_=e=>{if(!e)return r.jsx(n,{variant:"outline",children:"N/A"});switch(e.toLowerCase()){case"accepted":return r.jsx(n,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:e});case"pending":return r.jsx(n,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",children:e});case"rejected":return r.jsx(n,{variant:"destructive",children:e});default:return r.jsx(n,{variant:"default",children:e})}},m=e=>!e||e==="-"?r.jsx(n,{variant:"outline",children:"N/A"}):r.jsx(n,{variant:e==="Yes"?"default":"secondary",className:e==="Yes"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",children:e}),y=e=>{if(!e&&e!==0)return r.jsx(n,{variant:"outline",children:"N/A"});const d=typeof e=="string"?parseInt(e):e;return d<=7?r.jsxs(n,{variant:"destructive",children:[e," days"]}):d<=30?r.jsxs(n,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",children:[e," days"]}):r.jsxs(n,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:[e," days"]})},P=({offer:e,activeTab:d,onEdit:c,onDelete:l,permissions:a,currentFilters:o,perPage:i,page:b})=>r.jsxs(u,{className:"border-border hover:bg-muted/50",children:[r.jsx(t,{className:"sticky left-0 z-10 border border-border bg-muted text-center font-medium text-foreground",children:e.city_name||"N/A"}),r.jsx(t,{className:"sticky left-[120px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:e.property||"N/A"}),r.jsx(t,{className:"sticky left-[270px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:e.unit||"N/A"}),r.jsx(t,{className:"sticky left-[390px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:e.tenant||"N/A"}),(d==="offers"||d==="both")&&r.jsxs(r.Fragment,{children:[r.jsx(t,{className:"border border-border text-center text-foreground",children:e.other_tenants?r.jsx("div",{className:"max-w-32 truncate",title:e.other_tenants,children:e.other_tenants}):r.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),r.jsx(t,{className:"border border-border text-center text-foreground",children:s(e.date_of_decline)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:s(e.date_sent_offer)}),r.jsx(t,{className:"border border-border text-center",children:_(e.status??null)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:s(e.date_of_acceptance)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:s(e.last_notice_sent)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:e.notice_kind||r.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]}),(d==="renewals"||d==="both")&&r.jsxs(r.Fragment,{children:[r.jsx(t,{className:"border border-border text-center",children:m(e.lease_sent??null)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:s(e.date_sent_lease)}),r.jsx(t,{className:"border border-border text-center",children:m(e.lease_signed??null)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:s(e.date_signed)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:s(e.last_notice_sent_2)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:e.notice_kind_2||r.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),r.jsx(t,{className:"border border-border text-center",children:e.notes?r.jsx("div",{className:"max-w-24 truncate",title:e.notes,children:e.notes}):r.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]}),r.jsx(t,{className:"border border-border text-center",children:y(e.how_many_days_left??null)}),r.jsx(t,{className:"border border-border text-center",children:r.jsx(n,{variant:e.expired==="expired"?"destructive":"default",children:e.expired??"N/A"})}),(a.canView||a.canEdit||a.canDelete)&&r.jsx(t,{className:"border border-border text-center",children:r.jsxs("div",{className:"flex gap-1",children:[a.canView&&r.jsx(g,{href:`/offers_and_renewals/${e.id}?${new URLSearchParams({city_name:o.city||"",property_name:o.property||"",unit_name:o.unit||"",tenant_name:o.tenant||"",per_page:String(i||""),page:String(b||"")}).toString()}`,children:r.jsx(x,{variant:"outline",size:"sm",children:r.jsx(h,{className:"h-4 w-4"})})}),a.canEdit&&r.jsx(x,{variant:"outline",size:"sm",onClick:()=>c(e),children:r.jsx(N,{className:"h-4 w-4"})}),a.canDelete&&r.jsx(x,{variant:"outline",size:"sm",onClick:()=>l(e),className:"border-destructive/20 text-destructive hover:bg-destructive/10 hover:text-destructive",children:r.jsx(j,{className:"h-4 w-4"})})]})})]});export{P as OffersTableRow};
