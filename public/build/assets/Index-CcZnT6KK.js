import{r as h,j as e,H as f,L as c,b as o}from"./app-Bg9A1iBs.js";import{A as v}from"./app-layout-B2xxsflK.js";import{B as r}from"./app-logo-icon-CqfSrEUH.js";import{I as S}from"./input-DQavsSaP.js";import{C as b,a as y,b as A,c as D}from"./card-Dokyzjaq.js";import{P as T,T as L,a as C,b as j,c as a,d as B,e as t,f as R}from"./table-BqtaTJkR.js";import{B as l}from"./badge-DpG1ETnn.js";import{S as H}from"./search-DFP5YysW.js";import{E as O}from"./eye-Dqg2wTxN.js";import{S as k}from"./square-pen-BCtUUpJV.js";import"./app-Duuwx8Ln.js";import"./index-DVjcrV7E.js";import"./index-DL1ex2iG.js";const E=[{label:"Offers",value:"offers"},{label:"Renewals",value:"renewals"},{label:"Both",value:"both"}],V=({offers:m,search:u})=>{const[d,N]=h.useState(u||""),[n,p]=h.useState("offers"),i=m.filter(s=>!0),_=s=>{s.preventDefault(),o.get(route("offers-and-renewals.index"),{search:d},{preserveState:!0})},w=s=>{window.confirm("Are you sure you want to delete this offer? This action cannot be undone.")&&o.delete(`/offers_and_renewals/${s.id}`)},g=s=>s?e.jsx(l,{variant:"default",children:s}):e.jsx(l,{variant:"outline",children:"N/A"}),x=s=>!s||s==="-"?e.jsx(l,{variant:"outline",children:"N/A"}):e.jsx(l,{variant:s==="Yes"?"default":"secondary",children:s});return e.jsxs(v,{children:[e.jsx(f,{title:"Offers and Renewals"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(A,{className:"text-2xl",children:"Offers and Renewals"}),e.jsx(c,{href:"/offers_and_renewals/create",children:e.jsxs(r,{children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Add New"]})})]}),e.jsxs("form",{onSubmit:_,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(S,{type:"text",placeholder:"Search by unit, tenant, or status...",value:d,onChange:s=>N(s.target.value)})}),e.jsx(r,{type:"submit",children:e.jsx(H,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:E.map(s=>e.jsx(r,{variant:n===s.value?"default":"outline",onClick:()=>p(s.value),children:s.label},s.value))})]}),e.jsxs(D,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(L,{children:[e.jsx(C,{children:e.jsxs(j,{children:[e.jsx(a,{children:"Unit"}),e.jsx(a,{children:"Tenant"}),(n==="offers"||n==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(a,{children:"Date Sent Offer"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"Date of Acceptance"}),e.jsx(a,{children:"Offer Last Notice Sent"}),e.jsx(a,{children:"Offer Notice Kind"})]}),(n==="renewals"||n==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(a,{children:"Lease Sent?"}),e.jsx(a,{children:"Date Sent Lease"}),e.jsx(a,{children:"Lease Signed?"}),e.jsx(a,{children:"Date Signed"}),e.jsx(a,{children:"Renewal Last Notice Sent"}),e.jsx(a,{children:"Renewal Notice Kind"}),e.jsx(a,{children:"Notes"})]}),e.jsx(a,{children:"How Many Days Left"}),e.jsx(a,{children:"Expired"}),e.jsx(a,{children:"Actions"})]})}),e.jsx(B,{children:i.map(s=>e.jsxs(j,{className:"hover:bg-gray-50",children:[e.jsx(t,{className:"font-medium",children:s.unit}),e.jsx(t,{children:s.tenant}),(n==="offers"||n==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:s.date_sent_offer?new Date(s.date_sent_offer).toLocaleDateString():"N/A"}),e.jsx(t,{children:g(s.status)}),e.jsx(t,{children:s.date_of_acceptance?new Date(s.date_of_acceptance).toLocaleDateString():"N/A"}),e.jsx(t,{children:s.last_notice_sent?new Date(s.last_notice_sent).toLocaleDateString():"N/A"}),e.jsx(t,{children:s.notice_kind||"N/A"})]}),(n==="renewals"||n==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(t,{children:x(s.lease_sent)}),e.jsx(t,{children:s.date_sent_lease?new Date(s.date_sent_lease).toLocaleDateString():"N/A"}),e.jsx(t,{children:x(s.lease_signed)}),e.jsx(t,{children:s.date_signed?new Date(s.date_signed).toLocaleDateString():"N/A"}),e.jsx(t,{children:s.last_notice_sent_2?new Date(s.last_notice_sent_2).toLocaleDateString():"N/A"}),e.jsx(t,{children:s.notice_kind_2||"N/A"}),e.jsx(t,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",title:s.notes||"N/A",children:s.notes||"N/A"})})]}),e.jsx(t,{children:s.how_many_days_left||"0"}),e.jsx(t,{children:e.jsx(l,{variant:s.expired==="expired"?"destructive":"default",children:s.expired??"N/A"})}),e.jsx(t,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(c,{href:`/offers_and_renewals/${s.id}`,children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(O,{className:"h-4 w-4"})})}),e.jsx(c,{href:`/offers_and_renewals/${s.id}/edit`,children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(k,{className:"h-4 w-4"})})}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>w(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(R,{className:"h-4 w-4"})})]})})]},s.id))})]})}),i.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No offers found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),e.jsx("div",{className:"mt-6 flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.length," ",n]})})]})]})})})]})};export{V as default};
