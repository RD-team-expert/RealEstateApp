import{r as m,b as E,j as e}from"./app-CHDKARjb.js";import{B as b}from"./button-DVMLQ4Cf.js";import{D as S,a as D,b as F}from"./drawer-DBQSSrTa.js";import R from"./CityField-Bpl2I_uo.js";import k from"./VendorNameField-IM2j6IHK.js";import P from"./PhoneNumberField-D7lQ0zqi.js";import B from"./EmailField-KtlRBR91.js";import z from"./ServiceTypeField-oAFJRRcJ.js";import"./app-BmbQfT0_.js";import"./index-DzrNkgKa.js";import"./utils-CBfrqCZ4.js";import"./index-DH5c0sFq.js";import"./index-Dc_FVRD7.js";import"./index-BMM8wKPv.js";import"./index-DhGOy-yS.js";import"./index-Bc-3DsyS.js";import"./index-DzT3tnb6.js";import"./index-q1apwmMP.js";import"./index-0tk3grE1.js";import"./index-DfGTd3cq.js";import"./x-DzxxLS5y.js";import"./createLucideIcon-C7c1hvIj.js";import"./label-DcQ_-sMZ.js";import"./select-DSkJK3rS.js";import"./index-DiN52TcP.js";import"./index-DUM9UyY6.js";import"./index-CwBu8RV2.js";import"./index-qPHptkmt.js";import"./index-vBQwvlXi.js";import"./chevron-down-qX4-vl1q.js";import"./check-Ck6Rqaxz.js";import"./chevron-up-DiltP7zF.js";import"./input-CESuFFYh.js";import"./radioGroup-DeMlaPSu.js";function he({cities:p,open:x,onOpenChange:d,onSuccess:y}){const l=m.useRef(null),c=m.useRef(null),[C,i]=m.useState(""),[j,a]=m.useState(""),[,u]=m.useState(""),{data:t,setData:n,post:_,processing:f,errors:s,reset:v}=E({city_id:"",vendor_name:"",number:"",email:"",service_type:""}),g=r=>{n("city_id",r);const o=p.find(w=>w.id.toString()===r);u(o?o.city:""),i("")},N=r=>{n("vendor_name",r.target.value),a("")},h=r=>{r.preventDefault(),i(""),a("");let o=!1;(!t.city_id||t.city_id.trim()==="")&&(i("Please select a city before submitting the form."),l.current&&(l.current.focus(),l.current.scrollIntoView({behavior:"smooth",block:"center"})),o=!0),(!t.vendor_name||t.vendor_name.trim()==="")&&(a("Please enter a vendor name before submitting the form."),c.current&&(c.current.focus(),c.current.scrollIntoView({behavior:"smooth",block:"center"})),o=!0),!o&&_(route("vendors.store"),{onSuccess:()=>{v(),u(""),i(""),a(""),d(!1),y?.()}})},V=()=>{v(),u(""),i(""),a(""),d(!1)};return e.jsx(S,{open:x,onOpenChange:d,modal:!1,children:e.jsx(D,{size:"half",title:"Create New Vendor",children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsx(R,{cities:p,value:t.city_id,onChange:g,error:s.city_id,validationError:C,ref:l}),e.jsx(k,{value:t.vendor_name,onChange:N,error:s.vendor_name,validationError:j,ref:c}),e.jsx(P,{value:t.number,onChange:r=>n("number",r.target.value),error:s.number}),e.jsx(B,{value:t.email,onChange:r=>n("email",r.target.value),error:s.email}),e.jsx(z,{value:t.service_type,onChange:r=>n("service_type",r),error:s.service_type})]})}),e.jsxs(F,{className:"flex-row justify-end gap-2 border-t bg-muted/50 p-4",children:[e.jsx(b,{type:"button",variant:"outline",onClick:V,children:"Cancel"}),e.jsx(b,{type:"submit",onClick:h,disabled:f,children:f?"Creating...":"Create Vendor"})]})]})})})}export{he as default};
