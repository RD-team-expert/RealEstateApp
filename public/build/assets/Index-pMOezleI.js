import{r as p,j as e,H as y,L as n,b as d}from"./app-8klrsFG4.js";import{A as N}from"./app-layout-CZFQIP7A.js";import{B as i}from"./app-logo-icon-b_GmilaL.js";import{I as g}from"./input-BPyuLaX6.js";import{C as v,a as b,b as S,c as w}from"./card-DmUt7_vd.js";import{P as T,T as C,a as P,b as x,c as t,d as A,e as r,f as B}from"./table-e7cw4vTw.js";import{B as D}from"./badge-Cm78e822.js";import{S as H}from"./search-vIY8GYwS.js";import{E as L}from"./eye-Dmoyn9pJ.js";import{S as E}from"./square-pen-9qlHHJ7K.js";import"./app-BBUFBqzS.js";import"./index-BOHH6eXm.js";import"./index-B5uxA-de.js";function O({paymentPlans:a,search:m}){const[c,o]=p.useState(m||""),h=s=>{s.preventDefault(),d.get("/payment-plans",{search:c},{preserveState:!0})},j=s=>{confirm("Are you sure you want to delete this payment plan?")&&d.delete(`/payment-plans/${s.id}`)},l=s=>s===null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(s)),u=s=>{if(!s)return null;let f=s==="Paid"?"default":s==="Paid Partly"?"secondary":"outline";return e.jsx(D,{variant:f,children:s})};return e.jsxs(N,{children:[e.jsx(y,{title:"Payment Plans"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(v,{children:[e.jsxs(b,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(S,{className:"text-2xl",children:"Payment Plans Management"}),e.jsx(n,{href:"/payment-plans/create",children:e.jsxs(i,{children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Add Payment Plan"]})})]}),e.jsxs("form",{onSubmit:h,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(g,{type:"text",placeholder:"Search by property, unit, tenant, status, or notes...",value:c,onChange:s=>o(s.target.value)})}),e.jsx(i,{type:"submit",children:e.jsx(H,{className:"h-4 w-4"})})]})]}),e.jsxs(w,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(C,{children:[e.jsx(P,{children:e.jsxs(x,{children:[e.jsx(t,{children:"Property"}),e.jsx(t,{children:"Unit"}),e.jsx(t,{children:"Tenant"}),e.jsx(t,{className:"text-right",children:"Amount"}),e.jsx(t,{className:"text-right",children:"Paid"}),e.jsx(t,{className:"text-right",children:"Left to Pay"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Date"}),e.jsx(t,{children:"Note"}),e.jsx(t,{children:"Actions"})]})}),e.jsx(A,{children:a.data.map(s=>e.jsxs(x,{className:"hover:bg-gray-50",children:[e.jsx(r,{children:s.property}),e.jsx(r,{children:s.unit}),e.jsx(r,{children:s.tenant}),e.jsx(r,{className:"text-right font-medium text-blue-600",children:l(s.amount)}),e.jsx(r,{className:"text-right text-green-600",children:l(s.paid)}),e.jsx(r,{className:"text-right font-medium text-red-600",children:l(s.left_to_pay)}),e.jsx(r,{children:u(s.status)}),e.jsx(r,{children:new Date(s.dates).toLocaleDateString()}),e.jsx(r,{children:s.notes}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(n,{href:`/payment-plans/${s.id}`,children:e.jsx(i,{variant:"outline",size:"sm",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsx(n,{href:`/payment-plans/${s.id}/edit`,children:e.jsx(i,{variant:"outline",size:"sm",children:e.jsx(E,{className:"h-4 w-4"})})}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>j(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(B,{className:"h-4 w-4"})})]})})]},s.id))})]})}),a.data.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No payment plans found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),a.meta&&e.jsx("div",{className:"mt-6 flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.meta.from||0," to ",a.meta.to||0," of ",a.meta.total||0," results"]})})]})]})})})]})}export{O as default};
