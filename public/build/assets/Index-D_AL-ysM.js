import{u as v,a as y,U as w,j as e,H as P,L as o}from"./app-BydbXvNR.js";import{u as S,A}from"./app-layout-JAdefpY2.js";import{S as R}from"./layout-DWHl97G_.js";import{B as t}from"./app-logo-icon-_X7DW1Ak.js";import{C,a as T,b as k,c as B}from"./card-D9wtjh1c.js";import{P as E,T as H,a as L,b as u,c as a,d as J,e as i,f as O}from"./table-BEFqGt7n.js";import{B as h}from"./badge-18jTDmdE.js";import{S as z}from"./shield-Dvb3SGLV.js";import{E as D}from"./eye-CPs45M0j.js";import{S as U}from"./square-pen-DQ2VcgES.js";import"./app-B_WQW7DO.js";import"./index-BqVwD9uT.js";import"./index-BMp7K-bq.js";function Z({roles:c}){const{delete:j}=v(),{hasPermission:n,hasAnyPermission:m,hasAllPermissions:x}=S(),f=(s,r)=>{confirm(`Are you sure you want to delete the role "${r}"?`)&&j(route("roles.destroy",s))},g=s=>e.jsxs(h,{variant:"secondary",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:[s," permissions"]}),p=s=>{const r=s==="Super-Admin";return e.jsx(h,{variant:r?"destructive":"default",className:r?void 0:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:r?"Protected":"Editable"})},{url:b}=y(),N=b.split("?")[1]??"",l=new URLSearchParams(N).get("bc"),d=w.useMemo(()=>{const s=[{title:"Role",href:"/roles"}];if(!l)return s;try{const r=JSON.parse(l);return Array.isArray(r)?[...r,...s]:s}catch{return s}},[l]);return e.jsx(A,{breadcrumbs:d,children:e.jsxs(R,{children:[e.jsx(P,{title:"Roles"}),e.jsx("div",{className:"py-12 bg-background text-foreground transition-colors min-h-screen",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs(C,{className:"bg-card text-card-foreground shadow-lg",children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{className:"text-2xl",children:"Roles"}),e.jsxs("div",{className:"flex items-center gap-2",children:[n("users.index")&&e.jsx(o,{href:route("users.index"),children:e.jsx(t,{variant:"outline",children:"View Users"})}),x(["roles.store","roles.create"])&&e.jsx(o,{href:route("roles.create"),data:{bc:JSON.stringify(d)},children:e.jsxs(t,{children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Create Role"]})})]})]})}),e.jsx(B,{children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(H,{children:[e.jsx(L,{children:e.jsxs(u,{className:"border-border",children:[e.jsx(a,{className:"text-muted-foreground",children:"ID"}),e.jsx(a,{className:"text-muted-foreground",children:"Role Name"}),e.jsx(a,{className:"text-muted-foreground",children:"Permissions"}),e.jsx(a,{className:"text-muted-foreground",children:"Protected"}),m(["roles.show","roles.destroy","roles.update","roles.edit"])&&e.jsx(a,{className:"text-muted-foreground",children:"Actions"})]})}),e.jsx(J,{children:c.map(s=>e.jsxs(u,{className:"hover:bg-muted/50 border-border",children:[e.jsx(i,{className:"font-medium text-foreground",children:s.id}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.name==="Super-Admin"&&e.jsx(z,{className:"h-4 w-4 text-destructive"}),e.jsx("span",{className:"font-medium text-foreground",children:s.name})]})}),e.jsx(i,{children:g(s.permissions.length)}),e.jsx(i,{children:p(s.name)}),m(["roles.show","roles.destroy","roles.update","roles.edit"])&&e.jsx(i,{children:e.jsxs("div",{className:"flex gap-2",children:[n("roles.show")&&e.jsx(o,{href:route("roles.show",s.id),data:{bc:JSON.stringify(d)},children:e.jsx(t,{variant:"outline",size:"sm",title:"View Role",children:e.jsx(D,{className:"h-4 w-4"})})}),x(["roles.update","roles.edit"])&&e.jsx(o,{href:route("roles.edit",s.id),data:{bc:JSON.stringify(d)},children:e.jsx(t,{variant:"outline",size:"sm",title:"Edit Role",disabled:s.name==="Super-Admin",className:s.name==="Super-Admin"?"opacity-50 cursor-not-allowed":"",children:e.jsx(U,{className:"h-4 w-4"})})}),n("roles.destroy")&&s.name!=="Super-Admin"&&e.jsx(t,{variant:"outline",size:"sm",onClick:()=>f(s.id,s.name),className:"text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",title:"Delete Role",children:e.jsx(O,{className:"h-4 w-4"})})]})})]},s.id))})]}),c.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{className:"text-lg",children:"No roles found."}),e.jsx("p",{className:"text-sm mt-2",children:"Create your first role to get started."})]})]})})]})})})]})})}export{Z as default};
