import{u as L,r as p,j as e,H as U,L as C}from"./app-BeBll9N2.js";import{A as V}from"./app-layout-BGkTWyBp.js";import{B as j}from"./app-logo-icon-ChDn-po9.js";import{I as d}from"./input-pGboiffo.js";import{L as r}from"./label-CEGArH3o.js";import{S as c,a as o,b as x,c as h,d as l}from"./select-CMCsvcmQ.js";import{C as k,a as D,b as P,c as B}from"./card-CsOYtxUe.js";import"./app-DSIzZYCB.js";import"./index-DRR4QPqT.js";import"./index-DleRhxLJ.js";import"./index-B6gmXYrC.js";function W({auth:H,units:I,cities:N,properties:u,unitsByProperty:g}){const{data:i,setData:a,post:_,processing:v,errors:t}=L({city:"",property:"",name:"",co_signer:"",unit:"",status:"",date:"",stage_in_progress:"",notes:"",attachment:null}),[n,b]=p.useState(""),[y,f]=p.useState([]),[S,m]=p.useState([]),A=s=>{b(s),a("city",s),a("property",""),a("unit",""),s&&u[s]?f(u[s]):f([]),m([])},F=s=>{a("property",s),a("unit",""),n&&s&&g[n]?.[s]?m(g[n][s]):m([])},w=s=>{s.preventDefault(),_(route("applications.store"))};return e.jsxs(V,{children:[e.jsx(U,{title:"Create Application"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(k,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(P,{className:"text-2xl",children:"Create New Application"}),e.jsx(C,{href:route("applications.index"),children:e.jsx(j,{variant:"outline",children:"Back to List"})})]})}),e.jsx(B,{children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"city",children:"City *"}),e.jsxs(c,{onValueChange:A,value:n,children:[e.jsx(o,{children:e.jsx(x,{placeholder:"Select city"})}),e.jsx(h,{children:N.map(s=>e.jsx(l,{value:s,children:s},s))})]}),t.city&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.city})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"property",children:"Property *"}),e.jsxs(c,{onValueChange:F,value:i.property,disabled:!n,children:[e.jsx(o,{children:e.jsx(x,{placeholder:"Select property"})}),e.jsx(h,{children:y.map(s=>e.jsx(l,{value:s,children:s},s))})]}),t.property&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.property})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"unit",children:"Unit *"}),e.jsxs(c,{onValueChange:s=>a("unit",s),value:i.unit,disabled:!i.property,children:[e.jsx(o,{children:e.jsx(x,{placeholder:"Select unit"})}),e.jsx(h,{children:S.map(s=>e.jsx(l,{value:s,children:s},s))})]}),t.unit&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.unit})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"name",children:"Name *"}),e.jsx(d,{id:"name",value:i.name,onChange:s=>a("name",s.target.value),error:t.name}),t.name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.name})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"co_signer",children:"Co-signer *"}),e.jsx(d,{id:"co_signer",value:i.co_signer,onChange:s=>a("co_signer",s.target.value),error:t.co_signer}),t.co_signer&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.co_signer})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"status",children:"Status *"}),e.jsxs(c,{onValueChange:s=>a("status",s),value:i.status,children:[e.jsx(o,{children:e.jsx(x,{placeholder:"Select status"})}),e.jsxs(h,{children:[e.jsx(l,{value:"New",children:"New"}),e.jsx(l,{value:"Approved",children:"Approved"}),e.jsx(l,{value:"Undecided",children:"Undecided"})]})]}),t.status&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.status})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"date",children:"Date"}),e.jsx(d,{id:"date",type:"date",value:i.date,onChange:s=>a("date",s.target.value),error:t.date}),t.date&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.date})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"stage_in_progress",children:"Stage in Progress"}),e.jsx(d,{id:"stage_in_progress",value:i.stage_in_progress,onChange:s=>a("stage_in_progress",s.target.value),placeholder:"e.g., Document Review, Background Check, etc.",error:t.stage_in_progress}),t.stage_in_progress&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.stage_in_progress})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",value:i.notes,onChange:s=>a("notes",s.target.value),rows:4,placeholder:"Add any additional notes...",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[100px] resize-vertical"}),t.notes&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.notes})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"attachment",children:"Attachment"}),e.jsx(d,{id:"attachment",type:"file",accept:"*",onChange:s=>a("attachment",s.target.files?.[0]||null),className:"cursor-pointer file:cursor-pointer file:border-0 file:bg-transparent file:text-sm file:font-medium"}),t.attachment&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.attachment})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(C,{href:route("applications.index"),children:e.jsx(j,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(j,{type:"submit",disabled:v,children:v?"Creating...":"Create Application"})]})]})})]})})})]})}export{W as default};
