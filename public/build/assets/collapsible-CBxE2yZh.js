import{r as a,j as p}from"./app-CHDKARjb.js";import{b as y,u as D,c as U}from"./index-BMM8wKPv.js";import{u as T}from"./index-DzrNkgKa.js";import{P as x}from"./index-DzT3tnb6.js";import{u as L}from"./index-DhGOy-yS.js";function F(e,n,{checkForDefaultPrevented:o=!0}={}){return function(t){if(e?.(t),o===!1||!t.defaultPrevented)return n?.(t)}}function W(e,n){return a.useReducer((o,r)=>n[o][r]??o,e)}var w=e=>{const{present:n,children:o}=e,r=$(n),t=typeof o=="function"?o({present:r.isPresent}):a.Children.only(o),l=T(r.ref,k(t));return typeof o=="function"||r.isPresent?a.cloneElement(t,{ref:l}):null};w.displayName="Presence";function $(e){const[n,o]=a.useState(),r=a.useRef(null),t=a.useRef(e),l=a.useRef("none"),c=e?"mounted":"unmounted",[N,s]=W(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const i=h(r.current);l.current=N==="mounted"?i:"none"},[N]),y(()=>{const i=r.current,f=t.current;if(f!==e){const C=l.current,u=h(i);e?s("MOUNT"):u==="none"||i?.display==="none"?s("UNMOUNT"):s(f&&C!==u?"ANIMATION_OUT":"UNMOUNT"),t.current=e}},[e,s]),y(()=>{if(n){let i;const f=n.ownerDocument.defaultView??window,m=u=>{const g=h(r.current).includes(CSS.escape(u.animationName));if(u.target===n&&g&&(s("ANIMATION_END"),!t.current)){const v=n.style.animationFillMode;n.style.animationFillMode="forwards",i=f.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=v)})}},C=u=>{u.target===n&&(l.current=h(r.current))};return n.addEventListener("animationstart",C),n.addEventListener("animationcancel",m),n.addEventListener("animationend",m),()=>{f.clearTimeout(i),n.removeEventListener("animationstart",C),n.removeEventListener("animationcancel",m),n.removeEventListener("animationend",m)}}else s("ANIMATION_END")},[n,s]),{isPresent:["mounted","unmountSuspended"].includes(N),ref:a.useCallback(i=>{r.current=i?getComputedStyle(i):null,o(i)},[])}}function h(e){return e?.animationName||"none"}function k(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=n&&"isReactWarning"in n&&n.isReactWarning;return o?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=n&&"isReactWarning"in n&&n.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var A="Collapsible",[B,X]=U(A),[G,P]=B(A),I=a.forwardRef((e,n)=>{const{__scopeCollapsible:o,open:r,defaultOpen:t,disabled:l,onOpenChange:c,...N}=e,[s,i]=D({prop:r,defaultProp:t??!1,onChange:c,caller:A});return p.jsx(G,{scope:o,disabled:l,contentId:L(),open:s,onOpenToggle:a.useCallback(()=>i(f=>!f),[i]),children:p.jsx(x.div,{"data-state":O(s),"data-disabled":l?"":void 0,...N,ref:n})})});I.displayName=A;var S="CollapsibleTrigger",_=a.forwardRef((e,n)=>{const{__scopeCollapsible:o,...r}=e,t=P(S,o);return p.jsx(x.button,{type:"button","aria-controls":t.contentId,"aria-expanded":t.open||!1,"data-state":O(t.open),"data-disabled":t.disabled?"":void 0,disabled:t.disabled,...r,ref:n,onClick:F(e.onClick,t.onOpenToggle)})});_.displayName=S;var E="CollapsibleContent",j=a.forwardRef((e,n)=>{const{forceMount:o,...r}=e,t=P(E,e.__scopeCollapsible);return p.jsx(w,{present:o||t.open,children:({present:l})=>p.jsx(q,{...r,ref:n,present:l})})});j.displayName=E;var q=a.forwardRef((e,n)=>{const{__scopeCollapsible:o,present:r,children:t,...l}=e,c=P(E,o),[N,s]=a.useState(r),i=a.useRef(null),f=T(n,i),m=a.useRef(0),C=m.current,u=a.useRef(0),b=u.current,g=c.open||N,v=a.useRef(g),R=a.useRef(void 0);return a.useEffect(()=>{const d=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(d)},[]),y(()=>{const d=i.current;if(d){R.current=R.current||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName},d.style.transitionDuration="0s",d.style.animationName="none";const M=d.getBoundingClientRect();m.current=M.height,u.current=M.width,v.current||(d.style.transitionDuration=R.current.transitionDuration,d.style.animationName=R.current.animationName),s(r)}},[c.open,r]),p.jsx(x.div,{"data-state":O(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!g,...l,ref:f,style:{"--radix-collapsible-content-height":C?`${C}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:g&&t})});function O(e){return e?"open":"closed"}var H=I;function Y({...e}){return p.jsx(H,{"data-slot":"collapsible",...e})}function Z({...e}){return p.jsx(_,{"data-slot":"collapsible-trigger",...e})}function ee({...e}){return p.jsx(j,{"data-slot":"collapsible-content",...e})}export{Y as C,Z as a,ee as b};
