import{r as n,j as s}from"./app-IncGAUEB.js";import{L as u}from"./label-BhALl-XJ.js";import{I as w}from"./input-BKi6rfRv.js";import"./app-DgqXL21p.js";import"./index-yZxLUvKN.js";import"./index-bCzQdt7o.js";import"./utils-CBfrqCZ4.js";function C({value:h,onChange:i,error:c,tenants:t=[],disabled:l=!1}){const[p,r]=n.useState(!1),[d,o]=n.useState(t);n.useMemo(()=>{o(t)},[t]);const f=e=>{if(i(e),e.trim()==="")o(t);else{const m=t.filter(a=>`${a.first_name} ${a.last_name}`.toLowerCase().includes(e.toLowerCase())||a.first_name.toLowerCase().includes(e.toLowerCase())||a.last_name.toLowerCase().includes(e.toLowerCase()));o(m)}r(!0)},x=e=>{const m=`${e.first_name} ${e.last_name}`;i(m),r(!1)};return s.jsxs("div",{className:"rounded-lg border-l-4 border-l-pink-500 p-4",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx(u,{htmlFor:"other_tenants",className:"text-base font-semibold",children:"Other Tenant Names"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"You can select from the dropdown or type custom names"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(w,{id:"other_tenants",type:"text",placeholder:l?"Select a unit first":"Type tenant names or select from dropdown",value:h,onChange:e=>f(e.target.value),onFocus:()=>{l||(o(t),r(t.length>0))},onBlur:()=>{setTimeout(()=>r(!1),200)},disabled:l,className:"w-full"}),p&&d.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:d.map(e=>s.jsxs("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>x(e),children:[e.first_name," ",e.last_name]},e.id))})]}),c&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c})]})}export{C as default};
