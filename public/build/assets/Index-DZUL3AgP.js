import{r as p,j as e,H as b,L as d,b as x}from"./app-BydbXvNR.js";import{u as v,A as y}from"./app-layout-JAdefpY2.js";import{B as n}from"./app-logo-icon-_X7DW1Ak.js";import{I as w}from"./input-D0VuUaJ9.js";import{C as S,a as D,b as A,c as T}from"./card-D9wtjh1c.js";import{P as L,T as M,a as C,b as u,c as s,d as P,e as r,f as k}from"./table-BEFqGt7n.js";import{B as h}from"./badge-18jTDmdE.js";import{S as B}from"./search-BwFZdpyj.js";import{E as H}from"./eye-CPs45M0j.js";import{S as E}from"./square-pen-DQ2VcgES.js";import"./app-B_WQW7DO.js";import"./index-BqVwD9uT.js";import"./index-BMp7K-bq.js";function X({moveIns:a,search:f}){const[o,g]=p.useState(f||""),j=t=>{t.preventDefault(),x.get(route("move-in.index"),{search:o},{preserveState:!0})},{hasPermission:l,hasAnyPermission:c,hasAllPermissions:m}=v(),N=t=>{confirm("Are you sure you want to delete this move-in record?")&&x.delete(route("move-in.destroy",t.id))},i=t=>t===null?e.jsx(h,{variant:"outline",children:"N/A"}):e.jsx(h,{variant:t==="Yes"?"default":"secondary",className:t==="Yes"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",children:t}),_=[{title:"MoveIn",href:"/move-in"}];return e.jsxs(y,{breadcrumbs:_,children:[e.jsx(b,{title:"Move-In Management"}),e.jsx("div",{className:"py-12 bg-background text-foreground transition-colors min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(S,{className:"bg-card text-card-foreground shadow-lg",children:[e.jsxs(D,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(A,{className:"text-2xl",children:"Move-In Management"}),m(["move-in.create","move-in.store"])&&e.jsx(d,{href:route("move-in.create"),children:e.jsxs(n,{children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Add Move-In Record"]})})]}),e.jsxs("form",{onSubmit:j,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(w,{type:"text",placeholder:"Search by unit name or status...",value:o,onChange:t=>g(t.target.value),className:"bg-input text-input-foreground"})}),e.jsx(n,{type:"submit",children:e.jsx(B,{className:"h-4 w-4"})})]})]}),e.jsxs(T,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(M,{children:[e.jsx(C,{children:e.jsxs(u,{className:"border-border",children:[e.jsx(s,{className:"text-muted-foreground",children:"Unit Name"}),e.jsx(s,{className:"text-muted-foreground",children:"Signed Lease"}),e.jsx(s,{className:"text-muted-foreground",children:"Lease Signing Date"}),e.jsx(s,{className:"text-muted-foreground",children:"Move-In Date"}),e.jsx(s,{className:"text-muted-foreground",children:"Paid Security & First Month"}),e.jsx(s,{className:"text-muted-foreground",children:"Scheduled Payment Date"}),e.jsx(s,{className:"text-muted-foreground",children:"Handled Keys"}),e.jsx(s,{className:"text-muted-foreground",children:"Move in form sent On"}),e.jsx(s,{className:"text-muted-foreground",children:"Filled Move-In Form"}),e.jsx(s,{className:"text-muted-foreground",children:"Date of move in form filled in"}),e.jsx(s,{className:"text-muted-foreground",children:"Submitted Insurance"}),e.jsx(s,{className:"text-muted-foreground",children:"Date of Insurance expiration"}),c(["move-in.show","move-in.edit","move-in.update","move-in.destroy"])&&e.jsx(s,{className:"text-muted-foreground",children:"Actions"})]})}),e.jsx(P,{children:a.data.map(t=>e.jsxs(u,{className:"hover:bg-muted/50 border-border",children:[e.jsx(r,{className:"font-medium text-foreground",children:t.unit_name}),e.jsx(r,{children:i(t.signed_lease)}),e.jsx(r,{className:"text-foreground",children:t.lease_signing_date?new Date(t.lease_signing_date).toLocaleDateString():"N/A"}),e.jsx(r,{className:"text-foreground",children:t.move_in_date?new Date(t.move_in_date).toLocaleDateString():"N/A"}),e.jsx(r,{children:i(t.paid_security_deposit_first_month_rent)}),e.jsx(r,{className:"text-foreground",children:t.scheduled_paid_time?new Date(t.scheduled_paid_time).toLocaleDateString():"N/A"}),e.jsx(r,{children:i(t.handled_keys)}),e.jsx(r,{className:"text-foreground",children:t.move_in_form_sent_date?new Date(t.move_in_form_sent_date).toLocaleDateString():"N/A"}),e.jsx(r,{children:i(t.filled_move_in_form)}),e.jsx(r,{className:"text-foreground",children:t.date_of_move_in_form_filled?new Date(t.date_of_move_in_form_filled).toLocaleDateString():"N/A"}),e.jsx(r,{children:i(t.submitted_insurance)}),e.jsx(r,{className:"text-foreground",children:t.date_of_insurance_expiration?new Date(t.date_of_insurance_expiration).toLocaleDateString():"N/A"}),c(["move-in.show","move-in.edit","move-in.update","move-in.destroy"])&&e.jsx(r,{children:e.jsxs("div",{className:"flex gap-1",children:[l("move-in.show")&&e.jsx(d,{href:route("move-in.show",t.id),children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(H,{className:"h-4 w-4"})})}),m(["move-in.edit","move-in.update"])&&e.jsx(d,{href:route("move-in.edit",t.id),children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(E,{className:"h-4 w-4"})})}),l("move-in.destroy")&&e.jsx(n,{variant:"outline",size:"sm",onClick:()=>N(t),className:"text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:e.jsx(k,{className:"h-4 w-4"})})]})})]},t.id))})]})}),a.data.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{className:"text-lg",children:"No move-in records found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),a.meta&&e.jsx("div",{className:"mt-6 flex justify-between items-center border-t border-border pt-4",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",a.meta.from||0," to ",a.meta.to||0," of ",a.meta.total||0," results"]})})]})]})})})]})}export{X as default};
