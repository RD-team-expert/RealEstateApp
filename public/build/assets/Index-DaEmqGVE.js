import{r as v,j as e,H as w,L as i,b as u}from"./app-BydbXvNR.js";import{u as P,A as S}from"./app-layout-JAdefpY2.js";import{B as d}from"./app-logo-icon-_X7DW1Ak.js";import{I as k}from"./input-D0VuUaJ9.js";import{C,a as T,b as A,c as B}from"./card-D9wtjh1c.js";import{P as L,T as D,a as _,b as h,c as s,d as H,e as r,f as E}from"./table-BEFqGt7n.js";import{B as n}from"./badge-18jTDmdE.js";import{S as I}from"./search-BwFZdpyj.js";import{E as z}from"./eye-CPs45M0j.js";import{S as R}from"./square-pen-DQ2VcgES.js";import"./app-B_WQW7DO.js";import"./index-BqVwD9uT.js";import"./index-BMp7K-bq.js";function Z({payments:a,search:g}){const{hasPermission:o,hasAnyPermission:c,hasAllPermissions:m}=P(),[x,j]=v.useState(g||""),f=t=>{t.preventDefault(),u.get(route("payments.index"),{search:x},{preserveState:!0})},N=t=>{confirm("Are you sure you want to delete this payment?")&&u.delete(route("payments.destroy",t.id))},l=t=>t===null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),y=t=>t?t.toLowerCase().includes("paid")?e.jsx(n,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:t}):t.toLowerCase().includes("pending")?e.jsx(n,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",children:t}):e.jsx(n,{variant:"outline",children:t}):e.jsx(n,{variant:"outline",children:"N/A"}),p=t=>t?e.jsx(n,{variant:t==="Yes"?"default":"secondary",className:t==="Yes"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",children:t}):e.jsx(n,{variant:"outline",children:"N/A"}),b=[{title:"Payments",href:"/payments"}];return e.jsxs(S,{breadcrumbs:b,children:[e.jsx(w,{title:"Payments"}),e.jsx("div",{className:"py-12 bg-background text-foreground transition-colors min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(C,{className:"bg-card text-card-foreground shadow-lg",children:[e.jsxs(T,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(A,{className:"text-2xl",children:"Payments Management"}),m(["payments.create","payments.store"])&&e.jsx(i,{href:route("payments.create"),children:e.jsxs(d,{children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Add Payment"]})})]}),e.jsxs("form",{onSubmit:f,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(k,{type:"text",placeholder:"Search payments by city, unit, status, or notes...",value:x,onChange:t=>j(t.target.value),className:"bg-input text-input-foreground"})}),e.jsx(d,{type:"submit",children:e.jsx(I,{className:"h-4 w-4"})})]})]}),e.jsxs(B,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(D,{children:[e.jsx(_,{children:e.jsxs(h,{className:"border-border",children:[e.jsx(s,{className:"text-muted-foreground",children:"Date"}),e.jsx(s,{className:"text-muted-foreground",children:"City"}),e.jsx(s,{className:"text-muted-foreground",children:"Unit Name"}),e.jsx(s,{className:"text-right text-muted-foreground",children:"Owes"}),e.jsx(s,{className:"text-right text-muted-foreground",children:"Paid"}),e.jsx(s,{className:"text-right text-muted-foreground",children:"Left to Pay"}),e.jsx(s,{className:"text-muted-foreground",children:"Status"}),e.jsx(s,{className:"text-muted-foreground",children:"Note"}),e.jsx(s,{className:"text-muted-foreground",children:"Reversed Payments"}),e.jsx(s,{className:"text-muted-foreground",children:"Permanent"}),c(["payments.show","payments.edit","payments.update","payments.destroy"])&&e.jsx(s,{className:"text-muted-foreground",children:"Actions"})]})}),e.jsx(H,{children:a.data.map(t=>e.jsxs(h,{className:"hover:bg-muted/50 border-border",children:[e.jsx(r,{className:"text-foreground",children:new Date(t.date).toLocaleDateString()}),e.jsx(r,{className:"font-medium text-foreground",children:t.city}),e.jsx(r,{className:"text-foreground",children:t.unit_name}),e.jsx(r,{className:"text-right font-medium text-red-600 dark:text-red-400",children:l(t.owes)}),e.jsx(r,{className:"text-right text-green-600 dark:text-green-400",children:l(t.paid)}),e.jsx(r,{className:"text-right font-medium text-blue-600 dark:text-blue-400",children:l(t.left_to_pay)}),e.jsx(r,{children:y(t.status)}),e.jsx(r,{className:"text-foreground",children:t.notes}),e.jsx(r,{className:"text-foreground",children:t.reversed_payments}),e.jsx(r,{children:p(t.permanent)}),c(["payments.show","payments.edit","payments.update","payments.destroy"])&&e.jsx(r,{children:e.jsxs("div",{className:"flex gap-1",children:[o("payments.show")&&e.jsx(i,{href:route("payments.show",t.id),children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx(z,{className:"h-4 w-4"})})}),m(["payments.edit","payments.update"])&&e.jsx(i,{href:route("payments.edit",t.id),children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx(R,{className:"h-4 w-4"})})}),o("payments.destroy")&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>N(t),className:"text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:e.jsx(E,{className:"h-4 w-4"})})]})})]},t.id))})]})}),a.data.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{className:"text-lg",children:"No payments found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),a.meta&&e.jsx("div",{className:"mt-6 flex justify-between items-center border-t border-border pt-4",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",a.meta.from||0," to ",a.meta.to||0," of ",a.meta.total||0," results"]})})]})]})})})]})}export{Z as default};
