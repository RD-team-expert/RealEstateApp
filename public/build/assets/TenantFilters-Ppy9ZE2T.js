import{r as s,j as t}from"./app-p7g_f0wo.js";import{B as g}from"./button-CgWb-OwV.js";import{I as c}from"./input-DiaYLKYe.js";import{S as z}from"./search-BU1dLuL3.js";import{R as E}from"./rotate-ccw-B0P468a6.js";import"./app-D9ss4c-j.js";import"./index-6lgmZUbB.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-DCkjgf37.js";const H=({cities:x,properties:v,uniqueUnitNames:y,onSearch:w,onClear:b,initialFilters:C={city:"",property:"",unitName:"",search:""}})=>{const[o,N]=s.useState(C),[j,a]=s.useState(!1),[S,l]=s.useState(!1),[D,i]=s.useState(!1),p=s.useRef(null),d=s.useRef(null),u=s.useRef(null);s.useEffect(()=>{const e=r=>{p.current&&!p.current.contains(r.target)&&a(!1),d.current&&!d.current.contains(r.target)&&l(!1),u.current&&!u.current.contains(r.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const n=(e,r)=>{N(F=>({...F,[e]:r}))},R=e=>{n("city",e.city),a(!1)},L=e=>{n("property",e.property_name),l(!1)},k=e=>{n("unitName",e),i(!1)},m=x.filter(e=>e.city.toLowerCase().includes(o.city.toLowerCase())),h=v.filter(e=>e.property_name.toLowerCase().includes(o.property.toLowerCase())),f=y.filter(e=>e.toLowerCase().includes(o.unitName.toLowerCase()));return t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"relative",ref:p,children:[t.jsx(c,{type:"text",placeholder:"City",value:o.city,onChange:e=>{const r=e.target.value;n("city",r),a(r.length>0)},onFocus:()=>a(o.city.length>0),className:"text-input-foreground bg-input"}),j&&m.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:m.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>R(e),children:e.city},e.id))})]}),t.jsxs("div",{className:"relative",ref:d,children:[t.jsx(c,{type:"text",placeholder:"Property",value:o.property,onChange:e=>{const r=e.target.value;n("property",r),l(r.length>0)},onFocus:()=>l(o.property.length>0),className:"text-input-foreground bg-input"}),S&&h.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:h.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>L(e),children:e.property_name},e.id))})]}),t.jsxs("div",{className:"relative",ref:u,children:[t.jsx(c,{type:"text",placeholder:"Unit Name",value:o.unitName,onChange:e=>{const r=e.target.value;n("unitName",r),i(r.length>0)},onFocus:()=>i(o.unitName.length>0),className:"text-input-foreground bg-input"}),D&&f.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:f.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>k(e),children:e},e))})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(c,{type:"text",placeholder:"Search tenants...",value:o.search,onChange:e=>n("search",e.target.value),className:"text-input-foreground bg-input flex-1"}),t.jsx(g,{type:"button",onClick:()=>w(o),size:"sm",children:t.jsx(z,{className:"h-4 w-4"})}),t.jsx(g,{type:"button",onClick:b,size:"sm",variant:"outline",title:"Clear all filters",children:t.jsx(E,{className:"h-4 w-4"})})]})]})};export{H as TenantFilters};
