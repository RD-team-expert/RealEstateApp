import{j as e,L as i}from"./app-XlMZG7vD.js";import{B as l}from"./badge-amDNRRn_.js";import{B as x}from"./button-D56PIbu9.js";import{b as u,e as t}from"./table-Dsn5Ek_l.js";import{F as b}from"./file-text-BMgerFDx.js";import{E as f}from"./eye-L6iv3Y43.js";import{S as h}from"./square-pen-DJiq7j_0.js";import{T as N}from"./trash-2-CisDGbUX.js";import{f as j}from"./format-PYUiRpxY.js";import"./app-D9zByHv3.js";import"./index-D09_T-bu.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-BneQKrth.js";const g=(r,o="-")=>{if(!r)return o;const d=/^(\d{4})-(\d{2})-(\d{2})/.exec(r);if(!d)return o;const[,n,a,m]=d,s=new Date(Number(n),Number(a)-1,Number(m));return j(s,"P")},p=r=>r?e.jsx(l,{variant:"default",children:r}):e.jsx(l,{variant:"outline",children:"No Status"});function L({application:r,onEdit:o,onDelete:d,hasViewPermission:n,hasEditPermission:a,hasDeletePermission:m,filters:s}){const c=r.attachments?.length||0;return e.jsxs(u,{className:"border-border hover:bg-muted/50",children:[e.jsx(t,{className:"sticky left-0 z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.city}),e.jsx(t,{className:"sticky left-[120px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.property}),e.jsx(t,{className:"sticky left-[270px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.unit_name}),e.jsx(t,{className:"border border-border text-center text-foreground",children:r.name}),e.jsx(t,{className:"border border-border text-center text-foreground",children:r.co_signer||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(t,{className:"border border-border text-center",children:p(r.status)}),e.jsx(t,{className:"border border-border text-center text-foreground",children:r.applicant_applied_from||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(t,{className:"border border-border text-center text-foreground",children:g(r.date)}),e.jsx(t,{className:"border border-border text-center text-foreground",children:r.stage_in_progress||"N/A"}),e.jsx(t,{className:"border border-border text-center",children:r.notes?e.jsx("div",{className:"max-w-24 truncate",title:r.notes,children:r.notes}):e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(t,{className:"border border-border text-center",children:c>0?e.jsxs(l,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(b,{className:"h-3 w-3"}),c," ",c===1?"file":"files"]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"No files"})}),(n||a||m)&&e.jsx(t,{className:"border border-border text-center",children:e.jsxs("div",{className:"flex gap-1",children:[n&&e.jsx(i,{href:route("applications.show",{application:r.id,city:s?.city||"",property:s?.property||"",unit:s?.unit||"",name:s?.name||"",applicant_applied_from:s?.applicant_applied_from||""}),children:e.jsx(x,{variant:"outline",size:"sm",children:e.jsx(f,{className:"h-4 w-4"})})}),a&&e.jsx(x,{variant:"outline",size:"sm",onClick:()=>o(r),children:e.jsx(h,{className:"h-4 w-4"})}),m&&e.jsx(x,{variant:"outline",size:"sm",onClick:()=>d(r),className:"border-destructive/20 text-destructive hover:bg-destructive/10 hover:text-destructive",children:e.jsx(N,{className:"h-4 w-4"})})]})})]})}export{L as default};
