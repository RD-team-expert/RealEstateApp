import{r as m,j as e,H as y,L as d,b as u}from"./app-C1twEVwI.js";import{u as b,A}from"./app-layout-DkJIfOWg.js";import{B as r}from"./app-logo-icon-CaMXxJye.js";import{I as D}from"./input-NXhmTsJ2.js";import{C as T,a as L,b as C,c as B}from"./card-qxLiEYpz.js";import{P,T as R,a as H,b as f,c as a,d as O,e as n,f as k}from"./table-3ioI8PwR.js";import{B as l}from"./badge-Bj6s11Mw.js";import{S as E}from"./search-CpqKyOVj.js";import{E as F}from"./eye--djmK1ZG.js";import{S as z}from"./square-pen-DFDPNGb5.js";import"./app-CHbdQBn0.js";import"./index-BgfIhE8z.js";import"./index-BZECT6gi.js";const I=[{label:"Offers",value:"offers"},{label:"Renewals",value:"renewals"},{label:"Both",value:"both"}],ee=({offers:w,search:p})=>{const[c,N]=m.useState(p||""),[t,_]=m.useState("offers"),i=w.filter(s=>!0),g=s=>{s.preventDefault(),u.get(route("offers-and-renewals.index"),{search:c},{preserveState:!0})},v=s=>{window.confirm("Are you sure you want to delete this offer? This action cannot be undone.")&&u.delete(`/offers_and_renewals/${s.id}`)},S=s=>s?e.jsx(l,{variant:"default",children:s}):e.jsx(l,{variant:"outline",children:"N/A"}),o=s=>!s||s==="-"?e.jsx(l,{variant:"outline",children:"N/A"}):e.jsx(l,{variant:s==="Yes"?"default":"secondary",children:s}),{hasPermission:x,hasAnyPermission:h,hasAllPermissions:j}=b();return e.jsxs(A,{children:[e.jsx(y,{title:"Offers and Renewals"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(T,{children:[e.jsxs(L,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(C,{className:"text-2xl",children:"Offers and Renewals"}),j(["offers-and-renewals.create","offers-and-renewals.store"])&&e.jsx(d,{href:"/offers_and_renewals/create",children:e.jsxs(r,{children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Add New"]})})]}),e.jsxs("form",{onSubmit:g,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(D,{type:"text",placeholder:"Search by unit, tenant, or status...",value:c,onChange:s=>N(s.target.value)})}),e.jsx(r,{type:"submit",children:e.jsx(E,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:I.map(s=>e.jsx(r,{variant:t===s.value?"default":"outline",onClick:()=>_(s.value),children:s.label},s.value))})]}),e.jsxs(B,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(R,{children:[e.jsx(H,{children:e.jsxs(f,{children:[e.jsx(a,{children:"Unit"}),e.jsx(a,{children:"Tenant"}),(t==="offers"||t==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(a,{children:"Date Sent Offer"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"Date of Acceptance"}),e.jsx(a,{children:"Offer Last Notice Sent"}),e.jsx(a,{children:"Offer Notice Kind"})]}),(t==="renewals"||t==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(a,{children:"Lease Sent?"}),e.jsx(a,{children:"Date Sent Lease"}),e.jsx(a,{children:"Lease Signed?"}),e.jsx(a,{children:"Date Signed"}),e.jsx(a,{children:"Renewal Last Notice Sent"}),e.jsx(a,{children:"Renewal Notice Kind"}),e.jsx(a,{children:"Notes"})]}),e.jsx(a,{children:"How Many Days Left"}),e.jsx(a,{children:"Expired"}),h(["offers-and-renewals.show","offers-and-renewals.edit","offers-and-renewals.update","offers-and-renewals.destroy"])&&e.jsx(a,{children:"Actions"})]})}),e.jsx(O,{children:i.map(s=>e.jsxs(f,{className:"hover:bg-gray-50",children:[e.jsx(n,{className:"font-medium",children:s.unit}),e.jsx(n,{children:s.tenant}),(t==="offers"||t==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(n,{children:s.date_sent_offer?new Date(s.date_sent_offer).toLocaleDateString():"N/A"}),e.jsx(n,{children:S(s.status)}),e.jsx(n,{children:s.date_of_acceptance?new Date(s.date_of_acceptance).toLocaleDateString():"N/A"}),e.jsx(n,{children:s.last_notice_sent?new Date(s.last_notice_sent).toLocaleDateString():"N/A"}),e.jsx(n,{children:s.notice_kind||"N/A"})]}),(t==="renewals"||t==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(n,{children:o(s.lease_sent)}),e.jsx(n,{children:s.date_sent_lease?new Date(s.date_sent_lease).toLocaleDateString():"N/A"}),e.jsx(n,{children:o(s.lease_signed)}),e.jsx(n,{children:s.date_signed?new Date(s.date_signed).toLocaleDateString():"N/A"}),e.jsx(n,{children:s.last_notice_sent_2?new Date(s.last_notice_sent_2).toLocaleDateString():"N/A"}),e.jsx(n,{children:s.notice_kind_2||"N/A"}),e.jsx(n,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",title:s.notes||"N/A",children:s.notes||"N/A"})})]}),e.jsx(n,{children:s.how_many_days_left||"0"}),e.jsx(n,{children:e.jsx(l,{variant:s.expired==="expired"?"destructive":"default",children:s.expired??"N/A"})}),h(["offers-and-renewals.show","offers-and-renewals.edit","offers-and-renewals.update","offers-and-renewals.destroy"])&&e.jsx(n,{children:e.jsxs("div",{className:"flex gap-1",children:[x("offers-and-renewals.show")&&e.jsx(d,{href:`/offers_and_renewals/${s.id}`,children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(F,{className:"h-4 w-4"})})}),j(["offers-and-renewals.edit","offers-and-renewals.update"])&&e.jsx(d,{href:`/offers_and_renewals/${s.id}/edit`,children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(z,{className:"h-4 w-4"})})}),x("offers-and-renewals.destroy")&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>v(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(k,{className:"h-4 w-4"})})]})})]},s.id))})]})}),i.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No offers found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),e.jsx("div",{className:"mt-6 flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.length," ",t]})})]})]})})})]})};export{ee as default};
