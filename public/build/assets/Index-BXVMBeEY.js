import{r as s,u as ke,b as Se,a as P,j as e,H as _e}from"./app-BkyZySAt.js";import{B as w}from"./badge-tV_scfVa.js";import{B as u}from"./button-DOkiOPMq.js";import{C as q,a as X,b as K,c as oe}from"./card-BSlFV5gi.js";import{I as $}from"./input-nS05NghJ.js";import{L as re}from"./label-BCoYkVMj.js";import{T as Ae,a as De,b as te,c as l,d as Te,e as c}from"./table-DsKiQ4vI.js";import{u as Ee,A as Fe}from"./app-layout-CUDU1EFq.js";import Ie from"./TenantCreateDrawer-Bv3Ca4yy.js";import ze from"./TenantEditDrawer-DJRq3yaM.js";import{D as Pe}from"./download-DxNOAkY-.js";import{U as Y,F as se}from"./upload-Dhd0C1PV.js";import{P as $e}from"./plus-DTSW7Jno.js";import{S as Le}from"./search-BY45Y726.js";import{R as Re}from"./rotate-ccw-BwJf_ZtU.js";import{S as Ue}from"./square-pen-ChyjgJxS.js";import{T as Ve}from"./trash-2-ChJ1J_da.js";import{X as W}from"./x-B9Nlqjs5.js";import{L as Be}from"./loader-circle-DXN8Ouvn.js";import{C as ne}from"./circle-check-big-CGBb6PER.js";import{C as ae}from"./circle-alert-BcAFSyE0.js";import{C as Me}from"./circle-x-68zDB_UW.js";import"./app-oDNfBSri.js";import"./index-DJP-tLWC.js";import"./utils-CBfrqCZ4.js";import"./index-CSRjvr9u.js";import"./index-B_abII33.js";import"./index-Dc_FVRD7.js";import"./index-D86DOQfL.js";import"./index-Zsm6T9Ra.js";import"./index-DBw3aPE3.js";import"./index-CEATnq5y.js";import"./index-m091_WFs.js";import"./index-DzIcFn8W.js";import"./index-DEy3YO5y.js";import"./index-B2wSjM2m.js";import"./index-DCBTnY57.js";import"./createLucideIcon-D3eUMA-Y.js";import"./collapsible-Dttt_w3O.js";import"./chevron-right-Dq99BrXh.js";import"./index-DvetPajZ.js";import"./log-out-B7H3SWOF.js";import"./app-logo-icon-BSvCg9K3.js";import"./house-TX0f6Zqy.js";import"./building-BbJM-Q5U.js";import"./users-C8GbH6-0.js";import"./wrench-BBOVsUgY.js";import"./credit-card-DEc-A8LR.js";import"./dollar-sign-jUoIv82C.js";import"./file-text-Bx2ai-5c.js";import"./triangle-alert-BMumWF7Z.js";import"./bell-hSdBu80X.js";import"./drawer-BQHCt03g.js";import"./select-RK3poDcU.js";import"./index-DsMWzC3p.js";import"./chevron-down-BKwinLVR.js";import"./check-MTPBeqEd.js";import"./chevron-up-CJrmsHZ1.js";import"./radioGroup-DeV4OTT4.js";const He=(t,m="tenants.csv")=>{const i=[["ID","City","Property Name","Unit Number","First Name","Last Name","Street Address","Login Email","Alternate Email","Mobile","Emergency Phone","Payment Method","Has Insurance","Sensitive Communication","Has Assistance","Assistance Amount","Assistance Company"].join(","),...t.map(a=>[a.id,`"${a.city_name||""}"`,`"${a.property_name||""}"`,`"${a.unit_number||""}"`,`"${a.first_name||""}"`,`"${a.last_name||""}"`,`"${(a.street_address_line||"").replace(/"/g,'""')}"`,`"${a.login_email||""}"`,`"${a.alternate_email||""}"`,`"${a.mobile||""}"`,`"${a.emergency_phone||""}"`,`"${a.cash_or_check||""}"`,`"${a.has_insurance||""}"`,`"${a.sensitive_communication||""}"`,`"${a.has_assistance||""}"`,`"${a.assistance_amount||""}"`,`"${(a.assistance_company||"").replace(/"/g,'""')}"`].join(","))].join(`
`),x=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),g=URL.createObjectURL(x);o.setAttribute("href",g),o.setAttribute("download",m),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(g)},Oe=({type:t,message:m,onClose:p,duration:i=4e3})=>{s.useEffect(()=>{const g=setTimeout(()=>{p()},i);return()=>clearTimeout(g)},[p,i]);const x=()=>{switch(t){case"success":return e.jsx(ne,{className:"h-5 w-5 text-green-500"});case"error":return e.jsx(Me,{className:"h-5 w-5 text-red-500"});case"info":return e.jsx(ae,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(ae,{className:"h-5 w-5 text-blue-500"})}},o=()=>{switch(t){case"success":return"bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800";case"error":return"bg-red-50 border-red-200 dark:bg-red-950 dark:border-red-800";case"info":return"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800";default:return"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800"}};return e.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-md min-w-80 transform rounded-lg border p-4 shadow-lg transition-all duration-300 ease-in-out ${o()}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[x(),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium text-foreground",children:m})}),e.jsx(u,{variant:"ghost",size:"sm",onClick:p,className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground",children:e.jsx(W,{className:"h-4 w-4"})})]})})},Ye=()=>{const[t,m]=s.useState(null),p=s.useCallback((x,o)=>{m({type:x,message:o})},[]),i=s.useCallback(()=>{m(null)},[]);return{notification:t,showNotification:p,hideNotification:i}},qe=({stats:t,onClose:m})=>t?e.jsxs(q,{className:"mb-6 border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/20",children:[e.jsx(X,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-green-600"}),e.jsx(oe,{className:"text-lg font-semibold text-green-800 dark:text-green-200",children:"Import Completed Successfully"})]}),e.jsx(u,{onClick:m,variant:"ghost",size:"sm",className:"text-green-600 hover:text-green-800 dark:text-green-400",children:e.jsx(W,{className:"h-4 w-4"})})]})}),e.jsx(K,{children:e.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:t.successful_imports}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Success"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:t.errors}),e.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Errors"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:t.duplicates}),e.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:"Duplicates"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:t.total_processed}),e.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Total Processed"})]})]})})]}):null,Xe=({isOpen:t,onClose:m,onSubmit:p,isLoading:i})=>{const x=s.useRef(null),[o,g]=s.useState(null),[a,N]=s.useState(!1),[C,k]=s.useState(!1),D=n=>{n&&(n.type==="text/csv"||n.name.toLowerCase().endsWith(".csv"))?g(n):alert("Please select a valid CSV file.")},S=n=>{const f=n.target.files?.[0];f&&D(f)},L=n=>{n.preventDefault(),N(!1);const f=n.dataTransfer.files[0];f&&D(f)},R=n=>{n.preventDefault(),o&&p(o,C)},T=()=>{g(null),N(!1),k(!1),x.current&&(x.current.value="")},_=()=>{T(),m()},U=()=>{window.location.href=route("tenants.import.template")};return s.useEffect(()=>{t||T()},[t]),t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs(q,{className:"w-full max-w-md bg-background",children:[e.jsx(X,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-primary"}),e.jsx(oe,{children:"Import Tenants from CSV"})]}),e.jsx(u,{onClick:_,variant:"ghost",size:"sm",disabled:i,children:e.jsx(W,{className:"h-4 w-4"})})]})}),e.jsx(K,{children:e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(re,{children:"CSV File"}),e.jsxs("div",{className:`rounded-lg border-2 border-dashed p-6 text-center transition-colors ${a?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,onDrop:L,onDragOver:n=>{n.preventDefault(),N(!0)},onDragLeave:()=>N(!1),children:[o?e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{className:"mx-auto h-8 w-8 text-green-600"}),e.jsx("p",{className:"font-medium text-green-700",children:o.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[(o.size/1024).toFixed(1)," KB"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{className:"mx-auto h-8 w-8 text-muted-foreground"}),e.jsxs("p",{className:"text-muted-foreground",children:["Drop your CSV file here or"," ",e.jsx(u,{type:"button",variant:"link",className:"h-auto p-0 text-primary",onClick:()=>x.current?.click(),children:"browse files"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"CSV files only, max 10MB"})]}),e.jsx("input",{ref:x,type:"file",accept:".csv",onChange:S,className:"hidden",disabled:i})]})]}),e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Required CSV Columns"}),e.jsx(u,{type:"button",variant:"link",size:"sm",onClick:U,className:"h-auto p-0 text-xs text-primary",children:"Download Template"})]}),e.jsxs("ul",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Property name"})," - Name of the property"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Unit number"})," - Unit number/name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"First name"})," - Tenant's first name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Last name"})," - Tenant's last name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Street address line 1"})," - Street address (optional)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Login email"})," - Login email (optional)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Alternate email"})," - Alternate email (optional)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Mobile"})," - Mobile phone (optional)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Emergency phone"})," - Emergency contact (optional)"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:"skip-duplicates",type:"checkbox",checked:C,onChange:n=>k(n.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",disabled:i}),e.jsx(re,{htmlFor:"skip-duplicates",className:"text-sm text-muted-foreground",children:"Skip duplicate tenants"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(u,{type:"submit",disabled:!o||i,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Import CSV"]})}),e.jsx(u,{type:"button",variant:"outline",onClick:_,disabled:i,children:"Cancel"})]})]})})]})}):null};function et({tenants:t,search:m,cities:p,properties:i,unitsByProperty:x,importStats:o}){const{hasPermission:g,hasAnyPermission:a,hasAllPermissions:N}=Ee(),[C,k]=s.useState(!1),[D,S]=s.useState(!1),[L,R]=s.useState(!!o),[T,_]=s.useState(!1),[U,n]=s.useState(!1),[f,V]=s.useState(null),{flash:j}=ke().props,[h,G]=s.useState({city:"",property:"",unitName:"",search:m||""}),[,J]=s.useState({city:"",property:"",unitName:"",search:m||""}),[ie,E]=s.useState(!1),[de,F]=s.useState(!1),[le,I]=s.useState(!1),B=s.useRef(null),M=s.useRef(null),H=s.useRef(null),{notification:O,showNotification:y,hideNotification:ce}=Ye(),A=Se({file:null,skip_duplicates:!1});s.useEffect(()=>{const r=d=>{B.current&&!B.current.contains(d.target)&&E(!1),M.current&&!M.current.contains(d.target)&&F(!1),H.current&&!H.current.contains(d.target)&&I(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);const v=(r,d)=>{G(z=>({...z,[r]:d}))},me=r=>{v("city",r.city),E(!1)},ue=r=>{const d=r.target.value;v("city",d),E(d.length>0)},xe=r=>{const d=r.target.value;v("property",d),F(d.length>0)},he=()=>{J(h),P.get(route("tenants.index"),{search:h.search,city:h.city,property:h.property,unit_name:h.unitName},{preserveState:!0})},pe=()=>{G({city:"",property:"",unitName:"",search:""}),J({city:"",property:"",unitName:"",search:""}),P.get(route("tenants.index"),{},{preserveState:!1,replace:!0})},be=r=>{confirm(`Are you sure you want to archive ${r.first_name} ${r.last_name}? This will hide them from the main list but they can be restored later.`)&&P.patch(route("tenants.archive",r.id),{},{onSuccess:()=>{y("success","Tenant archived successfully!")},onError:()=>{y("error","Failed to archive tenant. Please try again.")}})},ge=r=>{V(r),n(!0)},fe=()=>{y("success","Tenant updated successfully!"),V(null)},je=()=>{if(t.length===0){alert("No data to export");return}k(!0);try{const r=`tenants-${new Date().toISOString().split("T")[0]}.csv`;He(t,r)}catch(r){console.error("Export failed:",r),alert("Export failed. Please try again.")}finally{k(!1)}},Ne=s.useCallback((r,d)=>{A.setData({file:r,skip_duplicates:d}),P.post(route("tenants.import.process"),{file:r,skip_duplicates:d},{forceFormData:!0,onSuccess:()=>{S(!1),A.reset(),y("success","CSV file imported successfully!")},onError:z=>{const Ce=z.file||z.import||"Failed to import CSV file. Please try again.";y("error",Ce)},onFinish:()=>{A.clearErrors()}})},[A,y]),b=r=>r==null||r===""?"N/A":String(r),ye=r=>r==null||r===""?e.jsx(w,{variant:"outline",children:"N/A"}):e.jsx(w,{variant:r==="Yes"?"default":"destructive",className:r==="Yes"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":void 0,children:r}),ve=r=>r==null||r===""?e.jsx(w,{variant:"outline",children:"N/A"}):e.jsx(w,{variant:r==="Yes"?"destructive":"default",className:r==="No"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":void 0,children:r}),we=r=>r==null||r===""?e.jsx(w,{variant:"outline",children:"N/A"}):e.jsx(w,{variant:r==="Yes"?"default":"secondary",className:r==="Yes"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",children:r}),Q=p.filter(r=>r.city.toLowerCase().includes(h.city.toLowerCase())),Z=i.filter(r=>r.property_name.toLowerCase().includes(h.property.toLowerCase())),ee=Array.from(new Set(t.map(r=>r.unit_number).filter(Boolean))).filter(r=>r.toLowerCase().includes(h.unitName.toLowerCase()));return e.jsxs(Fe,{children:[e.jsx(_e,{title:"Tenants"}),O&&e.jsx(Oe,{type:O.type,message:O.message,onClose:ce}),e.jsx(Xe,{isOpen:D,onClose:()=>S(!1),onSubmit:Ne,isLoading:A.processing}),e.jsx(Ie,{open:T,onOpenChange:()=>_(!1),cities:p,properties:i,unitsByProperty:x,onSuccess:()=>y("success","Tenant created successfully!")}),e.jsx("div",{className:"min-h-screen bg-background py-12 text-foreground transition-colors",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[j?.success&&e.jsx("div",{className:"mb-4 rounded border border-green-200 bg-green-50 px-4 py-3 text-green-800 dark:border-green-800 dark:bg-green-950/20 dark:text-green-200",children:j?.success}),j&&typeof j=="object"&&"error"in j&&j.error&&e.jsx("div",{className:"mb-4 rounded border border-red-200 bg-red-50 px-4 py-3 text-red-800 dark:border-red-800 dark:bg-red-950/20 dark:text-red-200",children:j.error&&e.jsx("div",{children:j.error})}),L&&o&&e.jsx(qe,{stats:o,onClose:()=>R(!1)}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Tenants"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:je,disabled:C||t.length===0,className:"flex items-center",children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"}),C?"Exporting...":"Export CSV"]}),g("tenants.import")&&e.jsxs(u,{onClick:()=>S(!0),variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Import CSV"]}),N(["tenants.create","tenants.store"])&&e.jsxs(u,{onClick:()=>_(!0),children:[e.jsx($e,{className:"mr-2 h-4 w-4"}),"Add New Tenant"]})]})]}),e.jsxs(q,{className:"bg-card text-card-foreground shadow-lg",children:[e.jsx(X,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"relative",ref:B,children:[e.jsx($,{type:"text",placeholder:"City",value:h.city,onChange:ue,onFocus:()=>E(!0),className:"text-input-foreground bg-input"}),ie&&Q.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:Q.map(r=>e.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>me(r),children:r.city},r.id))})]}),e.jsxs("div",{className:"relative",ref:M,children:[e.jsx($,{type:"text",placeholder:"Property",value:h.property,onChange:xe,onFocus:()=>F(!0),className:"text-input-foreground bg-input"}),de&&Z.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:Z.map(r=>e.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>{v("property",r.property_name),F(!1)},children:r.property_name},r.id))})]}),e.jsxs("div",{className:"relative",ref:H,children:[e.jsx($,{type:"text",placeholder:"Unit Name",value:h.unitName,onChange:r=>{const d=r.target.value;v("unitName",d),I(d.length>0)},onFocus:()=>I(h.unitName.length>0),className:"text-input-foreground bg-input"}),le&&ee.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:ee.map(r=>e.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>{v("unitName",r),I(!1)},children:r},r))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx($,{type:"text",placeholder:"Search tenants...",value:h.search,onChange:r=>v("search",r.target.value),className:"text-input-foreground bg-input flex-1"}),e.jsx(u,{type:"button",onClick:he,size:"sm",children:e.jsx(Le,{className:"h-4 w-4"})}),e.jsx(u,{type:"button",onClick:pe,size:"sm",variant:"outline",title:"Clear all filters",children:e.jsx(Re,{className:"h-4 w-4"})})]})]})}),e.jsxs(K,{className:"p-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ae,{className:"border-collapse rounded-md border border-border",children:[e.jsx(De,{children:e.jsxs(te,{className:"border-border",children:[e.jsx(l,{className:"sticky left-0 z-10 bg-muted text-muted-foreground border border-border min-w-[120px]",children:"City"}),e.jsx(l,{className:"sticky left-[120px] z-10 bg-muted text-muted-foreground border border-border min-w-[150px]",children:"Property Name"}),e.jsx(l,{className:"sticky left-[270px] z-10 bg-muted text-muted-foreground border border-border min-w-[120px]",children:"Unit Number"}),e.jsx(l,{className:"sticky left-[390px] z-10 bg-muted text-muted-foreground border border-border min-w-[120px]",children:"First Name"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Last Name"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Street Address"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Login Email"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Alternate Email"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Mobile"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Emergency Phone"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Payment Method"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Has Insurance"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Sensitive Communication"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Has Assistance"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Assistance Amount"}),e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Assistance Company"}),a(["tenants.show","tenants.edit","tenants.update","tenants.destroy"])&&e.jsx(l,{className:"border border-border bg-muted text-muted-foreground",children:"Actions"})]})}),e.jsx(Te,{children:t.map(r=>e.jsxs(te,{className:"border-border hover:bg-muted/50",children:[e.jsx(c,{className:"sticky left-0 z-10 bg-muted text-center font-medium text-foreground border border-border",children:b(r.city_name)}),e.jsx(c,{className:"sticky left-[120px] z-10 bg-muted text-center font-medium text-foreground border border-border",children:b(r.property_name)}),e.jsx(c,{className:"sticky left-[270px] z-10 bg-muted text-center font-medium text-foreground border border-border",children:b(r.unit_number)}),e.jsx(c,{className:"sticky left-[390px] z-10 bg-muted text-center font-medium text-foreground border border-border",children:b(r.first_name)}),e.jsx(c,{className:"border border-border text-center text-foreground",children:b(r.last_name)}),e.jsx(c,{className:"border border-border text-center text-foreground max-w-[200px]",children:e.jsx("div",{className:"truncate",title:r.street_address_line||"N/A",children:b(r.street_address_line)})}),e.jsx(c,{className:"border border-border text-center text-foreground max-w-[200px]",children:e.jsx("div",{className:"truncate",title:r.login_email||"N/A",children:b(r.login_email)})}),e.jsx(c,{className:"border border-border text-center text-foreground max-w-[200px]",children:e.jsx("div",{className:"truncate",title:r.alternate_email||"N/A",children:b(r.alternate_email)})}),e.jsx(c,{className:"border border-border text-center text-foreground",children:b(r.mobile)}),e.jsx(c,{className:"border border-border text-center text-foreground",children:b(r.emergency_phone)}),e.jsx(c,{className:"border border-border text-center text-foreground",children:b(r.cash_or_check)}),e.jsx(c,{className:"border border-border text-center",children:ye(r.has_insurance??null)}),e.jsx(c,{className:"border border-border text-center",children:ve(r.sensitive_communication??null)}),e.jsx(c,{className:"border border-border text-center",children:we(r.has_assistance??null)}),e.jsx(c,{className:"border border-border text-center text-foreground",children:r.assistance_amount?`$${r.assistance_amount}`:e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(c,{className:"border border-border text-center text-foreground max-w-[150px]",children:e.jsx("div",{className:"truncate",title:r.assistance_company||"N/A",children:b(r.assistance_company)})}),a(["tenants.show","tenants.edit","tenants.update","tenants.destroy"])&&e.jsx(c,{className:"border border-border text-center",children:e.jsxs("div",{className:"flex gap-1",children:[N(["tenants.edit","tenants.update"])&&e.jsx(u,{variant:"outline",size:"sm",onClick:()=>ge(r),children:e.jsx(Ue,{className:"h-4 w-4"})}),g("tenants.destroy")&&e.jsx(u,{variant:"outline",size:"sm",onClick:()=>be(r),className:"border-destructive/20 text-destructive hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ve,{className:"h-4 w-4"})})]})})]},r.id))})]})}),t.length===0&&e.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[e.jsx("p",{className:"text-lg",children:"No tenants found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),e.jsx("div",{className:"mt-6 flex items-center justify-between border-t border-border pt-4",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t.length," tenant",t.length!==1?"s":"",m&&` matching "${m}"`]})})]})]})]})}),f&&e.jsx(ze,{open:U,onOpenChange:()=>{n(!1),V(null)},tenant:f,cities:p,properties:i,unitsByProperty:x,onSuccess:fe})]})}export{et as default};
