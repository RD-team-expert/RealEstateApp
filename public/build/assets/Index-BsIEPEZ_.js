import{r as g,j as e,H as N,L as d,b as h}from"./app-C1twEVwI.js";import{u as v,A as y}from"./app-layout-DkJIfOWg.js";import{B as n}from"./app-logo-icon-CaMXxJye.js";import{I as w}from"./input-NXhmTsJ2.js";import{C as S,a as D,b,c as A}from"./card-qxLiEYpz.js";import{P as T,T as L,a as C,b as x,c as a,d as M,e as t,f as P}from"./table-3ioI8PwR.js";import{B as j}from"./badge-Bj6s11Mw.js";import{S as B}from"./search-CpqKyOVj.js";import{E as H}from"./eye--djmK1ZG.js";import{S as E}from"./square-pen-DFDPNGb5.js";import"./app-CHbdQBn0.js";import"./index-BgfIhE8z.js";import"./index-BZECT6gi.js";function W({moveIns:i,search:u}){const[l,f]=g.useState(u||""),_=s=>{s.preventDefault(),h.get(route("move-in.index"),{search:l},{preserveState:!0})},{hasPermission:o,hasAnyPermission:c,hasAllPermissions:m}=v(),p=s=>{confirm("Are you sure you want to delete this move-in record?")&&h.delete(route("move-in.destroy",s.id))},r=s=>s===null?e.jsx(j,{variant:"outline",children:"N/A"}):e.jsx(j,{variant:s==="Yes"?"default":"secondary",children:s});return e.jsxs(y,{children:[e.jsx(N,{title:"Move-In Management"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(b,{className:"text-2xl",children:"Move-In Management"}),m(["move-in.create","move-in.store"])&&e.jsx(d,{href:route("move-in.create"),children:e.jsxs(n,{children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Add Move-In Record"]})})]}),e.jsxs("form",{onSubmit:_,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(w,{type:"text",placeholder:"Search by unit name or status...",value:l,onChange:s=>f(s.target.value)})}),e.jsx(n,{type:"submit",children:e.jsx(B,{className:"h-4 w-4"})})]})]}),e.jsxs(A,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(L,{children:[e.jsx(C,{children:e.jsxs(x,{children:[e.jsx(a,{children:"Unit Name"}),e.jsx(a,{children:"Signed Lease"}),e.jsx(a,{children:"Lease Signing Date"}),e.jsx(a,{children:"Move-In Date"}),e.jsx(a,{children:"Paid Security & First Month"}),e.jsx(a,{children:"Scheduled Payment Date"}),e.jsx(a,{children:"Handled Keys"}),e.jsx(a,{children:"Move in form sent On"}),e.jsx(a,{children:"Filled Move-In Form"}),e.jsx(a,{children:"Date of move in form filled in"}),e.jsx(a,{children:"Submitted Insurance"}),e.jsx(a,{children:"Date of Insurance expiration "}),c(["move-in.show","move-in.edit","move-in.update","move-in.destroy"])&&e.jsx(a,{children:"Actions"})]})}),e.jsx(M,{children:i.data.map(s=>e.jsxs(x,{className:"hover:bg-gray-50",children:[e.jsx(t,{className:"font-medium",children:s.unit_name}),e.jsx(t,{children:r(s.signed_lease)}),e.jsx(t,{children:s.lease_signing_date?new Date(s.lease_signing_date).toLocaleDateString():"N/A"}),e.jsx(t,{children:s.move_in_date?new Date(s.move_in_date).toLocaleDateString():"N/A"}),e.jsx(t,{children:r(s.paid_security_deposit_first_month_rent)}),e.jsx(t,{children:s.scheduled_paid_time?new Date(s.scheduled_paid_time).toLocaleDateString():"N/A"}),e.jsx(t,{children:r(s.handled_keys)}),e.jsx(t,{children:s.move_in_form_sent_date?new Date(s.move_in_form_sent_date).toLocaleDateString():"N/A"}),e.jsx(t,{children:r(s.filled_move_in_form)}),e.jsx(t,{children:s.date_of_move_in_form_filled?new Date(s.date_of_move_in_form_filled).toLocaleDateString():"N/A"}),e.jsx(t,{children:r(s.submitted_insurance)}),e.jsx(t,{children:s.date_of_insurance_expiration?new Date(s.date_of_insurance_expiration).toLocaleDateString():"N/A"}),c(["move-in.show","move-in.edit","move-in.update","move-in.destroy"])&&e.jsx(t,{children:e.jsxs("div",{className:"flex gap-1",children:[o("move-in.show")&&e.jsx(d,{href:route("move-in.show",s.id),children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(H,{className:"h-4 w-4"})})}),m(["move-in.edit","move-in.update"])&&e.jsx(d,{href:route("move-in.edit",s.id),children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(E,{className:"h-4 w-4"})})}),o("move-in.destroy")&&e.jsx(n,{variant:"outline",size:"sm",onClick:()=>p(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(P,{className:"h-4 w-4"})})]})})]},s.id))})]})}),i.data.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No move-in records found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),i.meta&&e.jsx("div",{className:"mt-6 flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.meta.from||0," to ",i.meta.to||0," of ",i.meta.total||0," results"]})})]})]})})})]})}export{W as default};
