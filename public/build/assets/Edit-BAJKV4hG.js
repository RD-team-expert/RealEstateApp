import{u as C,r as S,j as e,H as F,L as p}from"./app-BydbXvNR.js";import{u as k,A}from"./app-layout-JAdefpY2.js";import{B as _}from"./app-logo-icon-_X7DW1Ak.js";import{I as c}from"./input-D0VuUaJ9.js";import{L as t}from"./label-khDChMbA.js";import{S as m,a as d,b as o,c as h,d as l}from"./select-CFEYMzWh.js";import{C as E,a as L,b as V,c as Y}from"./card-D9wtjh1c.js";import"./app-B_WQW7DO.js";import"./index-BqVwD9uT.js";import"./index-BMp7K-bq.js";import"./index-Vh9KUzuR.js";function B({tenant:i,units:H,properties:g,unitsByProperty:x}){k();const{data:r,setData:n,put:v,processing:j,errors:a}=C({property_name:i.property_name??"",unit_number:i.unit_number??"",first_name:i.first_name??"",last_name:i.last_name??"",street_address_line:i.street_address_line??"",login_email:i.login_email??"",alternate_email:i.alternate_email??"",mobile:i.mobile??"",emergency_phone:i.emergency_phone??"",cash_or_check:i.cash_or_check??"",has_insurance:i.has_insurance??"",sensitive_communication:i.sensitive_communication??"",has_assistance:i.has_assistance??"",assistance_amount:i.assistance_amount?.toString()??"",assistance_company:i.assistance_company??""}),[N,u]=S.useState(i.property_name&&x[i.property_name]?x[i.property_name]:[]),y=s=>{n("property_name",s),n("unit_number",""),s&&x[s]?u(x[s]):u([])},b=s=>{s.preventDefault(),v(route("tenants.update",i.id))},f=[{title:"Tenants",href:"/tenants"},{title:"Edit",href:"/tenants/{tenant}/edit"}];return e.jsxs(A,{breadcrumbs:f,children:[e.jsx(F,{title:`Edit ${i.first_name} ${i.last_name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(E,{children:[e.jsx(L,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(V,{className:"text-2xl",children:["Edit ",i.first_name," ",i.last_name]}),e.jsx(p,{href:route("tenants.index"),children:e.jsx(_,{variant:"outline",children:"Back to List"})})]})}),e.jsx(Y,{children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"property_name",children:"Property Name *"}),e.jsxs(m,{onValueChange:y,value:r.property_name,children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select property"})}),e.jsx(h,{children:g.map(s=>e.jsx(l,{value:s,children:s},s))})]}),a.property_name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.property_name})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"unit_number",children:"Unit Number *"}),e.jsxs(m,{onValueChange:s=>n("unit_number",s),value:r.unit_number,disabled:!r.property_name,children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select unit"})}),e.jsx(h,{children:N.map(s=>e.jsx(l,{value:s,children:s},s))})]}),a.unit_number&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.unit_number})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"first_name",children:"First Name *"}),e.jsx(c,{id:"first_name",value:r.first_name,onChange:s=>n("first_name",s.target.value),error:a.first_name}),a.first_name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.first_name})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(c,{id:"last_name",value:r.last_name,onChange:s=>n("last_name",s.target.value),error:a.last_name}),a.last_name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.last_name})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"street_address_line",children:"Street Address"}),e.jsx(c,{id:"street_address_line",value:r.street_address_line,onChange:s=>n("street_address_line",s.target.value),error:a.street_address_line}),a.street_address_line&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.street_address_line})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"login_email",children:"Login Email"}),e.jsx(c,{id:"login_email",type:"email",value:r.login_email,onChange:s=>n("login_email",s.target.value),error:a.login_email}),a.login_email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.login_email})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"alternate_email",children:"Alternate Email"}),e.jsx(c,{id:"alternate_email",type:"email",value:r.alternate_email,onChange:s=>n("alternate_email",s.target.value),error:a.alternate_email}),a.alternate_email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.alternate_email})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"mobile",children:"Mobile"}),e.jsx(c,{id:"mobile",value:r.mobile,onChange:s=>n("mobile",s.target.value),error:a.mobile}),a.mobile&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.mobile})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"emergency_phone",children:"Emergency Phone"}),e.jsx(c,{id:"emergency_phone",value:r.emergency_phone,onChange:s=>n("emergency_phone",s.target.value),error:a.emergency_phone}),a.emergency_phone&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.emergency_phone})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Payment Method"}),e.jsxs(m,{value:r.cash_or_check,onValueChange:s=>n("cash_or_check",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select payment method"})}),e.jsxs(h,{children:[e.jsx(l,{value:"Cash",children:"Cash"}),e.jsx(l,{value:"Check",children:"Check"})]})]}),a.cash_or_check&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.cash_or_check})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Has Insurance"}),e.jsxs(m,{value:r.has_insurance,onValueChange:s=>n("has_insurance",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select insurance status"})}),e.jsxs(h,{children:[e.jsx(l,{value:"Yes",children:"Yes"}),e.jsx(l,{value:"No",children:"No"})]})]}),a.has_insurance&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.has_insurance})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Sensitive Communication"}),e.jsxs(m,{value:r.sensitive_communication,onValueChange:s=>n("sensitive_communication",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select preference"})}),e.jsxs(h,{children:[e.jsx(l,{value:"Yes",children:"Yes"}),e.jsx(l,{value:"No",children:"No"})]})]}),a.sensitive_communication&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.sensitive_communication})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Has Assistance"}),e.jsxs(m,{value:r.has_assistance,onValueChange:s=>n("has_assistance",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select assistance status"})}),e.jsxs(h,{children:[e.jsx(l,{value:"Yes",children:"Yes"}),e.jsx(l,{value:"No",children:"No"})]})]}),a.has_assistance&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.has_assistance})]})]}),r.has_assistance==="Yes"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"assistance_amount",children:"Assistance Amount"}),e.jsx(c,{id:"assistance_amount",type:"number",step:"0.01",min:"0",value:r.assistance_amount,onChange:s=>n("assistance_amount",s.target.value),error:a.assistance_amount}),a.assistance_amount&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.assistance_amount})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"assistance_company",children:"Assistance Company"}),e.jsx(c,{id:"assistance_company",value:r.assistance_company,onChange:s=>n("assistance_company",s.target.value),error:a.assistance_company}),a.assistance_company&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.assistance_company})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(p,{href:route("tenants.index",i.id),children:e.jsx(_,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(_,{type:"submit",disabled:j,children:j?"Updatingâ€¦":"Update Tenant"})]})]})})]})})})]})}export{B as default};
