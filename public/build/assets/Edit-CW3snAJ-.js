import{u as y,j as e,H as N,L as c}from"./app-BydbXvNR.js";import{u as f,A as C}from"./app-layout-JAdefpY2.js";import{B as d}from"./app-logo-icon-_X7DW1Ak.js";import{I as l}from"./input-D0VuUaJ9.js";import{L as i}from"./label-khDChMbA.js";import{S as x,a as h,b as p,c as j,d as o}from"./select-CFEYMzWh.js";import{C as S,a as F,b as L,c as E}from"./card-D9wtjh1c.js";import"./app-B_WQW7DO.js";import"./index-BqVwD9uT.js";import"./index-BMp7K-bq.js";import"./index-Vh9KUzuR.js";function $({auth:T,unit:r,cities:_}){const{hasPermission:g}=f(),{data:a,setData:n,put:v,processing:u,errors:t}=y({city:r.city,property:r.property,unit_name:r.unit_name,tenants:r.tenants||"",lease_start:r.lease_start||"",lease_end:r.lease_end||"",count_beds:r.count_beds?.toString()||"",count_baths:r.count_baths?.toString()||"",lease_status:r.lease_status||"",monthly_rent:r.monthly_rent?.toString()||"",recurring_transaction:r.recurring_transaction||"",utility_status:r.utility_status||"",account_number:r.account_number||"",insurance:r.insurance||"",insurance_expiration_date:r.insurance_expiration_date||""}),b=s=>{s.preventDefault(),v(route("units.update",r.id))},m=[{title:"Units",href:"/units"},{title:"Edit",href:"/units/{unit}/edit"}];return e.jsxs(C,{breadcrumbs:m,children:[e.jsx(N,{title:`Edit Unit - ${r.unit_name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(S,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(L,{className:"text-2xl",children:["Edit Unit - ",r.unit_name]}),e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx(c,{href:route("units.index"),children:e.jsx(d,{variant:"outline",children:"Back to List"})}),g("cities.index")&&e.jsx(c,{href:route("cities.index"),data:{bc:JSON.stringify(m)},children:e.jsx(d,{variant:"outline",children:"View Cities"})})]})]})}),e.jsxs(E,{children:[e.jsx("div",{className:"mb-6 p-4 bg-secondary border border-border rounded-lg",children:e.jsxs("p",{className:"text-sm text-secondary-foreground",children:[e.jsx("strong",{children:"Note:"})," Vacant, Listed, and Total Applications are automatically calculated based on your inputs."]})}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"city",children:"City *"}),e.jsxs(x,{onValueChange:s=>n("city",s),value:a.city,children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Select a city"})}),e.jsx(j,{children:_.map(s=>e.jsx(o,{value:s.city,children:s.city},s.id))})]}),t.city&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.city})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"property",children:"Property *"}),e.jsx(l,{id:"property",value:a.property,onChange:s=>n("property",s.target.value),error:t.property}),t.property&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.property})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"unit_name",children:"Unit Name *"}),e.jsx(l,{id:"unit_name",value:a.unit_name,onChange:s=>n("unit_name",s.target.value),error:t.unit_name}),t.unit_name&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.unit_name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"tenants",children:"Tenants"}),e.jsx(l,{id:"tenants",value:a.tenants,onChange:s=>n("tenants",s.target.value),placeholder:"Enter tenant name(s)",error:t.tenants}),t.tenants&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.tenants})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"lease_start",children:"Lease Start"}),e.jsx(l,{id:"lease_start",type:"date",value:a.lease_start,onChange:s=>n("lease_start",s.target.value),error:t.lease_start}),t.lease_start&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.lease_start})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"lease_end",children:"Lease End"}),e.jsx(l,{id:"lease_end",type:"date",value:a.lease_end,onChange:s=>n("lease_end",s.target.value),error:t.lease_end}),t.lease_end&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.lease_end})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"lease_status",children:"Lease Status"}),e.jsx(l,{id:"lease_status",value:a.lease_status,onChange:s=>n("lease_status",s.target.value),placeholder:"e.g., Active, Expired, Pending",error:t.lease_status}),t.lease_status&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.lease_status})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"monthly_rent",children:"Monthly Rent"}),e.jsx(l,{id:"monthly_rent",type:"number",step:"0.01",min:"0",value:a.monthly_rent,onChange:s=>n("monthly_rent",s.target.value),placeholder:"0.00",error:t.monthly_rent}),t.monthly_rent&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.monthly_rent})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"count_beds",children:"Count Beds"}),e.jsx(l,{id:"count_beds",type:"number",min:"0",value:a.count_beds,onChange:s=>n("count_beds",s.target.value),placeholder:"Number of bedrooms",error:t.count_beds}),t.count_beds&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.count_beds})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"count_baths",children:"Count Baths"}),e.jsx(l,{id:"count_baths",type:"number",min:"0",step:"0.5",value:a.count_baths,onChange:s=>n("count_baths",s.target.value),placeholder:"Number of bathrooms",error:t.count_baths}),t.count_baths&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.count_baths})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"recurring_transaction",children:"Recurring Transaction"}),e.jsx(l,{id:"recurring_transaction",value:a.recurring_transaction,onChange:s=>n("recurring_transaction",s.target.value),placeholder:"Transaction details",error:t.recurring_transaction}),t.recurring_transaction&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.recurring_transaction})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"account_number",children:"Account Number"}),e.jsx(l,{id:"account_number",value:a.account_number,onChange:s=>n("account_number",s.target.value),placeholder:"Account or reference number",error:t.account_number}),t.account_number&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.account_number})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"utility_status",children:"Utility Status"}),e.jsx(l,{id:"utility_status",value:a.utility_status,onChange:s=>n("utility_status",s.target.value),placeholder:"e.g., Included, Tenant Responsible",error:t.utility_status}),t.utility_status&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.utility_status})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"insurance",children:"Insurance"}),e.jsxs(x,{onValueChange:s=>n("insurance",s),value:a.insurance||void 0,children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Select Insurance Status"})}),e.jsxs(j,{children:[e.jsx(o,{value:"Yes",children:"Yes"}),e.jsx(o,{value:"No",children:"No"})]})]}),t.insurance&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.insurance})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"insurance_expiration_date",children:"Insurance Expiration Date"}),e.jsx(l,{id:"insurance_expiration_date",type:"date",value:a.insurance_expiration_date,onChange:s=>n("insurance_expiration_date",s.target.value),error:t.insurance_expiration_date}),t.insurance_expiration_date&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:t.insurance_expiration_date})]}),e.jsx("div",{})]}),e.jsxs("div",{className:"p-4 bg-muted border border-border rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-foreground mb-3",children:"Current Calculated Values:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Vacant:"}),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-semibold rounded-full ${r.vacant==="Yes"?"bg-destructive text-destructive-foreground":"bg-chart-1 text-primary-foreground"}`,children:r.vacant})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Listed:"}),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-semibold rounded-full ${r.listed==="Yes"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:r.listed})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Total Applications:"}),e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-full bg-secondary text-secondary-foreground",children:r.total_applications})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{href:route("units.index"),children:e.jsx(d,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(d,{type:"submit",disabled:u,children:u?"Updatingâ€¦":"Update Unit"})]})]})]})]})})})]})}export{$ as default};
