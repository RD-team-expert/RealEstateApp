import{r as y,j as t,a as f}from"./app-DYme-6ST.js";import{C as w,a as L,b as N}from"./card-CWWVdt52.js";import{B as C}from"./button-DygVteL_.js";import i from"./FilterInput-DHC31gEb.js";import{S as F}from"./search-1yu5M8Yr.js";import{X as T}from"./x-xoZkVJyy.js";import"./app-BxoA0TtB.js";import"./utils-CBfrqCZ4.js";import"./index-DAeyJQLn.js";import"./index-CdJFUDDL.js";import"./input-pR7fOcUW.js";import"./chevron-down-CDnjTFxC.js";import"./createLucideIcon-Dwp8kkct.js";function G({cities:l,properties:c,allUnits:d,tenantsData:p}){const[n,m]=y.useState({city:"",property:"",unit:"",tenant:""}),[,u]=y.useState({city:"",property:"",unit:"",tenant:""}),r=(e,o)=>{m(s=>({...s,[e]:o}))},h=()=>{u(n);const e=l.find(a=>a.city===n.city),o=c.find(a=>a.property_name===n.property),s=d.find(a=>a.unit_name===n.unit),v=p.find(a=>a.full_name===n.tenant);f.get(route("payment-plans.index"),{city_id:e?.id||null,property_id:o?.id||null,unit_id:s?.id||null,tenant_id:v?.id||null},{preserveState:!0})},x=()=>{m({city:"",property:"",unit:"",tenant:""}),u({city:"",property:"",unit:"",tenant:""}),f.get(route("payment-plans.index"),{},{preserveState:!1})},j=l.filter(e=>e.city.toLowerCase().includes(n.city.toLowerCase())),g=c.filter(e=>e.property_name.toLowerCase().includes(n.property.toLowerCase())),_=d.filter(e=>e.unit_name.toLowerCase().includes(n.unit.toLowerCase())),S=p.filter(e=>e.full_name.toLowerCase().includes(n.tenant.toLowerCase()));return t.jsxs(w,{className:"bg-card text-card-foreground shadow-lg",children:[t.jsx(L,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-6",children:[t.jsx(i,{placeholder:"City",value:n.city,onChange:e=>r("city",e),options:j.map(e=>({id:e.id,name:e.city})),onSelect:e=>r("city",e.name)}),t.jsx(i,{placeholder:"Property",value:n.property,onChange:e=>r("property",e),options:g.map(e=>({id:e.id,name:e.property_name})),onSelect:e=>r("property",e.name)}),t.jsx(i,{placeholder:"Unit",value:n.unit,onChange:e=>r("unit",e),options:_.map(e=>({id:e.id,name:e.unit_name})),onSelect:e=>r("unit",e.name)}),t.jsx(i,{placeholder:"Tenant",value:n.tenant,onChange:e=>r("tenant",e),options:S.map(e=>({id:e.id,name:e.full_name})),onSelect:e=>r("tenant",e.name)}),t.jsx("div",{className:"hidden md:block"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(C,{onClick:h,variant:"default",className:"flex items-center",children:[t.jsx(F,{className:"mr-2 h-4 w-4"}),"Search"]}),t.jsxs(C,{onClick:x,variant:"outline",className:"flex items-center",children:[t.jsx(T,{className:"mr-2 h-4 w-4"}),"Clear"]})]})]})}),t.jsx(N,{})]})}export{G as default};
