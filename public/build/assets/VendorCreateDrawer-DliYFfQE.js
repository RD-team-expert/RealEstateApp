import{r as n,b as D,j as e}from"./app-Dn1r5IbR.js";import{B as g}from"./button-DoJlCKhy.js";import{D as R,a as F,b as P}from"./drawer-BbQvx4Pm.js";import{I as x}from"./input-DJHjvjS7.js";import{L as m}from"./label-CyLYjr_a.js";import{S as k,a as L,b as A,c as I,d as G}from"./select-BPfsX62k.js";import{R as B}from"./radioGroup-Dyu-l9CF.js";import"./app-BmbQfT0_.js";import"./index-DF1-xgR-.js";import"./utils-CBfrqCZ4.js";import"./index-C_Yr3VBI.js";import"./index-Dc_FVRD7.js";import"./index-cId8iuZu.js";import"./index-WPnjh8bd.js";import"./index-qhuad6ry.js";import"./index-C5yiDUFi.js";import"./index-CGaG4LkD.js";import"./index-BHn9DcD9.js";import"./index-BV3nWfAJ.js";import"./x-BwrjvaMS.js";import"./createLucideIcon-ezkluWMI.js";import"./index-rczzAiLR.js";import"./index-h5kqUyi-.js";import"./index-IWqIVFcu.js";import"./index-q0Alrdsu.js";import"./index-C0T19-Xq.js";import"./chevron-down-Bfpn-qjr.js";import"./check-CZby3Z4H.js";import"./chevron-up-CyiongBQ.js";function xe({cities:b,open:y,onOpenChange:p,onSuccess:_}){const d=n.useRef(null),c=n.useRef(null),[h,l]=n.useState(""),[v,i]=n.useState(""),[,u]=n.useState(""),{data:a,setData:o,post:C,processing:f,errors:t,reset:j}=D({city_id:"",vendor_name:"",number:"",email:"",service_type:""}),S=r=>{o("city_id",r);const s=b.find(w=>w.id.toString()===r);u(s?s.city:""),l("")},V=r=>{o("vendor_name",r.target.value),i("")},N=r=>{r.preventDefault(),l(""),i("");let s=!1;(!a.city_id||a.city_id.trim()==="")&&(l("Please select a city before submitting the form."),d.current&&(d.current.focus(),d.current.scrollIntoView({behavior:"smooth",block:"center"})),s=!0),(!a.vendor_name||a.vendor_name.trim()==="")&&(i("Please enter a vendor name before submitting the form."),c.current&&(c.current.focus(),c.current.scrollIntoView({behavior:"smooth",block:"center"})),s=!0),!s&&C(route("vendors.store"),{onSuccess:()=>{j(),u(""),l(""),i(""),p(!1),_?.()}})},E=()=>{j(),u(""),l(""),i(""),p(!1)};return e.jsx(R,{open:y,onOpenChange:p,modal:!1,children:e.jsx(F,{size:"half",title:"Create New Vendor",children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border-l-4 border-l-blue-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(m,{htmlFor:"city_id",className:"text-base font-semibold",children:"City *"})}),e.jsxs(k,{onValueChange:S,value:a.city_id,children:[e.jsx(L,{ref:d,children:e.jsx(A,{placeholder:"Select a city"})}),e.jsx(I,{children:b?.map(r=>e.jsx(G,{value:r.id.toString(),children:r.city},r.id))||[]})]}),t.city_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.city_id}),h&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h})]}),e.jsxs("div",{className:"rounded-lg border-l-4 border-l-green-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(m,{htmlFor:"vendor_name",className:"text-base font-semibold",children:"Vendor Name *"})}),e.jsx(x,{ref:c,id:"vendor_name",value:a.vendor_name,onChange:V,placeholder:"Enter vendor name"}),t.vendor_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.vendor_name}),v&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]}),e.jsxs("div",{className:"rounded-lg border-l-4 border-l-purple-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(m,{htmlFor:"number",className:"text-base font-semibold",children:"Phone Number"})}),e.jsx(x,{id:"number",value:a.number,onChange:r=>o("number",r.target.value),placeholder:"Enter phone number"}),t.number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.number})]}),e.jsxs("div",{className:"rounded-lg border-l-4 border-l-orange-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(m,{htmlFor:"email",className:"text-base font-semibold",children:"Email Address"})}),e.jsx(x,{id:"email",type:"email",value:a.email,onChange:r=>o("email",r.target.value),placeholder:"vendor@example.com"}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email})]}),e.jsxs("div",{className:"rounded-lg border-l-4 border-l-emerald-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(m,{htmlFor:"service_type",className:"text-base font-semibold",children:"Service Type"})}),e.jsx(B,{value:a.service_type,onValueChange:r=>o("service_type",r),name:"service_type",className:"grid grid-cols-2 gap-4",options:[{value:"Maintenance",label:"Maintenance"},{value:"Appliances",label:"Appliances"},{value:"Pest control",label:"Pest control"},{value:"HVAC Repairs",label:"HVAC Repairs"},{value:"Plumbing",label:"Plumbing"},{value:"Landscaping",label:"Landscaping"},{value:"Lock Smith",label:"Lock Smith"},{value:"Garage Door",label:"Garage Door"}]}),t.service_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.service_type})]})]})}),e.jsxs(P,{className:"flex-row justify-end gap-2 border-t bg-muted/50 p-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),e.jsx(g,{type:"submit",onClick:N,disabled:f,children:f?"Creating...":"Create Vendor"})]})]})})})}export{xe as default};
