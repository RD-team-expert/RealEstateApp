import{r as o,b as D,j as e}from"./app-nUSYw4ai.js";import{B as g}from"./createLucideIcon-C5GD6QeA.js";import{D as R,a as F,b as P}from"./drawer-ikeMES7v.js";import{I as x}from"./input-OhVo65AQ.js";import{L as d}from"./label-DtPmPEai.js";import{S as k,a as L,b as A,c as I,d as G}from"./select-PjIVfLW0.js";import{R as B}from"./radioGroup-BdD1VW6H.js";import"./app-oDNfBSri.js";import"./index-5YpAK82Y.js";import"./index-UYkM-lg7.js";import"./index-nh9QAngE.js";import"./index-DbaH1TRh.js";import"./index-CedKduyQ.js";import"./index-DGbRjXgX.js";import"./index-BKS2-tOY.js";import"./index-mn3Hv6wy.js";import"./chevron-up-BHOYq5G1.js";function ae({cities:b,open:y,onOpenChange:u,onSuccess:_}){const m=o.useRef(null),c=o.useRef(null),[h,l]=o.useState(""),[v,n]=o.useState(""),[,p]=o.useState(""),{data:t,setData:i,post:C,processing:f,errors:a,reset:j}=D({city_id:"",vendor_name:"",number:"",email:"",service_type:""}),S=r=>{i("city_id",r);const s=b.find(w=>w.id.toString()===r);p(s?s.city:""),l("")},V=r=>{i("vendor_name",r.target.value),n("")},N=r=>{r.preventDefault(),l(""),n("");let s=!1;(!t.city_id||t.city_id.trim()==="")&&(l("Please select a city before submitting the form."),m.current&&(m.current.focus(),m.current.scrollIntoView({behavior:"smooth",block:"center"})),s=!0),(!t.vendor_name||t.vendor_name.trim()==="")&&(n("Please enter a vendor name before submitting the form."),c.current&&(c.current.focus(),c.current.scrollIntoView({behavior:"smooth",block:"center"})),s=!0),!s&&C(route("vendors.store"),{onSuccess:()=>{j(),p(""),l(""),n(""),u(!1),_?.()}})},E=()=>{j(),p(""),l(""),n(""),u(!1)};return e.jsx(R,{open:y,onOpenChange:u,modal:!1,children:e.jsx(F,{size:"half",title:"Create New Vendor",children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border-l-4 border-l-blue-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(d,{htmlFor:"city_id",className:"text-base font-semibold",children:"City *"})}),e.jsxs(k,{onValueChange:S,value:t.city_id,children:[e.jsx(L,{ref:m,children:e.jsx(A,{placeholder:"Select a city"})}),e.jsx(I,{children:b?.map(r=>e.jsx(G,{value:r.id.toString(),children:r.city},r.id))||[]})]}),a.city_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.city_id}),h&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h})]}),e.jsxs("div",{className:"rounded-lg border-l-4 border-l-green-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(d,{htmlFor:"vendor_name",className:"text-base font-semibold",children:"Vendor Name *"})}),e.jsx(x,{ref:c,id:"vendor_name",value:t.vendor_name,onChange:V,placeholder:"Enter vendor name"}),a.vendor_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.vendor_name}),v&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]}),e.jsxs("div",{className:"rounded-lg border-l-4 border-l-purple-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(d,{htmlFor:"number",className:"text-base font-semibold",children:"Phone Number"})}),e.jsx(x,{id:"number",value:t.number,onChange:r=>i("number",r.target.value),placeholder:"Enter phone number"}),a.number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.number})]}),e.jsxs("div",{className:"rounded-lg border-l-4 border-l-orange-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(d,{htmlFor:"email",className:"text-base font-semibold",children:"Email Address"})}),e.jsx(x,{id:"email",type:"email",value:t.email,onChange:r=>i("email",r.target.value),placeholder:"vendor@example.com"}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),e.jsxs("div",{className:"rounded-lg border-l-4 border-l-emerald-500 p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(d,{htmlFor:"service_type",className:"text-base font-semibold",children:"Service Type"})}),e.jsx(B,{value:t.service_type,onValueChange:r=>i("service_type",r),name:"service_type",className:"grid grid-cols-2 gap-4",options:[{value:"Maintenance",label:"Maintenance"},{value:"Appliances",label:"Appliances"},{value:"Pest control",label:"Pest control"},{value:"HVAC Repairs",label:"HVAC Repairs"},{value:"Plumbing",label:"Plumbing"},{value:"Landscaping",label:"Landscaping"},{value:"Lock Smith",label:"Lock Smith"},{value:"Garage Door",label:"Garage Door"}]}),a.service_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.service_type})]})]})}),e.jsxs(P,{className:"flex-row justify-end gap-2 border-t bg-muted/50 p-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),e.jsx(g,{type:"submit",onClick:N,disabled:f,children:f?"Creating...":"Create Vendor"})]})]})})})}export{ae as default};
