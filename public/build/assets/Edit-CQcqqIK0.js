import{u as _,r as C,j as e,H as w,L as v}from"./app-Cx8kZDp9.js";import{A as S}from"./app-layout-D--nS_sj.js";import{B as u}from"./app-logo-icon-DUx6zicL.js";import{I as c}from"./input-s06yV59d.js";import{L as i}from"./label-sl8qH8W7.js";import{S as o,a as x,b as m,c as h,d as n}from"./select-DZHzKdDj.js";import{C as P,a as F,b as E,c as L}from"./card-BYHDYmtC.js";/* empty css            */import"./index-B50YeaP0.js";import"./index-MDR33JSo.js";import"./index-CwTV956i.js";function q({payment:a,units:D,cities:g,unitsByCity:l}){const{data:r,setData:d,put:f,processing:j,errors:t}=_({date:a.date??"",city:a.city??"",unit_name:a.unit_name??"",owes:a.owes.toString()??"",paid:a.paid?.toString()??"",status:a.status??"",notes:a.notes??"",reversed_payments:a.reversed_payments??"",permanent:a.permanent??"No"}),[b,p]=C.useState(a.city&&l[a.city]?l[a.city]:[]),N=s=>{d("city",s),d("unit_name",""),s&&l[s]?p(l[s]):p([])},y=s=>{s.preventDefault(),f(route("payments.update",a.id))};return e.jsxs(S,{children:[e.jsx(w,{title:`Edit Payment #${a.id}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(P,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(E,{className:"text-2xl",children:["Edit Payment #",a.id]}),e.jsx(v,{href:route("payments.index"),children:e.jsx(u,{variant:"outline",children:"Back to List"})})]})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"date",children:"Date *"}),e.jsx(c,{type:"date",id:"date",value:r.date,onChange:s=>d("date",s.target.value),error:t.date}),t.date&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.date})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"city",children:"City *"}),e.jsxs(o,{onValueChange:N,value:r.city||void 0,children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select city"})}),e.jsx(h,{children:g.map(s=>e.jsx(n,{value:s,children:s},s))})]}),t.city&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.city})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"unit_name",children:"Unit Name *"}),e.jsxs(o,{onValueChange:s=>d("unit_name",s),value:r.unit_name||void 0,disabled:!r.city,children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select unit"})}),e.jsx(h,{children:b.map(s=>e.jsx(n,{value:s,children:s},s))})]}),t.unit_name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.unit_name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"status",children:"Status"}),e.jsxs(o,{onValueChange:s=>d("status",s),value:r.status||void 0,children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select status"})}),e.jsxs(h,{children:[e.jsx(n,{value:"Paid",children:"Paid"}),e.jsx(n,{value:"Didn't Pay",children:"Didn't Pay"}),e.jsx(n,{value:"Paid Partly",children:"Paid Partly"})]})]}),t.status&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.status})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"owes",children:"Owes *"}),e.jsx(c,{id:"owes",type:"number",step:"0.01",min:"0",value:r.owes,onChange:s=>d("owes",s.target.value),error:t.owes}),t.owes&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.owes})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"paid",children:"Paid"}),e.jsx(c,{id:"paid",type:"number",step:"0.01",min:"0",value:r.paid,onChange:s=>d("paid",s.target.value),error:t.paid}),t.paid&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.paid})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"reversed_payments",children:"Reversed Payments?"}),e.jsx(c,{id:"reversed_payments",value:r.reversed_payments,onChange:s=>d("reversed_payments",s.target.value),error:t.reversed_payments}),t.reversed_payments&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.reversed_payments})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"permanent",children:"Permanent *"}),e.jsxs(o,{onValueChange:s=>d("permanent",s),value:r.permanent||void 0,children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select permanent status"})}),e.jsxs(h,{children:[e.jsx(n,{value:"Yes",children:"Yes"}),e.jsx(n,{value:"No",children:"No"})]})]}),t.permanent&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.permanent})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",value:r.notes,onChange:s=>d("notes",s.target.value),rows:3,placeholder:"Enter any additional notes...",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),t.notes&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.notes})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(v,{href:route("payments.show",a.id),children:e.jsx(u,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(u,{type:"submit",disabled:j,children:j?"Updatingâ€¦":"Update Payment"})]})]})})]})})})]})}export{q as default};
