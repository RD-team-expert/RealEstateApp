import{r as a,j as t}from"./app-p7g_f0wo.js";import{B as d}from"./button-CgWb-OwV.js";import{a as S}from"./card-BzYl35PS.js";import{I as i}from"./input-DiaYLKYe.js";import{S as F}from"./search-BU1dLuL3.js";import{X as D}from"./x-CLgUf5rt.js";import"./app-D9ss4c-j.js";import"./index-6lgmZUbB.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-DCkjgf37.js";function M({cities:m,properties:u,initialFilters:h,onSearch:f,onClear:x,hasActiveFilters:g}){const[r,y]=a.useState(h),[v,l]=a.useState(!1),[b,n]=a.useState(!1),j=a.useRef(null),w=a.useRef(null),c=m.filter(e=>e.city.toLowerCase().includes(r.city.toLowerCase())),p=u.filter(e=>e.property_name.toLowerCase().includes(r.property.toLowerCase())),s=(e,o)=>{y(N=>({...N,[e]:o}))},C=e=>{e.preventDefault(),f(r)};return t.jsx(S,{children:t.jsx("form",{onSubmit:C,children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx(i,{ref:j,type:"text",placeholder:"Filter by city...",value:r.city,onChange:e=>{const o=e.target.value;s("city",o),l(o.length>0)},onFocus:()=>l(r.city.length>0),onBlur:()=>setTimeout(()=>l(!1),200),className:"text-input-foreground bg-input"}),v&&c.length>0&&t.jsx("div",{className:"absolute top-full right-0 left-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:c.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>{s("city",e.city),l(!1)},children:e.city},e.id))})]}),t.jsxs("div",{className:"relative",children:[t.jsx(i,{ref:w,type:"text",placeholder:"Filter by property...",value:r.property,onChange:e=>{const o=e.target.value;s("property",o),n(o.length>0)},onFocus:()=>n(r.property.length>0),onBlur:()=>setTimeout(()=>n(!1),200),className:"text-input-foreground bg-input"}),b&&p.length>0&&t.jsx("div",{className:"absolute top-full right-0 left-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:p.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>{s("property",e.property_name),n(!1)},children:e.property_name},e.id))})]}),t.jsxs("div",{className:"flex gap-2 md:col-span-2",children:[t.jsx(i,{type:"text",placeholder:"Search by unit name...",value:r.search,onChange:e=>s("search",e.target.value),className:"text-input-foreground flex-1 bg-input"}),t.jsx(d,{type:"submit",size:"sm",children:t.jsx(F,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(d,{type:"button",variant:"outline",onClick:x,size:"sm",className:"flex items-center",disabled:!g,children:[t.jsx(D,{className:"mr-2 h-4 w-4"}),"Clear"]})})]})})})}export{M as default};
