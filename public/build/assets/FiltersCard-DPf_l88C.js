import{r as p,j as t,a as l}from"./app-Y5k3mklr.js";import{C as L,a as N,b as _}from"./card-DrRiDRID.js";import{B as c}from"./button-CQfb3JBO.js";import o from"./FilterInput-D_zAQyPC.js";import{S as k}from"./search-DjaWC1MF.js";import{X as F}from"./x-Nz9yRxvI.js";import"./app-BZFxL5VY.js";import"./utils-CBfrqCZ4.js";import"./index-DeKsjAJz.js";import"./index-CdJFUDDL.js";import"./input-C9nWuHON.js";import"./chevron-down-DPdXkLmR.js";import"./createLucideIcon-BOWbKjUa.js";function D({cities:m,properties:d,allUnits:u,tenantsData:y,initialFilters:n,perPage:C}){const[r,s]=p.useState({city:n?.city??"",property:n?.property??"",unit:n?.unit??"",tenant:n?.tenant??""}),[,i]=p.useState({city:"",property:"",unit:"",tenant:""}),a=(e,S)=>{s(w=>({...w,[e]:S}))},h=()=>{i(r),l.get(route("payment-plans.index"),{city:r.city||void 0,property:r.property||void 0,unit:r.unit||void 0,tenant:r.tenant||void 0,per_page:C},{preserveState:!0})},f=()=>{s({city:"",property:"",unit:"",tenant:""}),i({city:"",property:"",unit:"",tenant:""}),l.get(route("payment-plans.index"),{per_page:15},{preserveState:!1})},x=m.filter(e=>e.city.toLowerCase().includes(r.city.toLowerCase())),g=d.filter(e=>e.property_name.toLowerCase().includes(r.property.toLowerCase())),j=u.filter(e=>e.unit_name.toLowerCase().includes(r.unit.toLowerCase())),v=y.filter(e=>e.full_name.toLowerCase().includes(r.tenant.toLowerCase()));return t.jsxs(L,{className:"bg-card text-card-foreground shadow-lg",children:[t.jsx(N,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-6",children:[t.jsx(o,{placeholder:"City",value:r.city,onChange:e=>a("city",e),options:x.map(e=>({id:e.id,name:e.city})),onSelect:e=>a("city",e.name)}),t.jsx(o,{placeholder:"Property",value:r.property,onChange:e=>a("property",e),options:g.map(e=>({id:e.id,name:e.property_name})),onSelect:e=>a("property",e.name)}),t.jsx(o,{placeholder:"Unit",value:r.unit,onChange:e=>a("unit",e),options:j.map(e=>({id:e.id,name:e.unit_name})),onSelect:e=>a("unit",e.name)}),t.jsx(o,{placeholder:"Tenant",value:r.tenant,onChange:e=>a("tenant",e),options:v.map(e=>({id:e.id,name:e.full_name})),onSelect:e=>a("tenant",e.name)}),t.jsx("div",{className:"hidden md:block"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(c,{onClick:h,variant:"default",className:"flex items-center",children:[t.jsx(k,{className:"mr-2 h-4 w-4"}),"Search"]}),t.jsxs(c,{onClick:f,variant:"outline",className:"flex items-center",children:[t.jsx(F,{className:"mr-2 h-4 w-4"}),"Clear"]})]})]})}),t.jsx(_,{})]})}export{D as default};
