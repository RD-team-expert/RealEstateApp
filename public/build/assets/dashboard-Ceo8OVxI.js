import{r as y,a as f,j as e,H as I}from"./app-ouZqxB1_.js";import{A as ee}from"./app-layout-hh4BSFp7.js";import ae from"./ApplicationInformation-C3bFNqtO.js";import se from"./MoveInInformation-tgX4YeUG.js";import te from"./MoveOutInformation-Ci8djKvo.js";import re from"./NoticesAndEvictionsInformation--IOH-Nt5.js";import ie from"./OffersAndRenewalsInformation-gJ-g6wlW.js";import ne from"./PaymentInformation-ORsThWcW.js";import le from"./PaymentPlanInformation-Du3ryycj.js";import ce from"./TenantInformation-CyQAZqAj.js";import me from"./VendorTasksInformation-CShfJn9Y.js";import{B as de}from"./button-Dwk07ddD.js";import{B as j}from"./badge-D8MPtJE3.js";import{C as c,a as D,c as S,d as H,b as U}from"./card-BzHR4zj2.js";import{S as C,a as T,b as Y,c as M,d as A}from"./select-CiYdqFJh.js";import{S as k}from"./separator-Duzi_nRg.js";import{C as oe,a as xe,b as pe}from"./collapsible-BwAUb3LI.js";import{B as R}from"./building-2-D_d-M5I2.js";import{M as L}from"./map-pin-Cnb7huEq.js";import{H as O}from"./house-BWlu7WDR.js";import{C as ge}from"./chevron-up-BPU5s7__.js";import{C as he}from"./chevron-down-DJ1Ff5Fx.js";import{c as ue}from"./createLucideIcon-D2D4_K7R.js";import{D as fe}from"./dollar-sign-DHkBemQX.js";import{C as w}from"./calendar-Bep_gocc.js";import{Z as je}from"./zap-C1WJyWtS.js";import{S as Z}from"./shield-MlsdZ2L-.js";import{c as be,t as z,m as V,a as E,f as Ne}from"./format-PYUiRpxY.js";import"./app-CsCti_B1.js";import"./index-ChCgVrQ9.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./index-D_5cRLds.js";import"./index-CBrQgTKF.js";import"./index-DZ6Q_eM6.js";import"./index-B409lPMy.js";import"./index-Cw-58lmC.js";import"./index-L_KZmfdx.js";import"./x-C6lwu6z7.js";import"./index-Dc_FVRD7.js";import"./index-BMcOUver.js";import"./index-D8RbbIhn.js";import"./index-Btvi_Rs9.js";import"./chevron-right-DK0aPss0.js";import"./index-XAL2DKQ_.js";import"./log-out-D2oDbh7f.js";import"./chevrons-up-down-BP70ShdQ.js";import"./usePermissions-CgTmmj4S.js";import"./app-logo-icon-CTS5saan.js";import"./building-CmpXhYjP.js";import"./users-BiWLNhUw.js";import"./wrench-BzFAA3y4.js";import"./credit-card-DvEGg_rY.js";import"./file-text-BT_oga12.js";import"./triangle-alert-Eu4YVppC.js";import"./bell-CFZ0fo-F.js";import"./user-KemPXPEq.js";import"./target-Fw04PHtL.js";import"./archive-DxtFcwKX.js";import"./circle-x-CuGkGE3S.js";import"./circle-check-big-eDnWpNiv.js";import"./sticky-note-CK32Bnbi.js";import"./clock-DBZ4qHJA.js";import"./eye-CiXHxos2.js";import"./circle-alert-3vEhvGtg.js";import"./file-check-wGb8yaYe.js";import"./key-XgHyYdL1.js";import"./scale-DXJmPt1l.js";import"./trending-up-CXw4jSk_.js";import"./rotate-ccw-h4HMo2vS.js";import"./phone-CeHGbSs2.js";import"./index-DfGrYlP0.js";import"./check-Ef_HP5Pc.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ve=ue("Hash",ye);function ke(t,s){const r=()=>be(s?.in,NaN),n=Se(t);let d;if(n.date){const m=Ce(n.date,2);d=Te(m.restDateString,m.year)}if(!d||isNaN(+d))return r();const u=+d;let p=0,g;if(n.time&&(p=Ye(n.time),isNaN(p)))return r();if(n.timezone){if(g=Me(n.timezone),isNaN(g))return r()}else{const m=new Date(u+p),b=z(0,s?.in);return b.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),b.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),b}return z(u+p+g,s?.in)}const _={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},we=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,_e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,De=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Se(t){const s={},r=t.split(_.dateTimeDelimiter);let a;if(r.length>2)return s;if(/:/.test(r[0])?a=r[0]:(s.date=r[0],a=r[1],_.timeZoneDelimiter.test(s.date)&&(s.date=t.split(_.timeZoneDelimiter)[0],a=t.substr(s.date.length,t.length))),a){const n=_.timezone.exec(a);n?(s.time=a.replace(n[1],""),s.timezone=n[1]):s.time=a}return s}function Ce(t,s){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),a=t.match(r);if(!a)return{year:NaN,restDateString:""};const n=a[1]?parseInt(a[1]):null,d=a[2]?parseInt(a[2]):null;return{year:d===null?n:d*100,restDateString:t.slice((a[1]||a[2]).length)}}function Te(t,s){if(s===null)return new Date(NaN);const r=t.match(we);if(!r)return new Date(NaN);const a=!!r[4],n=v(r[1]),d=v(r[2])-1,u=v(r[3]),p=v(r[4]),g=v(r[5])-1;if(a)return Fe(s,p,g)?Ae(s,p,g):new Date(NaN);{const m=new Date(0);return!$e(s,d,u)||!Be(s,n)?new Date(NaN):(m.setUTCFullYear(s,d,Math.max(n,u)),m)}}function v(t){return t?parseInt(t):1}function Ye(t){const s=t.match(_e);if(!s)return NaN;const r=$(s[1]),a=$(s[2]),n=$(s[3]);return He(r,a,n)?r*V+a*E+n*1e3:NaN}function $(t){return t&&parseFloat(t.replace(",","."))||0}function Me(t){if(t==="Z")return 0;const s=t.match(De);if(!s)return 0;const r=s[1]==="+"?-1:1,a=parseInt(s[2]),n=s[3]&&parseInt(s[3])||0;return Ue(a,n)?r*(a*V+n*E):NaN}function Ae(t,s,r){const a=new Date(0);a.setUTCFullYear(t,0,4);const n=a.getUTCDay()||7,d=(s-1)*7+r+1-n;return a.setUTCDate(a.getUTCDate()+d),a}const Oe=[31,null,31,30,31,30,31,31,30,31,30,31];function W(t){return t%400===0||t%4===0&&t%100!==0}function $e(t,s,r){return s>=0&&s<=11&&r>=1&&r<=(Oe[s]||(W(t)?29:28))}function Be(t,s){return s>=1&&s<=(W(t)?366:365)}function Fe(t,s,r){return s>=1&&s<=53&&r>=0&&r<=6}function He(t,s,r){return t===24?s===0&&r===0:r>=0&&r<60&&s>=0&&s<60&&t>=0&&t<25}function Ue(t,s){return s>=0&&s<=59}function B(t){if(!t)return"N/A";try{return Ne(ke(t),"MMM dd, yyyy")}catch{return t}}function rs({cities:t,properties:s,units:r,unitInfo:a,tenants:n,moveIns:d,moveOuts:u,vendorTasks:p,payments:g,paymentPlans:m,applications:b,offersAndRenewals:J,noticesAndEvictions:q,selectedCityId:l,selectedPropertyId:x,selectedUnitId:o}){const G=y.useCallback(()=>{const i=[{title:"Dashboard",href:"/dashboard"}];if(l){const h=t.find(N=>N.id===l);h&&i.push({title:h.city,href:`/dashboard?city_id=${l}`})}if(x){const h=s.find(N=>N.id===x);h&&i.push({title:h.property_name,href:`/dashboard?city_id=${l}&property_id=${x}`})}if(o){const h=r.find(N=>N.id===o);h&&i.push({title:h.unit_name,href:`/dashboard?city_id=${l}&property_id=${x}&unit_id=${o}`})}return i},[l,x,o,t,s,r]),K=y.useCallback(i=>{if(!i){f.get("/dashboard");return}f.get("/dashboard",{city_id:parseInt(i)},{preserveState:!0,preserveScroll:!0})},[]),Q=y.useCallback(i=>{if(!i||!l){f.get("/dashboard",{city_id:l});return}f.get("/dashboard",{city_id:l,property_id:parseInt(i)},{preserveState:!0,preserveScroll:!0})},[l]),X=y.useCallback(i=>{if(!i||!l||!x){f.get("/dashboard",{city_id:l,property_id:x});return}f.get("/dashboard",{city_id:l,property_id:x,unit_id:parseInt(i)},{preserveState:!0,preserveScroll:!0})},[l,x]),[F,P]=y.useState(!0);return e.jsxs(ee,{breadcrumbs:G(),children:[e.jsx(I,{title:"Dashboard"}),e.jsxs("div",{className:"h-screen space-y-6 overflow-y-auto",children:[e.jsx(c,{className:"border-0 bg-gradient-to-r from-blue-50 to-indigo-50 shadow-sm dark:from-blue-950/20 dark:to-indigo-950/20",children:e.jsx(D,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2 dark:bg-blue-900/30",children:e.jsx(R,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(S,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Property Management Dashboard"}),e.jsx(H,{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Select a city, property, and unit to view comprehensive tenant information and analytics."})]})]})})}),e.jsx("div",{className:"-mx-2 border-b border-gray-200/50 bg-white/95 px-2 py-1 backdrop-blur-sm supports-[backdrop-filter]:bg-white/80 dark:border-gray-800/50 dark:bg-gray-950/95 dark:supports-[backdrop-filter]:bg-gray-950/80",children:e.jsxs(c,{className:"border shadow-lg",children:[e.jsx(D,{className:"",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),e.jsx(S,{className:"text-lg font-semibold",children:"Property Selection"})]})}),e.jsx(U,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(L,{className:"h-4 w-4"}),"City"]}),e.jsxs(C,{value:l?.toString()||"",onValueChange:K,children:[e.jsx(T,{className:"w-full",children:e.jsx(Y,{placeholder:"Select a city..."})}),e.jsx(M,{children:t.map(i=>e.jsx(A,{value:i.id.toString(),children:i.city},i.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(R,{className:"h-4 w-4"}),"Property"]}),e.jsxs(C,{value:x?.toString()||"",onValueChange:Q,disabled:!l,children:[e.jsx(T,{className:"w-full",children:e.jsx(Y,{placeholder:"Select a property..."})}),e.jsx(M,{children:s.map(i=>e.jsx(A,{value:i.id.toString(),children:i.property_name},i.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(O,{className:"h-4 w-4"}),"Unit"]}),e.jsxs(C,{value:o?.toString()||"",onValueChange:X,disabled:!x,children:[e.jsx(T,{className:"w-full",children:e.jsx(Y,{placeholder:"Select a unit..."})}),e.jsx(M,{children:r.map(i=>e.jsx(A,{value:i.id.toString(),children:e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsx("span",{children:i.unit_name}),e.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[e.jsx(j,{variant:i.vacant==="Yes"?"default":"secondary",children:i.vacant==="Yes"?"Vacant":"Occupied"}),i.monthly_rent&&e.jsxs("span",{className:"text-sm text-gray-500",children:["$",i.monthly_rent]})]})]})},i.id))})]})]})]})})]})}),a&&e.jsx(oe,{open:F,onOpenChange:P,children:e.jsxs(c,{className:"transition-all duration-200 hover:shadow-md",children:[e.jsx(xe,{asChild:!0,children:e.jsx(de,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:e.jsx(D,{className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-gray-100",children:e.jsx(O,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx(S,{className:"text-xl font-semibold",children:"Unit Information"}),e.jsxs(H,{children:["Comprehensive details for ",a.unit_name]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j,{variant:a.vacant==="Yes"?"default":"destructive",className:"px-3 py-1",children:a.vacant==="Yes"?"Vacant":"Occupied"}),F?e.jsx(ge,{className:"h-5 w-5 text-gray-500"}):e.jsx(he,{className:"h-5 w-5 text-gray-500"})]})]})})})}),e.jsx(pe,{children:e.jsxs(U,{className:"pt-0",children:[e.jsx(k,{className:"mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(ve,{className:"h-4 w-4"}),"Basic Details"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs(c,{className:"bg-gray-50 p-4 dark:bg-gray-900",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-gray-500 uppercase dark:text-gray-400",children:"Listed Status"}),e.jsx(j,{variant:a.listed==="Yes"?"default":"secondary",children:a.listed||"No"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(O,{className:"h-4 w-4"}),"Unit Specs"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{className:"bg-blue-50 p-4 dark:bg-blue-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-blue-600 uppercase dark:text-blue-400",children:"Bedrooms"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:a.count_beds||"N/A"})]}),e.jsxs(c,{className:"bg-purple-50 p-4 dark:bg-purple-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-purple-600 uppercase dark:text-purple-400",children:"Bathrooms"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:a.count_baths||"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(fe,{className:"h-4 w-4"}),"Financial"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{className:"bg-green-50 p-4 dark:bg-green-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-green-600 uppercase dark:text-green-400",children:"Monthly Rent"}),e.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:a.formatted_monthly_rent||"N/A"})]}),e.jsxs(c,{className:"bg-amber-50 p-4 dark:bg-amber-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-amber-600 uppercase dark:text-amber-400",children:"Applications"}),e.jsxs(j,{variant:"outline",className:"text-sm",children:[a.total_applications||0," total"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(w,{className:"h-4 w-4"}),"Lease & Utilities"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{className:"bg-indigo-50 p-4 dark:bg-indigo-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-indigo-600 uppercase dark:text-indigo-400",children:"Lease Status"}),e.jsx("div",{className:"font-semibold text-indigo-900 dark:text-indigo-100",children:a.lease_status||"N/A"})]}),e.jsxs(c,{className:"bg-yellow-50 p-4 dark:bg-yellow-950/20",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-1 text-xs font-medium tracking-wide text-yellow-600 uppercase dark:text-yellow-400",children:[e.jsx(je,{className:"h-3 w-3"}),"Utilities"]}),e.jsx("div",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:a.utility_status||"N/A"})]})]})]})]}),(a.lease_start||a.lease_end)&&e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"my-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.lease_start&&e.jsxs(c,{className:"bg-blue-50 p-4 dark:bg-blue-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-blue-600 uppercase dark:text-blue-400",children:"Lease Start"})]}),e.jsx("div",{className:"font-semibold text-blue-900 dark:text-blue-100",children:B(a.lease_start)})]}),a.lease_end&&e.jsxs(c,{className:"bg-orange-50 p-4 dark:bg-orange-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-orange-600 uppercase dark:text-orange-400",children:"Lease End"})]}),e.jsx("div",{className:"font-semibold text-orange-900 dark:text-orange-100",children:B(a.lease_end)})]})]})]}),(a.insurance||a.insurance_expiration_date)&&e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"my-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(Z,{className:"h-4 w-4"}),"Insurance Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs(c,{className:"bg-emerald-50 p-4 dark:bg-emerald-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-emerald-600 uppercase dark:text-emerald-400",children:"Coverage Status"})]}),e.jsx(j,{variant:a.insurance==="Yes"?"default":"destructive",children:a.insurance||"No"})]}),a.insurance_expiration_date&&e.jsxs(c,{className:"bg-amber-50 p-4 dark:bg-amber-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-amber-600 uppercase dark:text-amber-400",children:"Expiration Date"})]}),e.jsx("div",{className:"font-semibold text-amber-900 dark:text-amber-100",children:B(a.insurance_expiration_date)})]})]})]})]}),(a.recurring_transaction||a.account_number)&&e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"my-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.recurring_transaction&&e.jsxs(c,{className:"bg-purple-50 p-4 dark:bg-purple-950/20",children:[e.jsx("div",{className:"mb-2 text-xs font-medium tracking-wide text-purple-600 uppercase dark:text-purple-400",children:"Recurring Transaction"}),e.jsx(j,{variant:a.recurring_transaction==="Yes"?"default":"secondary",children:a.recurring_transaction||"No"})]}),a.account_number&&e.jsxs(c,{className:"bg-gray-50 p-4 dark:bg-gray-900",children:[e.jsx("div",{className:"mb-2 text-xs font-medium tracking-wide text-gray-500 uppercase dark:text-gray-400",children:"Account Number"}),e.jsx("code",{className:"font-mono text-sm font-semibold text-gray-900 dark:text-gray-100",children:a.account_number})]})]})]})]})})]})}),e.jsx(ce,{tenants:n,selectedUnitId:o}),e.jsx(se,{moveIns:d,selectedUnitId:o}),e.jsx(te,{moveOuts:u,selectedUnitId:o}),e.jsx(me,{vendorTasks:p,selectedUnitId:o}),e.jsx(ne,{payments:g,selectedUnitId:o}),e.jsx(le,{paymentPlans:m,selectedUnitId:o}),e.jsx(ae,{applications:b,selectedUnitId:o}),e.jsx(ie,{offersAndRenewals:J,selectedUnitId:o}),e.jsx(re,{noticesAndEvictions:q,selectedUnitId:o})]})]})}export{rs as default};
