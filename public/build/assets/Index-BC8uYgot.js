import{r as C,u as w,j as e,H as A,b as T}from"./app-C1twEVwI.js";import{u as S,A as F,X as H}from"./app-layout-DkJIfOWg.js";import{B as i}from"./app-logo-icon-CaMXxJye.js";import{I as P}from"./input-NXhmTsJ2.js";import{C as n,a as m,b as o,c as x}from"./card-qxLiEYpz.js";import{P as k,T as B,a as D,b as h,c as j,d as E,e as u,f as I}from"./table-3ioI8PwR.js";import"./app-CHbdQBn0.js";import"./index-BgfIhE8z.js";import"./index-BZECT6gi.js";const J=({cities:t})=>{const[a,r]=C.useState(!1),{data:p,setData:y,post:N,processing:l,errors:c,reset:f}=w({city:""}),g=s=>{s.preventDefault(),N("/cities",{onSuccess:()=>{f(),r(!1)}})},b=s=>{window.confirm("Are you sure you want to delete this city?")&&T.delete(`/cities/${s}`)},{hasPermission:d,hasAllPermissions:v}=S();return e.jsxs(F,{children:[e.jsx(A,{title:"Cities"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v(["cities.store","cities.create"])&&e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(n,{children:[e.jsx(m,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(o,{className:"text-xl",children:"Manage Cities"}),e.jsx(i,{onClick:()=>r(!a),children:a?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Cancel"]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Add City"]})})]})}),a&&e.jsxs(x,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Add New City"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(P,{type:"text",value:p.city,onChange:s=>y("city",s.target.value),placeholder:"Enter city name",required:!0}),c.city&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:c.city})]}),e.jsx(i,{type:"submit",disabled:l,className:"w-full",children:l?"Adding...":"Add City"})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(n,{children:[e.jsx(m,{children:e.jsx(o,{className:"text-xl",children:"Cities List"})}),e.jsxs(x,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(B,{children:[e.jsx(D,{children:e.jsxs(h,{children:[e.jsx(j,{children:"City"}),d("cities.destroy")&&e.jsx(j,{children:"Actions"})]})}),e.jsx(E,{children:t.map(s=>e.jsxs(h,{className:"hover:bg-gray-50",children:[e.jsx(u,{className:"font-medium",children:s.city}),d("cities.destroy")&&e.jsx(u,{children:e.jsx(i,{variant:"outline",size:"sm",onClick:()=>b(s.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(I,{className:"h-4 w-4"})})})]},s.id))})]})}),t.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No cities found."}),e.jsx("p",{className:"text-sm",children:"Add your first city using the form on the left."})]}),e.jsx("div",{className:"mt-6 flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",t.length," cities"]})})]})]})})]})})})]})};export{J as default};
