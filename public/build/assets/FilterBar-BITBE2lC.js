import{r as o,j as t}from"./app-mUrH0ynJ.js";import{B as C}from"./button-BFBNYzQ-.js";import{I as i}from"./input-Bo52L6_R.js";import{C as g}from"./chevron-down-CcniYHCH.js";import{S as A}from"./search-BHqZNlG5.js";import{X}from"./x-BVVw4O5L.js";import"./app-BxoA0TtB.js";import"./index-Co1yv0YL.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-DUXn48BB.js";function ee({cities:j,properties:b,units:N,onSearch:S,onClear:R}){const[n,x]=o.useState({city:"",property:"",unit:"",name:""}),[D,a]=o.useState(!1),[k,l]=o.useState(!1),[F,c]=o.useState(!1),u=o.useRef(null),d=o.useRef(null),p=o.useRef(null),m=o.useRef(null),h=o.useRef(null),f=o.useRef(null);o.useEffect(()=>{const e=r=>{u.current&&!u.current.contains(r.target)&&m.current&&!m.current.contains(r.target)&&a(!1),d.current&&!d.current.contains(r.target)&&h.current&&!h.current.contains(r.target)&&l(!1),p.current&&!p.current.contains(r.target)&&f.current&&!f.current.contains(r.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const s=(e,r)=>{x(T=>({...T,[e]:r}))},I=e=>{s("city",e.name),a(!1)},L=e=>{const r=e.target.value;s("city",r),a(r.length>0)},P=e=>{s("property",e.name),l(!1)},U=e=>{const r=e.target.value;s("property",r),l(r.length>0)},E=e=>{s("unit",e.name),c(!1)},z=e=>{const r=e.target.value;s("unit",r),c(r.length>0)},B=()=>{S(n)},O=()=>{x({city:"",property:"",unit:"",name:""}),R()},v=Object.values(b).flat().filter(e=>e.name.toLowerCase().includes(n.property.toLowerCase())),w=Object.values(N).flat().filter(e=>e.name.toLowerCase().includes(n.unit.toLowerCase())),y=j.filter(e=>e.name.toLowerCase().includes(n.city.toLowerCase()));return t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx(i,{ref:m,type:"text",placeholder:"City",value:n.city,onChange:L,onFocus:()=>a(!0),className:"text-input-foreground bg-input pr-8"}),t.jsx(g,{className:"absolute top-1/2 right-2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),D&&y.length>0&&t.jsx("div",{ref:u,className:"absolute top-full right-0 left-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:y.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>I(e),children:e.name},e.id))})]}),t.jsxs("div",{className:"relative",children:[t.jsx(i,{ref:h,type:"text",placeholder:"Property",value:n.property,onChange:U,onFocus:()=>l(!0),className:"text-input-foreground bg-input pr-8"}),t.jsx(g,{className:"absolute top-1/2 right-2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),k&&v.length>0&&t.jsx("div",{ref:d,className:"absolute top-full right-0 left-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:v.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>P(e),children:e.name},e.id))})]}),t.jsxs("div",{className:"relative",children:[t.jsx(i,{ref:f,type:"text",placeholder:"Unit",value:n.unit,onChange:z,onFocus:()=>c(!0),className:"text-input-foreground bg-input pr-8"}),t.jsx(g,{className:"absolute top-1/2 right-2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),F&&w.length>0&&t.jsx("div",{ref:p,className:"absolute top-full right-0 left-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:w.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>E(e),children:e.name},e.id))})]}),t.jsx(i,{type:"text",placeholder:"Application Name",value:n.name,onChange:e=>s("name",e.target.value),className:"text-input-foreground bg-input"}),t.jsx("div",{className:"hidden md:block"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(C,{onClick:B,variant:"default",className:"flex items-center",children:[t.jsx(A,{className:"mr-2 h-4 w-4"}),"Search"]}),t.jsxs(C,{onClick:O,variant:"outline",className:"flex items-center",children:[t.jsx(X,{className:"mr-2 h-4 w-4"}),"Clear"]})]})]})}export{ee as default};
