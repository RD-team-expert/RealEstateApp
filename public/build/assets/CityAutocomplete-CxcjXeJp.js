import{r as t,j as o}from"./app-Y5k3mklr.js";import{I as x}from"./input-C9nWuHON.js";import{C as g}from"./chevron-down-DPdXkLmR.js";import"./app-BZFxL5VY.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-BOWbKjUa.js";const E=({cities:r,value:s,onChange:d,onSelect:p})=>{const[f,n]=t.useState(!1),[l,c]=t.useState(r),u=t.useRef(null),i=t.useRef(null);t.useEffect(()=>{if(s.trim()==="")c(r);else{const e=r.filter(a=>a.city.toLowerCase().includes(s.toLowerCase()));c(e)}},[s,r]),t.useEffect(()=>{const e=a=>{i.current&&!i.current.contains(a.target)&&u.current&&!u.current.contains(a.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const m=e=>{d(e.target.value),n(!0)},h=e=>{p(e),n(!1)};return o.jsxs("div",{className:"relative",children:[o.jsx(x,{ref:u,type:"text",placeholder:"City",value:s,onChange:m,onFocus:()=>n(!0),className:"text-input-foreground bg-input pr-8"}),o.jsx(g,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),f&&l.length>0&&o.jsx("div",{ref:i,className:"absolute top-full left-0 right-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:l.map(e=>o.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>h(e.city),children:e.city},e.id))})]})};export{E as default};
