import{r as S,a as T,U as P,j as e,H as C,L as h,b as u}from"./app-BydbXvNR.js";import{u as A,A as k}from"./app-layout-JAdefpY2.js";import{B as r}from"./app-logo-icon-_X7DW1Ak.js";import{I as B}from"./input-D0VuUaJ9.js";import{C as D,a as H,b as L,c as I}from"./card-D9wtjh1c.js";import{P as J,T as O,a as R,b as j,c as n,d as _,e as c,f as z}from"./table-BEFqGt7n.js";import{B as o}from"./badge-18jTDmdE.js";import{S as E}from"./search-BwFZdpyj.js";import{S as U}from"./square-pen-DQ2VcgES.js";import"./app-B_WQW7DO.js";import"./index-BqVwD9uT.js";import"./index-BMp7K-bq.js";const ee=({notices:t,search:f})=>{const[d,g]=S.useState(f||""),p=s=>{s.preventDefault(),u.get(route("notices.index"),{search:d},{preserveState:!0})},b=s=>{window.confirm("Delete this notice? This cannot be undone.")&&u.delete(`/notices/${s.id}`)},N=s=>s<=3?e.jsxs(o,{variant:"destructive",children:[s," days"]}):s<=7?e.jsxs(o,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",children:[s," days"]}):e.jsxs(o,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:[s," days"]}),{hasPermission:v,hasAnyPermission:l,hasAllPermissions:m}=A(),{url:y}=T(),w=y.split("?")[1]??"",a=new URLSearchParams(w).get("bc"),i=P.useMemo(()=>{const s=[{title:"Notices",href:"/notices"}];if(!a)return s;try{const x=JSON.parse(a);return Array.isArray(x)?[...x,...s]:s}catch{return s}},[a]);return e.jsxs(k,{breadcrumbs:i,children:[e.jsx(C,{title:"Notices"}),e.jsx("div",{className:"py-12 bg-background text-foreground transition-colors min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(D,{className:"bg-card text-card-foreground shadow-lg",children:[e.jsxs(H,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(L,{className:"text-2xl",children:"Notices"}),m(["notices.create","notices.store"])&&e.jsx(h,{href:"/notices/create",data:{bc:JSON.stringify(i)},children:e.jsxs(r,{children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Add Notice"]})})]}),e.jsxs("form",{onSubmit:p,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(B,{type:"text",placeholder:"Search by notice name...",value:d,onChange:s=>g(s.target.value),className:"bg-input text-input-foreground"})}),e.jsx(r,{type:"submit",children:e.jsx(E,{className:"h-4 w-4"})})]})]}),e.jsxs(I,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(O,{children:[e.jsx(R,{children:e.jsxs(j,{className:"border-border",children:[e.jsx(n,{className:"text-muted-foreground",children:"Notice Name"}),e.jsx(n,{className:"text-muted-foreground",children:"Days"}),l(["notices.edit","notices.update","notices.destroy"])&&e.jsx(n,{className:"text-muted-foreground",children:"Actions"})]})}),e.jsx(_,{children:t.map(s=>e.jsxs(j,{className:"hover:bg-muted/50 border-border",children:[e.jsx(c,{className:"font-medium text-foreground",children:s.notice_name}),e.jsx(c,{children:N(s.days)}),l(["notices.edit","notices.update","notices.destroy"])&&e.jsx(c,{children:e.jsxs("div",{className:"flex gap-1",children:[m(["notices.edit","notices.update"])&&e.jsx(h,{href:`/notices/${s.id}/edit`,data:{bc:JSON.stringify(i)},children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(U,{className:"h-4 w-4"})})}),v("notices.destroy")&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>b(s),className:"text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:e.jsx(z,{className:"h-4 w-4"})})]})})]},s.id))})]})}),t.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{className:"text-lg",children:"No notices found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),e.jsx("div",{className:"mt-6 flex justify-between items-center border-t border-border pt-4",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t.length," notices"]})})]})]})})})]})};export{ee as default};
