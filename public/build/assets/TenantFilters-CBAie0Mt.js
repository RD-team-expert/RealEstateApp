import{r as s,j as t}from"./app-Y5k3mklr.js";import{B as x}from"./button-CQfb3JBO.js";import{I as c}from"./input-C9nWuHON.js";import{S as F}from"./search-DjaWC1MF.js";import{R as E}from"./rotate-ccw-5CpSZVyV.js";import"./app-BZFxL5VY.js";import"./index-DeKsjAJz.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-BOWbKjUa.js";const J=({cities:g,properties:v,uniqueUnitNames:w,onSearch:y,onClear:b,initialFilters:C={city:"",property:"",unitName:"",search:""}})=>{const[o,j]=s.useState(C),[N,a]=s.useState(!1),[S,l]=s.useState(!1),[D,i]=s.useState(!1),u=s.useRef(null),d=s.useRef(null),p=s.useRef(null);s.useEffect(()=>{const e=r=>{u.current&&!u.current.contains(r.target)&&a(!1),d.current&&!d.current.contains(r.target)&&l(!1),p.current&&!p.current.contains(r.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const n=(e,r)=>{j(z=>({...z,[e]:r}))},R=e=>{n("city",e),a(!1)},L=e=>{n("property",e),l(!1)},k=e=>{n("unitName",e),i(!1)},h=g.filter(e=>e.toLowerCase().includes(o.city.toLowerCase())),m=v.filter(e=>e.toLowerCase().includes(o.property.toLowerCase())),f=w.filter(e=>e.toLowerCase().includes(o.unitName.toLowerCase()));return t.jsxs("div",{className:"relative z-20 grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"relative",ref:u,children:[t.jsx(c,{type:"text",placeholder:"City",value:o.city,onChange:e=>{const r=e.target.value;n("city",r),a(!0)},onFocus:()=>a(!0),className:"text-input-foreground bg-input"}),N&&h.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:h.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>R(e),children:e},e))})]}),t.jsxs("div",{className:"relative",ref:d,children:[t.jsx(c,{type:"text",placeholder:"Property",value:o.property,onChange:e=>{const r=e.target.value;n("property",r),l(!0)},onFocus:()=>l(!0),className:"text-input-foreground bg-input"}),S&&m.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:m.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>L(e),children:e},e))})]}),t.jsxs("div",{className:"relative",ref:p,children:[t.jsx(c,{type:"text",placeholder:"Unit Name",value:o.unitName,onChange:e=>{const r=e.target.value;n("unitName",r),i(!0)},onFocus:()=>i(!0),className:"text-input-foreground bg-input"}),D&&f.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mb-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:f.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>k(e),children:e},e))})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(c,{type:"text",placeholder:"Search tenants...",value:o.search,onChange:e=>n("search",e.target.value),className:"text-input-foreground bg-input flex-1"}),t.jsx(x,{type:"button",onClick:()=>y(o),size:"sm",children:t.jsx(F,{className:"h-4 w-4"})}),t.jsx(x,{type:"button",onClick:b,size:"sm",variant:"outline",title:"Clear all filters",children:t.jsx(E,{className:"h-4 w-4"})})]})]})};export{J as TenantFilters};
