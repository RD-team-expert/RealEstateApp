import{r as T,a as A,j as e,H as B,L as j,b as p}from"./app-CPAFZdg5.js";import{u as I,A as P}from"./app-layout-BwaCDFuy.js";import{B as h}from"./app-logo-icon-DTHiVsgC.js";import{I as g}from"./input-BoejqtSG.js";import{C as i,c,a as D,b as H}from"./card-DG8dAfP6.js";import{P as U,T as E,a as Y,b as N,c as t,d as V,e as r,f as F}from"./table-Dyu91FOk.js";import{B as l}from"./badge-E16TQu-d.js";import{E as R}from"./eye-D_eWdLJ3.js";import{S as z}from"./square-pen-DhIY2qUO.js";import"./app-fgSBv9O3.js";import"./index-B7VlAMgv.js";import"./index-CbLkonV9.js";function se({auth:k,units:a,statistics:o,filters:b}){const{hasPermission:f,hasAnyPermission:u,hasAllPermissions:y}=I(),[n,_]=T.useState(b),{flash:x}=A().props,d=(s,m)=>{const v={...n,[s]:m};_(v),p.get(route("units.index"),v,{preserveState:!0,preserveScroll:!0})},w=s=>{confirm("Are you sure you want to delete this unit?")&&p.delete(route("units.destroy",s.id))},C=s=>s?e.jsx(l,{variant:s==="Yes"?"destructive":"default",children:s}):e.jsx(l,{variant:"outline",children:"-"}),L=s=>s?e.jsx(l,{variant:s==="Yes"?"default":"secondary",children:s}):e.jsx(l,{variant:"outline",children:"-"}),S=s=>!s||s==="-"?e.jsx(l,{variant:"outline",children:"N/A"}):e.jsx(l,{variant:s==="Yes"?"default":"destructive",children:s});return e.jsxs(P,{children:[e.jsx(B,{title:"Units"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-full mx-auto sm:px-6 lg:px-8",children:[x?.success&&e.jsx("div",{className:"mb-4 bg-chart-1/20 border border-chart-1 text-chart-1 px-4 py-3 rounded",children:x.success}),x?.error&&e.jsx("div",{className:"mb-4 bg-destructive/20 border border-destructive text-destructive px-4 py-3 rounded",children:x.error}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx(i,{children:e.jsxs(c,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Total Units"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:o.total})]})}),e.jsx(i,{children:e.jsxs(c,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Vacant"}),e.jsx("p",{className:"text-3xl font-bold text-destructive",children:o.vacant})]})}),e.jsx(i,{children:e.jsxs(c,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Occupied"}),e.jsx("p",{className:"text-3xl font-bold text-chart-1",children:o.occupied})]})}),e.jsx(i,{children:e.jsxs(c,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Listed"}),e.jsx("p",{className:"text-3xl font-bold text-chart-2",children:o.listed})]})}),e.jsx(i,{children:e.jsxs(c,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Total Applications"}),e.jsx("p",{className:"text-3xl font-bold text-chart-3",children:o.total_applications})]})})]}),e.jsxs(i,{children:[e.jsxs(D,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(H,{className:"text-2xl",children:"Units List"}),u(["units.store","units.create"])&&e.jsx(j,{href:route("units.create"),children:e.jsxs(h,{children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Add Unit"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mt-4",children:[e.jsx(g,{type:"text",placeholder:"City",value:n.city||"",onChange:s=>d("city",s.target.value)}),e.jsx(g,{type:"text",placeholder:"Property",value:n.property||"",onChange:s=>d("property",s.target.value)}),e.jsx(g,{type:"text",placeholder:"Unit Name",value:n.unit_name||"",onChange:s=>d("unit_name",s.target.value)}),e.jsxs("select",{value:n.vacant||"",onChange:s=>d("vacant",s.target.value),className:"h-9 rounded-md border border-input bg-background px-3 text-sm text-foreground",children:[e.jsx("option",{value:"",children:"All Vacant Status"}),e.jsx("option",{value:"Yes",children:"Vacant"}),e.jsx("option",{value:"No",children:"Occupied"})]}),e.jsxs("select",{value:n.listed||"",onChange:s=>d("listed",s.target.value),className:"h-9 rounded-md border border-input bg-background px-3 text-sm text-foreground",children:[e.jsx("option",{value:"",children:"All Listed Status"}),e.jsx("option",{value:"Yes",children:"Listed"}),e.jsx("option",{value:"No",children:"Not Listed"})]}),e.jsxs("select",{value:n.insurance||"",onChange:s=>d("insurance",s.target.value),className:"h-9 rounded-md border border-input bg-background px-3 text-sm text-foreground",children:[e.jsx("option",{value:"",children:"All Insurance"}),e.jsx("option",{value:"Yes",children:"Has Insurance"}),e.jsx("option",{value:"No",children:"No Insurance"})]})]})]}),e.jsxs(c,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(N,{children:[e.jsx(t,{children:"City"}),e.jsx(t,{children:"Property"}),e.jsx(t,{children:"Unit Name"}),e.jsx(t,{children:"Tenants"}),e.jsx(t,{children:"Lease Start"}),e.jsx(t,{children:"Lease End"}),e.jsx(t,{children:"Beds"}),e.jsx(t,{children:"Baths"}),e.jsx(t,{children:"Lease Status"}),e.jsx(t,{children:"Monthly Rent"}),e.jsx(t,{children:"Recurring Transaction"}),e.jsx(t,{children:"Utility Status"}),e.jsx(t,{children:"Account Number"}),e.jsx(t,{children:"Insurance"}),e.jsx(t,{children:"Insurance Exp."}),e.jsx(t,{children:"Vacant"}),e.jsx(t,{children:"Listed"}),e.jsx(t,{children:"Applications"}),u(["units.show","units.edit","units.update","units.destroy"])&&e.jsx(t,{children:"Actions"})]})}),e.jsx(V,{children:a.data.map(s=>e.jsxs(N,{className:"hover:bg-muted/50",children:[e.jsx(r,{className:"font-medium",children:s.city}),e.jsx(r,{children:s.property}),e.jsx(r,{children:e.jsx("span",{className:"font-medium",children:s.unit_name})}),e.jsx(r,{children:s.tenants||"-"}),e.jsx(r,{children:s.lease_start?new Date(s.lease_start).toLocaleDateString():"-"}),e.jsx(r,{children:s.lease_end?new Date(s.lease_end).toLocaleDateString():"-"}),e.jsx(r,{children:s.count_beds||"-"}),e.jsx(r,{children:s.count_baths||"-"}),e.jsx(r,{children:s.lease_status||"-"}),e.jsx(r,{children:e.jsx("span",{className:"font-medium",children:s.formatted_monthly_rent})}),e.jsx(r,{children:e.jsx("div",{className:"max-w-32 truncate",title:s.recurring_transaction||"",children:s.recurring_transaction||"-"})}),e.jsx(r,{children:e.jsx("div",{className:"max-w-24 truncate",title:s.utility_status||"",children:s.utility_status||"-"})}),e.jsx(r,{children:e.jsx("div",{className:"max-w-24 truncate",title:s.account_number||"",children:s.account_number||"-"})}),e.jsx(r,{children:S(s.insurance)}),e.jsx(r,{children:s.insurance_expiration_date?new Date(s.insurance_expiration_date).toLocaleDateString():"-"}),e.jsx(r,{children:C(s.vacant)}),e.jsx(r,{children:L(s.listed)}),e.jsx(r,{children:e.jsx(l,{variant:"secondary",className:"bg-secondary text-secondary-foreground",children:s.total_applications})}),u(["units.show","units.edit","units.update","units.destroy"])&&e.jsx(r,{children:e.jsxs("div",{className:"flex gap-1",children:[f("units.show")&&e.jsx(j,{href:route("units.show",s.id),children:e.jsx(h,{variant:"outline",size:"sm",children:e.jsx(R,{className:"h-4 w-4"})})}),y(["units.edit","units.update"])&&e.jsx(j,{href:route("units.edit",s.id),children:e.jsx(h,{variant:"outline",size:"sm",children:e.jsx(z,{className:"h-4 w-4"})})}),f("units.destroy")&&e.jsx(h,{variant:"outline",size:"sm",onClick:()=>w(s),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(F,{className:"h-4 w-4"})})]})})]},s.id))})]})}),a.data.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{className:"text-lg",children:"No units found matching your criteria."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search filters."})]}),a.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex space-x-2",children:a.links.map((s,m)=>e.jsx("button",{onClick:()=>s.url&&p.get(s.url),disabled:!s.url,className:`px-3 py-2 text-sm rounded ${s.active?"bg-primary text-primary-foreground":s.url?"bg-muted text-foreground hover:bg-accent":"bg-muted text-muted-foreground cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},m))})}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:["Showing ",a.from||0," to ",a.to||0," of ",a.total||0," units"]})]})]})]})})]})}export{se as default};
