import{r as S,j as e}from"./app-BBH7zvDr.js";import{C as A,a as B,b as T}from"./collapsible-BKCek11j.js";import{C as t,a as n,c as o,d as h,b as r}from"./card-nXNWfAGy.js";import{B as c}from"./badge-_xk2rKPu.js";import{B as D}from"./button-kQLvnJYc.js";import{S as y}from"./separator-DqjMfs6o.js";import{c as $}from"./createLucideIcon-7kSuh4z9.js";import{U as i}from"./user-CnzXUCia.js";import{C as d}from"./calendar-BfOPHJgp.js";import{C as M}from"./chevron-up-eAQBr70u.js";import{C as F}from"./chevron-down-DZk5AEb3.js";import{D as I}from"./dollar-sign-BHC8XRqH.js";import{T as j}from"./target-FegnZmIn.js";import{T as U,a as H}from"./trending-up-B99QRugp.js";import{F as L}from"./file-text-BtoeH6mv.js";import{A as V}from"./archive-BiqWHS-E.js";import{C as p}from"./circle-x-DZ52fbTP.js";import{C as N}from"./circle-check-big-BBvw8qnr.js";import{H as E}from"./house-TZOfA7LO.js";import{B as O}from"./building-DsEtYnfD.js";import{M as R}from"./map-pin-D1id6YWL.js";import{S as z}from"./sticky-note-DvPKXSsH.js";import{C as f}from"./clock-BV7ffkaK.js";import"./app-B1OP9MFD.js";import"./index-BWJ0fZlj.js";import"./index-B4JvrASg.js";import"./index-wsGo_tiU.js";import"./index-df1YLpcl.js";import"./utils-CBfrqCZ4.js";import"./index-CdJFUDDL.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]],q=$("PiggyBank",X);function we({paymentPlans:l,selectedUnitId:u}){const[x,g]=S.useState({}),b=s=>{g(a=>({...a,[s]:!a[s]}))},v=s=>{if(!s)return e.jsx(f,{className:"h-4 w-4 text-gray-400"});const a=s.toLowerCase();return a==="paid"||a==="completed"?e.jsx(N,{className:"h-4 w-4 text-green-600"}):a==="partial"||a==="in-progress"?e.jsx(f,{className:"h-4 w-4 text-yellow-600"}):a==="overdue"||a==="defaulted"?e.jsx(p,{className:"h-4 w-4 text-red-600"}):e.jsx(j,{className:"h-4 w-4 text-blue-600"})},w=s=>{if(!s)return"secondary";const a=s.toLowerCase();return a==="paid"||a==="completed"?"default":a==="partial"||a==="in-progress"?"outline":a==="overdue"||a==="defaulted"?"destructive":"secondary"},C=(s,a)=>{if(!s||!a)return 0;const k=parseFloat(s.replace(/[$,]/g,"")),m=parseFloat(a.replace(/[$,]/g,""));return m===0?0:Math.min(k/m*100,100)},_=s=>s===100?"bg-green-500":s>=75?"bg-blue-500":s>=50?"bg-yellow-500":s>=25?"bg-orange-500":"bg-red-500";return u?e.jsxs(t,{className:"w-full",children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-2xl font-bold",children:"Payment Plans"}),e.jsxs(h,{children:["Payment plan arrangements for ",l.length," plan",l.length!==1?"s":""]})]}),l.length===0&&e.jsx(c,{variant:"secondary",className:"px-4 py-2",children:"No payment plans found"})]})}),l.length>0&&e.jsx(r,{className:"space-y-4",children:l.map(s=>{const a=C(s.formatted_paid,s.formatted_amount);return e.jsx(A,{open:x[s.id],onOpenChange:()=>b(s.id),children:e.jsxs(t,{className:"transition-all duration-200 hover:shadow-md",children:[e.jsx(B,{asChild:!0,children:e.jsx(D,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:e.jsx(n,{className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:e.jsx(q,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs(o,{className:"text-xl",children:["Payment Plan #",s.id]}),e.jsxs(h,{className:"flex items-center space-x-4",children:[s.tenant_name&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(i,{className:"h-4 w-4 mr-1"}),s.tenant_name]}),s.dates_formatted&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(d,{className:"h-4 w-4 mr-1"}),"Due: ",s.dates_formatted]})]}),e.jsxs("div",{className:"mt-2 w-full",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[e.jsxs("span",{children:["Progress: ",a.toFixed(0),"%"]}),e.jsxs("span",{children:[s.formatted_paid," / ",s.formatted_amount]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${_(a)}`,style:{width:`${a}%`}})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx(c,{variant:s.is_archived?"destructive":"default",className:"px-3 py-1",children:s.is_archived?"Archived":"Active"}),s.status&&e.jsxs("div",{className:"flex items-center space-x-1",children:[v(s.status),e.jsx(c,{variant:w(s.status),className:"text-xs",children:s.status})]})]}),x[s.id]?e.jsx(M,{className:"h-5 w-5 text-gray-500"}):e.jsx(F,{className:"h-5 w-5 text-gray-500"})]})]})})})}),e.jsx(T,{children:e.jsxs(r,{className:"pt-0",children:[e.jsx(y,{className:"mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(I,{className:"h-5 w-5 text-green-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Payment Details"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{className:"bg-green-50 border-green-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(j,{className:"h-4 w-4 text-green-600"}),e.jsx("label",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide",children:"Total Amount"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.formatted_amount||"$0.00"})]})}),e.jsx(t,{className:"bg-blue-50 border-blue-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(U,{className:"h-4 w-4 text-blue-600"}),e.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"Amount Paid"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.formatted_paid||"$0.00"})]})}),e.jsx(t,{className:"bg-red-50 border-red-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(H,{className:"h-4 w-4 text-red-600"}),e.jsx("label",{className:"text-xs font-semibold text-red-700 uppercase tracking-wide",children:"Remaining Balance"})]}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.formatted_left_to_pay||"$0.00"})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(d,{className:"h-5 w-5 text-purple-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Schedule Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{className:"bg-purple-50 border-purple-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(d,{className:"h-4 w-4 text-purple-600"}),e.jsx("label",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wide",children:"Due Date"})]}),e.jsx("p",{className:"text-sm font-medium text-purple-900",children:s.dates_formatted||"N/A"})]})}),e.jsx(t,{className:"bg-indigo-50 border-indigo-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(L,{className:"h-4 w-4 text-indigo-600"}),e.jsx("label",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide",children:"Plan ID"})]}),e.jsxs("p",{className:"text-lg font-semibold text-indigo-900",children:["#",s.id]})]})}),e.jsx(t,{className:"bg-slate-50",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(V,{className:"h-4 w-4 text-slate-600"}),e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Status"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.is_archived?e.jsx(p,{className:"h-4 w-4 text-red-600"}):e.jsx(N,{className:"h-4 w-4 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-slate-900",children:s.is_archived?"Archived":"Active"})]})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(i,{className:"h-5 w-5 text-emerald-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Tenant Information"})]}),e.jsxs("div",{className:"space-y-3",children:[s.tenant_name&&e.jsx(t,{className:"bg-emerald-50 border-emerald-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(i,{className:"h-4 w-4 text-emerald-600"}),e.jsx("label",{className:"text-xs font-semibold text-emerald-700 uppercase tracking-wide",children:"Tenant Name"})]}),e.jsx("p",{className:"text-sm font-medium text-emerald-900",children:s.tenant_name})]})}),s.unit_name&&e.jsx(t,{className:"bg-blue-50 border-blue-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(E,{className:"h-4 w-4 text-blue-600"}),e.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"Unit"})]}),e.jsx("p",{className:"text-sm font-medium text-blue-900",children:s.unit_name})]})}),s.property_name&&e.jsx(t,{className:"bg-orange-50 border-orange-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(O,{className:"h-4 w-4 text-orange-600"}),e.jsx("label",{className:"text-xs font-semibold text-orange-700 uppercase tracking-wide",children:"Property"})]}),e.jsx("p",{className:"text-sm font-medium text-orange-900",children:s.property_name})]})}),s.city_name&&e.jsx(t,{className:"bg-slate-50",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(R,{className:"h-4 w-4 text-slate-600"}),e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"City"})]}),e.jsx("p",{className:"text-sm font-medium text-slate-900",children:s.city_name})]})})]})]})]}),s.notes&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(z,{className:"h-5 w-5 text-amber-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Notes"})]}),e.jsx(t,{className:"bg-amber-50 border-amber-200",children:e.jsx(r,{className:"p-4",children:e.jsx("p",{className:"text-sm text-amber-900 whitespace-pre-wrap",children:s.notes})})})]})]})})]})},s.id)})})]}):null}export{we as default};
