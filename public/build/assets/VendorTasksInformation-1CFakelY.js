import{r as $,j as e}from"./app-BSOlzI_M.js";import{C as B,a as V,b as Y}from"./collapsible-BeIaK3gz.js";import{C as a,a as g,c as b,d as w,b as l}from"./card-lrH58jzJ.js";import{B as n}from"./badge-Bc6JwGPl.js";import{B as P}from"./button-D2rKFPK1.js";import{S as I}from"./separator-J9LDHLV2.js";import{W as y}from"./wrench-AB0PbR3c.js";import{U as x}from"./user-Cz0n3rM8.js";import{B as _}from"./building-X8V0cPLX.js";import{C as d}from"./calendar-CthI5zTo.js";import{C as M}from"./chevron-up-RzjEL1k0.js";import{C as U}from"./chevron-down--Oeingn_.js";import{F as C}from"./file-text-XuiuEW0Z.js";import{c as D}from"./createLucideIcon-BGWKpKjb.js";import{P as E,M as H}from"./phone-CehPU7YW.js";import{M as L}from"./map-pin-57um3dcz.js";import{T as o}from"./target-Cu0lsZl8.js";import{Z as W}from"./zap-CAh_8ko0.js";import{S as q}from"./sticky-note-DWnokJL_.js";import{T as F}from"./triangle-alert-EDCPZCCy.js";import{C as m}from"./clock-AN4D12Xd.js";import{C as O}from"./circle-check-big-D971uMc1.js";import{C as R}from"./circle-x-DdSGTMq6.js";import"./app-D9zByHv3.js";import"./index-BK07_5Wa.js";import"./index-ByB7CnZO.js";import"./index-DIXGfQsU.js";import"./index-C5g_kYK6.js";import"./utils-CBfrqCZ4.js";import"./index-CdJFUDDL.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],G=D("Truck",Z);function Ce({vendorTasks:i,selectedUnitId:v}){const[h,S]=$.useState({}),p=s=>{if(Array.isArray(s))return s.filter(c=>typeof c=="string"&&c.length>0).map(c=>p(c)).filter(c=>typeof c=="string"&&c.length>0).join(", ");if(s==null)return"";const t=String(s);if(!t)return"";const r=t.replace(/\D/g,"");return r.length===10?`(${r.slice(0,3)}) ${r.slice(3,6)}-${r.slice(6)}`:r.length===11&&r.startsWith("1")?`+1 (${r.slice(1,4)}) ${r.slice(4,7)}-${r.slice(7)}`:t},A=s=>{S(t=>({...t,[s]:!t[s]}))},N=s=>s==="Yes"?e.jsx(F,{className:"h-4 w-4 text-red-600"}):e.jsx(m,{className:"h-4 w-4 text-green-600"}),j=s=>s==="Yes"?"destructive":"default",u=s=>{if(!s)return e.jsx(m,{className:"h-4 w-4 text-gray-400"});const t=s.toLowerCase();return t.includes("completed")||t.includes("done")||t.includes("finished")?e.jsx(O,{className:"h-4 w-4 text-green-600"}):t.includes("in progress")||t.includes("active")||t.includes("working")?e.jsx(m,{className:"h-4 w-4 text-blue-600"}):t.includes("pending")||t.includes("waiting")?e.jsx(m,{className:"h-4 w-4 text-yellow-600"}):t.includes("cancelled")||t.includes("failed")?e.jsx(R,{className:"h-4 w-4 text-red-600"}):e.jsx(o,{className:"h-4 w-4 text-blue-600"})},f=s=>{if(!s)return"secondary";const t=s.toLowerCase();return t.includes("completed")||t.includes("done")||t.includes("finished")?"default":t.includes("in progress")||t.includes("active")||t.includes("working")?"outline":t.includes("cancelled")||t.includes("failed")?"destructive":"secondary"};return v?e.jsxs(a,{className:"w-full",children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(b,{className:"text-2xl font-bold",children:"Vendor Tasks Information"}),e.jsxs(w,{children:["Service tasks and vendor assignments for ",i.length," task",i.length!==1?"s":""]})]}),i.length===0&&e.jsx(n,{variant:"secondary",className:"px-4 py-2",children:"No vendor tasks found"})]})}),i.length>0&&e.jsx(l,{className:"space-y-4",children:i.map(s=>e.jsx(B,{open:h[s.id],onOpenChange:()=>A(s.id),children:e.jsxs(a,{className:"transition-all duration-200 hover:shadow-md",children:[e.jsx(V,{asChild:!0,children:e.jsx(P,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:e.jsx(g,{className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-full ${s.urgent==="Yes"?"bg-red-100":"bg-blue-100"}`,children:e.jsx(y,{className:`h-5 w-5 ${s.urgent==="Yes"?"text-red-600":"text-blue-600"}`})}),e.jsxs("div",{className:"text-left",children:[e.jsxs(b,{className:"text-xl",children:["Task #",s.id]}),e.jsxs(w,{className:"flex items-center space-x-4",children:[s.vendor_name&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(x,{className:"h-4 w-4 mr-1"}),s.vendor_name]}),s.vendor_service_type&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(_,{className:"h-4 w-4 mr-1"}),s.vendor_service_type]}),s.task_submission_date_formatted&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(d,{className:"h-4 w-4 mr-1"}),s.task_submission_date_formatted]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[N(s.urgent),e.jsx(n,{variant:j(s.urgent),className:"px-3 py-1",children:s.urgent==="Yes"?"Urgent":"Normal"})]}),s.status&&e.jsxs("div",{className:"flex items-center space-x-1",children:[u(s.status),e.jsx(n,{variant:f(s.status),className:"text-xs",children:s.status})]})]}),h[s.id]?e.jsx(M,{className:"h-5 w-5 text-gray-500"}):e.jsx(U,{className:"h-5 w-5 text-gray-500"})]})]})})})}),e.jsx(Y,{children:e.jsxs(l,{className:"pt-0",children:[e.jsx(I,{className:"mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(y,{className:"h-5 w-5 text-blue-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Task Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{className:"bg-blue-50 border-blue-200",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(C,{className:"h-4 w-4 text-blue-600"}),e.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"Assigned Tasks"})]}),e.jsx("p",{className:"text-sm font-medium text-blue-900",children:s.assigned_tasks||"N/A"})]})}),e.jsx(a,{className:"bg-green-50 border-green-200",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(d,{className:"h-4 w-4 text-green-600"}),e.jsx("label",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide",children:"Submission Date"})]}),e.jsx("p",{className:"text-sm font-medium text-green-900",children:s.task_submission_date_formatted||"N/A"})]})}),e.jsx(a,{className:"bg-purple-50 border-purple-200",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(G,{className:"h-4 w-4 text-purple-600"}),e.jsx("label",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wide",children:"Scheduled Visits"})]}),e.jsx("p",{className:"text-sm font-medium text-purple-900",children:s.any_scheduled_visits_formatted||"N/A"})]})}),e.jsx(a,{className:"bg-red-50 border-red-200",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(d,{className:"h-4 w-4 text-red-600"}),e.jsx("label",{className:"text-xs font-semibold text-red-700 uppercase tracking-wide",children:"Task End Date"})]}),e.jsx("p",{className:"text-sm font-medium text-red-900",children:s.task_ending_date_formatted||"N/A"})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(x,{className:"h-5 w-5 text-emerald-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Vendor Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{className:"bg-emerald-50 border-emerald-200",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(x,{className:"h-4 w-4 text-emerald-600"}),e.jsx("label",{className:"text-xs font-semibold text-emerald-700 uppercase tracking-wide",children:"Vendor Name"})]}),e.jsx("p",{className:"text-sm font-medium text-emerald-900",children:s.vendor_name||"N/A"})]})}),e.jsx(a,{className:"bg-indigo-50 border-indigo-200",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(_,{className:"h-4 w-4 text-indigo-600"}),e.jsx("label",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide",children:"Service Type"})]}),e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:s.vendor_service_type||"N/A"})]})}),e.jsx(a,{className:"bg-slate-50",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(E,{className:"h-4 w-4 text-slate-600"}),e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Phone Number"})]}),e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:s.vendor_number?p(s.vendor_number):"N/A"})]})}),e.jsx(a,{className:"bg-blue-50 border-blue-200",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(H,{className:"h-4 w-4 text-blue-600"}),e.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"Email"})]}),e.jsx("p",{className:"text-sm font-medium text-blue-900 break-all",children:s.vendor_email||"N/A"})]})}),e.jsx(a,{className:"bg-orange-50 border-orange-200",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(L,{className:"h-4 w-4 text-orange-600"}),e.jsx("label",{className:"text-xs font-semibold text-orange-700 uppercase tracking-wide",children:"Vendor City"})]}),e.jsx("p",{className:"text-sm font-medium text-orange-900",children:s.vendor_city_name||"N/A"})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(o,{className:"h-5 w-5 text-purple-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Status & Priority"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{className:`${s.urgent==="Yes"?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[N(s.urgent),e.jsx("label",{className:`text-xs font-semibold uppercase tracking-wide ${s.urgent==="Yes"?"text-red-700":"text-green-700"}`,children:"Priority Level"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.urgent==="Yes"&&e.jsx(W,{className:"h-4 w-4 text-red-600"}),e.jsx(n,{variant:j(s.urgent),className:"font-semibold",children:s.urgent==="Yes"?"URGENT":"Normal Priority"})]})]})}),s.status&&e.jsx(a,{className:"bg-blue-50 border-blue-200",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(o,{className:"h-4 w-4 text-blue-600"}),e.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"Current Status"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[u(s.status),e.jsx(n,{variant:f(s.status),className:"font-semibold",children:s.status})]})]})}),e.jsx(a,{className:"bg-slate-50",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(C,{className:"h-4 w-4 text-slate-600"}),e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Task ID"})]}),e.jsxs("p",{className:"text-lg font-semibold text-slate-900",children:["#",s.id]})]})})]})]})]}),s.notes&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(q,{className:"h-5 w-5 text-amber-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Task Notes"})]}),e.jsx(a,{className:"bg-amber-50 border-amber-200",children:e.jsx(l,{className:"p-4",children:e.jsx("p",{className:"text-sm text-amber-900 whitespace-pre-wrap",children:s.notes})})})]})]})})]})},s.id))})]}):null}export{Ce as default};
