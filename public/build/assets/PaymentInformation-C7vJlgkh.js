import{r as P,j as e}from"./app-BSOlzI_M.js";import{C as $,a as A,b as D}from"./collapsible-BeIaK3gz.js";import{C as t,a as N,c as p,d as f,b as r}from"./card-lrH58jzJ.js";import{B as i}from"./badge-Bc6JwGPl.js";import{B as I}from"./button-D2rKFPK1.js";import{S as R}from"./separator-J9LDHLV2.js";import{D as m}from"./dollar-sign-CX6g00Px.js";import{C as g}from"./calendar-CthI5zTo.js";import{T as u,a as T}from"./trending-up-b8kb6onu.js";import{S as b}from"./shield-CtVmy-S8.js";import{A as w}from"./archive-B32bgABW.js";import{C as B}from"./chevron-up-RzjEL1k0.js";import{C as F}from"./chevron-down--Oeingn_.js";import{C as v}from"./credit-card-Dh1t_toN.js";import{C as d}from"./circle-check-big-D971uMc1.js";import{C as o}from"./circle-x-DdSGTMq6.js";import{R as L}from"./rotate-ccw-B0RGZt2F.js";import{F as C}from"./file-text-XuiuEW0Z.js";import{S as U}from"./sticky-note-DWnokJL_.js";import{C as x}from"./clock-AN4D12Xd.js";import{c as M}from"./createLucideIcon-BGWKpKjb.js";import"./app-D9zByHv3.js";import"./index-BK07_5Wa.js";import"./index-ByB7CnZO.js";import"./index-DIXGfQsU.js";import"./index-C5g_kYK6.js";import"./utils-CBfrqCZ4.js";import"./index-CdJFUDDL.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M5 12h14",key:"1ays0h"}]],E=M("Minus",O);function pe({payments:l,selectedUnitId:_}){const[h,y]=P.useState({}),k=s=>{y(a=>({...a,[s]:!a[s]}))},j=s=>{if(!s)return e.jsx(x,{className:"h-4 w-4 text-gray-400"});const a=s.toLowerCase();return a==="paid"?e.jsx(d,{className:"h-4 w-4 text-green-600"}):a==="partial"?e.jsx(x,{className:"h-4 w-4 text-yellow-600"}):a==="unpaid"||a==="overdue"?e.jsx(o,{className:"h-4 w-4 text-red-600"}):e.jsx(x,{className:"h-4 w-4 text-gray-400"})},S=s=>{if(!s)return"secondary";const a=s.toLowerCase();return a==="paid"?"default":a==="partial"?"outline":a==="unpaid"||a==="overdue"?"destructive":"secondary"},c=(s,a)=>{if(s===void 0||s===0)return"text-gray-500";switch(a){case"owed":return s>0?"text-red-600":"text-gray-500";case"paid":return s>0?"text-green-600":"text-gray-500";case"remaining":return s>0?"text-orange-600":"text-green-600";default:return"text-gray-900"}},n=(s,a)=>{if(s===void 0||s===0)return e.jsx(E,{className:"h-4 w-4 text-gray-400"});switch(a){case"owed":return e.jsx(T,{className:"h-4 w-4 text-red-600"});case"paid":return e.jsx(u,{className:"h-4 w-4 text-green-600"});case"remaining":return s>0?e.jsx(x,{className:"h-4 w-4 text-orange-600"}):e.jsx(d,{className:"h-4 w-4 text-green-600"});default:return e.jsx(m,{className:"h-4 w-4 text-gray-400"})}};return _?e.jsxs(t,{className:"w-full",children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-2xl font-bold",children:"Payment Information"}),e.jsxs(f,{children:["Payment records and transaction history for ",l.length," record",l.length!==1?"s":""]})]}),l.length===0&&e.jsx(i,{variant:"secondary",className:"px-4 py-2",children:"No payments found"})]})}),l.length>0&&e.jsx(r,{className:"space-y-4",children:l.map(s=>e.jsx($,{open:h[s.id],onOpenChange:()=>k(s.id),children:e.jsxs(t,{className:"transition-all duration-200 hover:shadow-md",children:[e.jsx(A,{asChild:!0,children:e.jsx(I,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:e.jsx(N,{className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-green-100",children:e.jsx(m,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs(p,{className:"text-xl",children:["Payment #",s.id]}),e.jsxs(f,{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(g,{className:"h-4 w-4 mr-1"}),s.date_formatted]}),e.jsxs("span",{className:`flex items-center font-semibold ${c(s.paid,"paid")}`,children:[e.jsx(u,{className:"h-4 w-4 mr-1"}),s.formatted_paid||`$${s.paid?.toFixed(2)||"0.00"}`]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[j(s.status),e.jsx(i,{variant:S(s.status),className:"px-3 py-1",children:s.status||"Unknown"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.permanent==="Yes"&&e.jsxs(i,{variant:"secondary",className:"text-xs",children:[e.jsx(b,{className:"h-3 w-3 mr-1"}),"Permanent"]}),s.is_archived&&e.jsxs(i,{variant:"outline",className:"text-xs",children:[e.jsx(w,{className:"h-3 w-3 mr-1"}),"Archived"]})]})]}),h[s.id]?e.jsx(B,{className:"h-5 w-5 text-gray-500"}):e.jsx(F,{className:"h-5 w-5 text-gray-500"})]})]})})})}),e.jsx(D,{children:e.jsxs(r,{className:"pt-0",children:[e.jsx(R,{className:"mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(m,{className:"h-5 w-5 text-green-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Payment Details"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{className:"bg-red-50 border-red-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n(s.owes,"owed"),e.jsx("label",{className:"text-xs font-semibold text-red-700 uppercase tracking-wide",children:"Amount Owed"})]}),e.jsx("p",{className:`text-2xl font-bold ${c(s.owes,"owed")}`,children:s.formatted_owes||`$${s.owes?.toFixed(2)||"0.00"}`})]})}),e.jsx(t,{className:"bg-green-50 border-green-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n(s.paid,"paid"),e.jsx("label",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide",children:"Amount Paid"})]}),e.jsx("p",{className:`text-2xl font-bold ${c(s.paid,"paid")}`,children:s.formatted_paid||`$${s.paid?.toFixed(2)||"0.00"}`})]})}),e.jsx(t,{className:"bg-orange-50 border-orange-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n(s.left_to_pay,"remaining"),e.jsx("label",{className:"text-xs font-semibold text-orange-700 uppercase tracking-wide",children:"Left to Pay"})]}),e.jsx("p",{className:`text-2xl font-bold ${c(s.left_to_pay,"remaining")}`,children:s.formatted_left_to_pay||`$${s.left_to_pay?.toFixed(2)||"0.00"}`})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(v,{className:"h-5 w-5 text-blue-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Status Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{className:"bg-blue-50 border-blue-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(v,{className:"h-4 w-4 text-blue-600"}),e.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"Payment Status"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[j(s.status),e.jsx("p",{className:"text-sm font-medium text-blue-900",children:s.status||"Unknown"})]})]})}),e.jsx(t,{className:"bg-purple-50 border-purple-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(b,{className:"h-4 w-4 text-purple-600"}),e.jsx("label",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wide",children:"Permanent Record"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.permanent==="Yes"?e.jsx(d,{className:"h-4 w-4 text-green-600"}):e.jsx(o,{className:"h-4 w-4 text-red-600"}),e.jsx("p",{className:"text-sm font-medium text-purple-900",children:s.permanent||"No"})]})]})}),s.reversed_payments&&e.jsx(t,{className:"bg-red-50 border-red-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(L,{className:"h-4 w-4 text-red-600"}),e.jsx("label",{className:"text-xs font-semibold text-red-700 uppercase tracking-wide",children:"Reversed Payments"})]}),e.jsx("p",{className:"text-sm font-medium text-red-900",children:s.reversed_payments})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(C,{className:"h-5 w-5 text-slate-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Record Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{className:"bg-slate-50",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(C,{className:"h-4 w-4 text-slate-600"}),e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Record ID"})]}),e.jsxs("p",{className:"text-lg font-semibold text-slate-900",children:["#",s.id]})]})}),e.jsx(t,{className:"bg-indigo-50 border-indigo-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(g,{className:"h-4 w-4 text-indigo-600"}),e.jsx("label",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide",children:"Transaction Date"})]}),e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:s.date_formatted})]})}),e.jsx(t,{className:"bg-gray-50 border-gray-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(w,{className:"h-4 w-4 text-gray-600"}),e.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Archived Status"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.is_archived?e.jsx(o,{className:"h-4 w-4 text-red-600"}):e.jsx(d,{className:"h-4 w-4 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.is_archived?"Archived":"Active"})]})]})})]})]})]}),s.notes&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(U,{className:"h-5 w-5 text-amber-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Notes"})]}),e.jsx(t,{className:"bg-amber-50 border-amber-200",children:e.jsx(r,{className:"p-4",children:e.jsx("p",{className:"text-sm text-amber-900 whitespace-pre-wrap",children:s.notes})})})]})]})})]})},s.id))})]}):null}export{pe as default};
