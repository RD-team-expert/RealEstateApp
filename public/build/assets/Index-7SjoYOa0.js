import{r as f,j as e,H as D,L as c,b as g}from"./app-BydbXvNR.js";import{u as k,A as L}from"./app-layout-JAdefpY2.js";import{B as d}from"./app-logo-icon-_X7DW1Ak.js";import{I as T}from"./input-D0VuUaJ9.js";import{C,a as B,b as R,c as O}from"./card-D9wtjh1c.js";import{P,T as H,a as E,b as j,c as t,d as F,e as r,f as I}from"./table-BEFqGt7n.js";import{B as n}from"./badge-18jTDmdE.js";import{S as z}from"./search-BwFZdpyj.js";import{E as Y}from"./eye-CPs45M0j.js";import{S as $}from"./square-pen-DQ2VcgES.js";import"./app-B_WQW7DO.js";import"./index-BqVwD9uT.js";import"./index-BMp7K-bq.js";const K=[{label:"Offers",value:"offers"},{label:"Renewals",value:"renewals"},{label:"Both",value:"both"}],re=({offers:N,search:w})=>{const[o,p]=f.useState(w||""),[a,b]=f.useState("offers"),l=N.filter(s=>!0),v=s=>{s.preventDefault(),g.get(route("offers-and-renewals.index"),{search:o},{preserveState:!0})},_=s=>{window.confirm("Are you sure you want to delete this offer? This action cannot be undone.")&&g.delete(`/offers_and_renewals/${s.id}`)},y=s=>{if(!s)return e.jsx(n,{variant:"outline",children:"N/A"});switch(s.toLowerCase()){case"accepted":return e.jsx(n,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:s});case"pending":return e.jsx(n,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",children:s});case"rejected":return e.jsx(n,{variant:"destructive",children:s});default:return e.jsx(n,{variant:"default",children:s})}},i=s=>!s||s==="-"?e.jsx(n,{variant:"outline",children:"N/A"}):e.jsx(n,{variant:s==="Yes"?"default":"secondary",className:s==="Yes"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",children:s}),S=s=>{if(!s)return e.jsx(n,{variant:"outline",children:"N/A"});const h=parseInt(s);return h<=7?e.jsxs(n,{variant:"destructive",children:[s," days"]}):h<=30?e.jsxs(n,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",children:[s," days"]}):e.jsxs(n,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:[s," days"]})},{hasPermission:x,hasAnyPermission:m,hasAllPermissions:u}=k(),A=[{title:"OffersAndRenewals/",href:"/offers_and_renewals"}];return e.jsxs(L,{breadcrumbs:A,children:[e.jsx(D,{title:"Offers and Renewals"}),e.jsx("div",{className:"py-12 bg-background text-foreground transition-colors min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(C,{className:"bg-card text-card-foreground shadow-lg",children:[e.jsxs(B,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(R,{className:"text-2xl",children:"Offers and Renewals"}),u(["offers-and-renewals.create","offers-and-renewals.store"])&&e.jsx(c,{href:"/offers_and_renewals/create",children:e.jsxs(d,{children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Add New"]})})]}),e.jsxs("form",{onSubmit:v,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(T,{type:"text",placeholder:"Search by unit, tenant, or status...",value:o,onChange:s=>p(s.target.value),className:"bg-input text-input-foreground"})}),e.jsx(d,{type:"submit",children:e.jsx(z,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:K.map(s=>e.jsx(d,{variant:a===s.value?"default":"outline",onClick:()=>b(s.value),children:s.label},s.value))})]}),e.jsxs(O,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(H,{children:[e.jsx(E,{children:e.jsxs(j,{className:"border-border",children:[e.jsx(t,{className:"text-muted-foreground",children:"Unit"}),e.jsx(t,{className:"text-muted-foreground",children:"Tenant"}),(a==="offers"||a==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"text-muted-foreground",children:"Date Sent Offer"}),e.jsx(t,{className:"text-muted-foreground",children:"Status"}),e.jsx(t,{className:"text-muted-foreground",children:"Date of Acceptance"}),e.jsx(t,{className:"text-muted-foreground",children:"Offer Last Notice Sent"}),e.jsx(t,{className:"text-muted-foreground",children:"Offer Notice Kind"})]}),(a==="renewals"||a==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"text-muted-foreground",children:"Lease Sent?"}),e.jsx(t,{className:"text-muted-foreground",children:"Date Sent Lease"}),e.jsx(t,{className:"text-muted-foreground",children:"Lease Signed?"}),e.jsx(t,{className:"text-muted-foreground",children:"Date Signed"}),e.jsx(t,{className:"text-muted-foreground",children:"Renewal Last Notice Sent"}),e.jsx(t,{className:"text-muted-foreground",children:"Renewal Notice Kind"}),e.jsx(t,{className:"text-muted-foreground",children:"Notes"})]}),e.jsx(t,{className:"text-muted-foreground",children:"How Many Days Left"}),e.jsx(t,{className:"text-muted-foreground",children:"Expired"}),m(["offers-and-renewals.show","offers-and-renewals.edit","offers-and-renewals.update","offers-and-renewals.destroy"])&&e.jsx(t,{className:"text-muted-foreground",children:"Actions"})]})}),e.jsx(F,{children:l.map(s=>e.jsxs(j,{className:"hover:bg-muted/50 border-border",children:[e.jsx(r,{className:"font-medium text-foreground",children:s.unit}),e.jsx(r,{className:"text-foreground",children:s.tenant}),(a==="offers"||a==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"text-foreground",children:s.date_sent_offer?new Date(s.date_sent_offer).toLocaleDateString():e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(r,{children:y(s.status)}),e.jsx(r,{className:"text-foreground",children:s.date_of_acceptance?new Date(s.date_of_acceptance).toLocaleDateString():e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(r,{className:"text-foreground",children:s.last_notice_sent?new Date(s.last_notice_sent).toLocaleDateString():e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(r,{className:"text-foreground",children:s.notice_kind||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]}),(a==="renewals"||a==="both")&&e.jsxs(e.Fragment,{children:[e.jsx(r,{children:i(s.lease_sent)}),e.jsx(r,{className:"text-foreground",children:s.date_sent_lease?new Date(s.date_sent_lease).toLocaleDateString():e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(r,{children:i(s.lease_signed)}),e.jsx(r,{className:"text-foreground",children:s.date_signed?new Date(s.date_signed).toLocaleDateString():e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(r,{className:"text-foreground",children:s.last_notice_sent_2?new Date(s.last_notice_sent_2).toLocaleDateString():e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(r,{className:"text-foreground",children:s.notice_kind_2||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(r,{className:"max-w-xs text-foreground",children:e.jsx("div",{className:"truncate",title:s.notes||"N/A",children:s.notes||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})})})]}),e.jsx(r,{children:S(s.how_many_days_left)}),e.jsx(r,{children:e.jsx(n,{variant:s.expired==="expired"?"destructive":"default",children:s.expired??e.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),m(["offers-and-renewals.show","offers-and-renewals.edit","offers-and-renewals.update","offers-and-renewals.destroy"])&&e.jsx(r,{children:e.jsxs("div",{className:"flex gap-1",children:[x("offers-and-renewals.show")&&e.jsx(c,{href:`/offers_and_renewals/${s.id}`,children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx(Y,{className:"h-4 w-4"})})}),u(["offers-and-renewals.edit","offers-and-renewals.update"])&&e.jsx(c,{href:`/offers_and_renewals/${s.id}/edit`,children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx($,{className:"h-4 w-4"})})}),x("offers-and-renewals.destroy")&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>_(s),className:"text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:e.jsx(I,{className:"h-4 w-4"})})]})})]},s.id))})]})}),l.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{className:"text-lg",children:"No offers found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),e.jsx("div",{className:"mt-6 flex justify-between items-center border-t border-border pt-4",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",l.length," ",a]})})]})]})})})]})};export{re as default};
