import{j as r,L as m}from"./app-CHDKARjb.js";import{B as n}from"./badge-eUHoACpP.js";import{B as l}from"./button-DVMLQ4Cf.js";import{b as u,e as t}from"./table-OH-MIgN2.js";import{E as g}from"./eye-BmtEEgNg.js";import{S as h}from"./square-pen-FIXyxp3A.js";import{T as N}from"./trash-2-BG_L6yri.js";import{f as j}from"./format-PYUiRpxY.js";import"./app-BmbQfT0_.js";import"./index-DzrNkgKa.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-C7c1hvIj.js";const a=(e,d="-")=>{if(!e)return d;const o=/^(\d{4})-(\d{2})-(\d{2})/.exec(e);if(!o)return d;const[,c,s,x]=o,b=new Date(Number(c),Number(s)-1,Number(x));return j(b,"P")},_=e=>{if(!e)return r.jsx(n,{variant:"outline",children:"N/A"});switch(e.toLowerCase()){case"accepted":return r.jsx(n,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:e});case"pending":return r.jsx(n,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",children:e});case"rejected":return r.jsx(n,{variant:"destructive",children:e});default:return r.jsx(n,{variant:"default",children:e})}},i=e=>!e||e==="-"?r.jsx(n,{variant:"outline",children:"N/A"}):r.jsx(n,{variant:e==="Yes"?"default":"secondary",className:e==="Yes"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",children:e}),p=e=>{if(!e&&e!==0)return r.jsx(n,{variant:"outline",children:"N/A"});const d=typeof e=="string"?parseInt(e):e;return d<=7?r.jsxs(n,{variant:"destructive",children:[e," days"]}):d<=30?r.jsxs(n,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",children:[e," days"]}):r.jsxs(n,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:[e," days"]})},R=({offer:e,activeTab:d,onEdit:o,onDelete:c,permissions:s})=>r.jsxs(u,{className:"border-border hover:bg-muted/50",children:[r.jsx(t,{className:"sticky left-0 z-10 border border-border bg-muted text-center font-medium text-foreground",children:e.city_name||"N/A"}),r.jsx(t,{className:"sticky left-[120px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:e.property||"N/A"}),r.jsx(t,{className:"sticky left-[270px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:e.unit||"N/A"}),r.jsx(t,{className:"sticky left-[390px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:e.tenant||"N/A"}),(d==="offers"||d==="both")&&r.jsxs(r.Fragment,{children:[r.jsx(t,{className:"border border-border text-center text-foreground",children:e.other_tenants?r.jsx("div",{className:"max-w-32 truncate",title:e.other_tenants,children:e.other_tenants}):r.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),r.jsx(t,{className:"border border-border text-center text-foreground",children:a(e.date_of_decline)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:a(e.date_sent_offer)}),r.jsx(t,{className:"border border-border text-center",children:_(e.status??null)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:a(e.date_of_acceptance)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:a(e.last_notice_sent)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:e.notice_kind||r.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]}),(d==="renewals"||d==="both")&&r.jsxs(r.Fragment,{children:[r.jsx(t,{className:"border border-border text-center",children:i(e.lease_sent??null)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:a(e.date_sent_lease)}),r.jsx(t,{className:"border border-border text-center",children:i(e.lease_signed??null)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:a(e.date_signed)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:a(e.last_notice_sent_2)}),r.jsx(t,{className:"border border-border text-center text-foreground",children:e.notice_kind_2||r.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),r.jsx(t,{className:"border border-border text-center",children:e.notes?r.jsx("div",{className:"max-w-24 truncate",title:e.notes,children:e.notes}):r.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]}),r.jsx(t,{className:"border border-border text-center",children:p(e.how_many_days_left??null)}),r.jsx(t,{className:"border border-border text-center",children:r.jsx(n,{variant:e.expired==="expired"?"destructive":"default",children:e.expired??"N/A"})}),(s.canView||s.canEdit||s.canDelete)&&r.jsx(t,{className:"border border-border text-center",children:r.jsxs("div",{className:"flex gap-1",children:[s.canView&&r.jsx(m,{href:`/offers_and_renewals/${e.id}`,children:r.jsx(l,{variant:"outline",size:"sm",children:r.jsx(g,{className:"h-4 w-4"})})}),s.canEdit&&r.jsx(l,{variant:"outline",size:"sm",onClick:()=>o(e),children:r.jsx(h,{className:"h-4 w-4"})}),s.canDelete&&r.jsx(l,{variant:"outline",size:"sm",onClick:()=>c(e),className:"border-destructive/20 text-destructive hover:bg-destructive/10 hover:text-destructive",children:r.jsx(N,{className:"h-4 w-4"})})]})})]});export{R as OffersTableRow};
