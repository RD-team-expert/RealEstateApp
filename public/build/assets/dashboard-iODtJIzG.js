import{r as N,a as M,j as e,H as te}from"./app-XlMZG7vD.js";import{A as re}from"./app-layout-CGrAe6KQ.js";import ie from"./ApplicationInformation-CCCeL56_.js";import ne from"./MoveInInformation-BJ8QLe91.js";import le from"./MoveOutInformation-mDFZdGUu.js";import ce from"./NoticesAndEvictionsInformation-DqJDNVzV.js";import me from"./OffersAndRenewalsInformation-C43LaMAW.js";import oe from"./PaymentInformation-DTUABfpV.js";import de from"./PaymentPlanInformation-CyMp0XgX.js";import xe from"./TenantInformation-DueAcbpb.js";import pe from"./VendorTasksInformation-IAvEaC9M.js";import{B as w}from"./button-D56PIbu9.js";import{B as g}from"./badge-amDNRRn_.js";import{C as c,a as C,c as _,d as A,b as O}from"./card-BeQJ7hrb.js";import{P as B,a as F,b as H}from"./popover-DR8Y8CsW.js";import{C as L,a as R,b as U,c as $,d as Z,e as z}from"./command-DGwO2Uw9.js";import{S as b}from"./separator-C3-LGatA.js";import{c as E}from"./utils-CBfrqCZ4.js";import{C as he,a as ge,b as ue}from"./collapsible-DAU6BZcb.js";import{B as W}from"./building-2-DysG-3uP.js";import{M as je}from"./map-pin-DmthUSKJ.js";import{C as V}from"./chevrons-up-down-CmSv9Nzf.js";import{C as P}from"./check-ZO7ekD6P.js";import{H as D}from"./house-CLbI4eTX.js";import{C as fe}from"./chevron-up-COk4jH4h.js";import{C as Ne}from"./chevron-down-Dqt3V4Kg.js";import{c as be}from"./createLucideIcon-BneQKrth.js";import{D as ye}from"./dollar-sign-BYwnPy6R.js";import{C as y}from"./calendar-CGMbx-hL.js";import{Z as ve}from"./zap-C6YeLcp_.js";import{S as G}from"./shield-CO_FGJ1n.js";import{c as ke,t as J,m as q,a as K,f as we}from"./format-PYUiRpxY.js";import"./app-D9zByHv3.js";import"./index-D09_T-bu.js";import"./index-CdJFUDDL.js";import"./index-CUT4GDty.js";import"./index-C_K36Fy_.js";import"./index-BoN4SSkO.js";import"./index-pZGqFUGS.js";import"./index-DqP218B8.js";import"./index-D2DcuX69.js";import"./x-B-P-7DDz.js";import"./index-Dc_FVRD7.js";import"./index-DPt0Oyfm.js";import"./index-CTF06pqo.js";import"./index-BQOEcUl2.js";import"./chevron-right-By2R6jNh.js";import"./index-D8BBDizX.js";import"./log-out-CCPSLMZP.js";import"./usePermissions-C5sl0_76.js";import"./app-logo-icon-Dt6YcCTA.js";import"./building-COTQhu1p.js";import"./users-i02JtJEO.js";import"./wrench-CbvNWZyU.js";import"./credit-card-BG1I-LuS.js";import"./file-text-BMgerFDx.js";import"./triangle-alert-Db8T1Zt_.js";import"./bell-BOsLG0px.js";import"./user-Br4NPa3A.js";import"./target-CuT6qhlM.js";import"./archive-nv2FrlmX.js";import"./circle-x-MEZviBL7.js";import"./circle-check-big-B9GrMSuD.js";import"./sticky-note-CunlR8Qf.js";import"./clock-CCSJki7H.js";import"./eye-L6iv3Y43.js";import"./circle-alert-DMsAqMEY.js";import"./file-check-BBCBUKzD.js";import"./key-B-JS-qIb.js";import"./scale-CiscQotw.js";import"./trending-up-N6z8Vnb1.js";import"./rotate-ccw-CM7agk7Y.js";import"./phone-DtXrlUOt.js";import"./search-BKBHV1D6.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],_e=be("Hash",Ce);function De(t,s){const a=()=>ke(s?.in,NaN),n=Me(t);let o;if(n.date){const m=Ae(n.date,2);o=Oe(m.restDateString,m.year)}if(!o||isNaN(+o))return a();const h=+o;let x=0,p;if(n.time&&(x=Be(n.time),isNaN(x)))return a();if(n.timezone){if(p=Fe(n.timezone),isNaN(p))return a()}else{const m=new Date(h+x),u=J(0,s?.in);return u.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),u.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),u}return J(h+x+p,s?.in)}const v={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Se=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Te=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ye=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Me(t){const s={},a=t.split(v.dateTimeDelimiter);let r;if(a.length>2)return s;if(/:/.test(a[0])?r=a[0]:(s.date=a[0],r=a[1],v.timeZoneDelimiter.test(s.date)&&(s.date=t.split(v.timeZoneDelimiter)[0],r=t.substr(s.date.length,t.length))),r){const n=v.timezone.exec(r);n?(s.time=r.replace(n[1],""),s.timezone=n[1]):s.time=r}return s}function Ae(t,s){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),r=t.match(a);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?n:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function Oe(t,s){if(s===null)return new Date(NaN);const a=t.match(Se);if(!a)return new Date(NaN);const r=!!a[4],n=f(a[1]),o=f(a[2])-1,h=f(a[3]),x=f(a[4]),p=f(a[5])-1;if(r)return $e(s,x,p)?He(s,x,p):new Date(NaN);{const m=new Date(0);return!Re(s,o,h)||!Ue(s,n)?new Date(NaN):(m.setUTCFullYear(s,o,Math.max(n,h)),m)}}function f(t){return t?parseInt(t):1}function Be(t){const s=t.match(Te);if(!s)return NaN;const a=S(s[1]),r=S(s[2]),n=S(s[3]);return Ze(a,r,n)?a*q+r*K+n*1e3:NaN}function S(t){return t&&parseFloat(t.replace(",","."))||0}function Fe(t){if(t==="Z")return 0;const s=t.match(Ye);if(!s)return 0;const a=s[1]==="+"?-1:1,r=parseInt(s[2]),n=s[3]&&parseInt(s[3])||0;return ze(r,n)?a*(r*q+n*K):NaN}function He(t,s,a){const r=new Date(0);r.setUTCFullYear(t,0,4);const n=r.getUTCDay()||7,o=(s-1)*7+a+1-n;return r.setUTCDate(r.getUTCDate()+o),r}const Le=[31,null,31,30,31,30,31,31,30,31,30,31];function Q(t){return t%400===0||t%4===0&&t%100!==0}function Re(t,s,a){return s>=0&&s<=11&&a>=1&&a<=(Le[s]||(Q(t)?29:28))}function Ue(t,s){return s>=1&&s<=(Q(t)?366:365)}function $e(t,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function Ze(t,s,a){return t===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&t>=0&&t<25}function ze(t,s){return s>=0&&s<=59}function T(t){if(!t)return"N/A";try{return we(De(t),"MMM dd, yyyy")}catch{return t}}function ms({properties:t,units:s,unitInfo:a,tenants:r,moveIns:n,moveOuts:o,vendorTasks:h,payments:x,paymentPlans:p,applications:m,offersAndRenewals:u,noticesAndEvictions:X,selectedPropertyId:d,selectedUnitId:l}){const I=N.useCallback(()=>{const i=[{title:"Dashboard",href:"/dashboard"}];if(d){const j=t.find(k=>k.id===d);j&&i.push({title:j.property_name,href:`/dashboard?property_id=${d}`})}if(l){const j=s.find(k=>k.id===l);j&&i.push({title:j.unit_name,href:`/dashboard?property_id=${d}&unit_id=${l}`})}return i},[d,l,t,s]),ee=N.useCallback(i=>{M.get("/dashboard",{property_id:parseInt(i)},{preserveState:!0,preserveScroll:!0})},[]),ae=N.useCallback(i=>{M.get("/dashboard",{property_id:d,unit_id:parseInt(i)},{preserveState:!0,preserveScroll:!0})},[d]),[Y,se]=N.useState(!0);return e.jsxs(re,{breadcrumbs:I(),children:[e.jsx(te,{title:"Dashboard"}),e.jsxs("div",{className:"h-screen space-y-6 overflow-y-auto",children:[e.jsx(c,{className:"border-0 bg-gradient-to-r from-blue-50 to-indigo-50 shadow-sm dark:from-blue-950/20 dark:to-indigo-950/20",children:e.jsx(C,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2 dark:bg-blue-900/30",children:e.jsx(W,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Property Management Dashboard"}),e.jsx(A,{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Select a property and unit to view comprehensive tenant information and analytics."})]})]})})}),e.jsx("div",{className:"-mx-2 border-b border-gray-200/50 bg-white/95 px-2 py-1 backdrop-blur-sm supports-[backdrop-filter]:bg-white/80 dark:border-gray-800/50 dark:bg-gray-950/95 dark:supports-[backdrop-filter]:bg-gray-950/80",children:e.jsxs(c,{className:"border shadow-lg",children:[e.jsx(C,{className:"",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),e.jsx(_,{className:"text-lg font-semibold",children:"Property Selection"})]})}),e.jsx(O,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(W,{className:"h-4 w-4"}),"Property"]}),e.jsxs(B,{children:[e.jsx(F,{asChild:!0,children:e.jsxs(w,{variant:"outline",role:"combobox",className:"w-full justify-between text-left font-normal",children:[d?t.find(i=>i.id===d)?.property_name:"Select a property...",e.jsx(V,{className:"ml-2 h-4 w-4 opacity-50"})]})}),e.jsx(H,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:e.jsxs(L,{children:[e.jsx(R,{placeholder:"Search property..."}),e.jsxs(U,{children:[e.jsx($,{children:"No property found."}),e.jsx(Z,{children:t.map(i=>e.jsxs(z,{value:i.property_name,onSelect:()=>ee(i.id.toString()),children:[e.jsx(P,{className:E("mr-2 h-4 w-4",d===i.id?"opacity-100":"opacity-0")}),i.property_name]},i.id))})]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(D,{className:"h-4 w-4"}),"Unit"]}),e.jsxs(B,{children:[e.jsx(F,{asChild:!0,children:e.jsxs(w,{variant:"outline",role:"combobox",className:"w-full justify-between text-left font-normal",disabled:!d||s.length===0,children:[l?s.find(i=>i.id===l)?.unit_name:d?s.length===0?"No units available":"Select a unit...":"Select property first",e.jsx(V,{className:"ml-2 h-4 w-4 opacity-50"})]})}),e.jsx(H,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:e.jsxs(L,{children:[e.jsx(R,{placeholder:"Search unit..."}),e.jsxs(U,{children:[e.jsx($,{children:"No unit found."}),e.jsx(Z,{children:s.map(i=>e.jsxs(z,{value:i.unit_name,onSelect:()=>ae(i.id.toString()),children:[e.jsx(P,{className:E("mr-2 h-4 w-4",l===i.id?"opacity-100":"opacity-0")}),e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsx("span",{children:i.unit_name}),e.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[e.jsx(g,{variant:i.vacant==="Yes"?"default":"secondary",children:i.vacant==="Yes"?"Vacant":"Occupied"}),i.monthly_rent&&e.jsxs("span",{className:"text-sm text-gray-500",children:["$",i.monthly_rent]})]})]})]},i.id))})]})]})})]})]})]})})]})}),a&&e.jsx(he,{open:Y,onOpenChange:se,children:e.jsxs(c,{className:"transition-all duration-200 hover:shadow-md",children:[e.jsx(ge,{asChild:!0,children:e.jsx(w,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:e.jsx(C,{className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-gray-100",children:e.jsx(D,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx(_,{className:"text-xl font-semibold",children:"Unit Information"}),e.jsxs(A,{children:["Comprehensive details for ",a.unit_name]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(g,{variant:a.vacant==="Yes"?"default":"destructive",className:"px-3 py-1",children:a.vacant==="Yes"?"Vacant":"Occupied"}),Y?e.jsx(fe,{className:"h-5 w-5 text-gray-500"}):e.jsx(Ne,{className:"h-5 w-5 text-gray-500"})]})]})})})}),e.jsx(ue,{children:e.jsxs(O,{className:"pt-0",children:[e.jsx(b,{className:"mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(_e,{className:"h-4 w-4"}),"Basic Details"]}),e.jsx("div",{className:"space-y-3",children:a.vacant==="Yes"&&e.jsxs(c,{className:"bg-gray-50 p-4 dark:bg-gray-900",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-gray-500 uppercase dark:text-gray-400",children:"Listed Status"}),e.jsx(g,{variant:a.listed==="Yes"?"default":"secondary",children:a.listed||"No"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(D,{className:"h-4 w-4"}),"Unit Specs"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{className:"bg-blue-50 p-4 dark:bg-blue-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-blue-600 uppercase dark:text-blue-400",children:"Bedrooms"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:a.count_beds||"N/A"})]}),e.jsxs(c,{className:"bg-purple-50 p-4 dark:bg-purple-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-purple-600 uppercase dark:text-purple-400",children:"Bathrooms"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:a.count_baths||"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(ye,{className:"h-4 w-4"}),"Financial"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{className:"bg-green-50 p-4 dark:bg-green-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-green-600 uppercase dark:text-green-400",children:"Monthly Rent"}),e.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:a.formatted_monthly_rent||"N/A"})]}),e.jsxs(c,{className:"bg-amber-50 p-4 dark:bg-amber-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-amber-600 uppercase dark:text-amber-400",children:"Applications"}),e.jsxs(g,{variant:"outline",className:"text-sm",children:[a.total_applications||0," total"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(y,{className:"h-4 w-4"}),"Lease & Utilities"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{className:"bg-indigo-50 p-4 dark:bg-indigo-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-indigo-600 uppercase dark:text-indigo-400",children:"Lease Status"}),e.jsx("div",{className:"font-semibold text-indigo-900 dark:text-indigo-100",children:a.lease_status||"N/A"})]}),e.jsxs(c,{className:"bg-yellow-50 p-4 dark:bg-yellow-950/20",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-1 text-xs font-medium tracking-wide text-yellow-600 uppercase dark:text-yellow-400",children:[e.jsx(ve,{className:"h-3 w-3"}),"Utilities"]}),e.jsx("div",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:a.utility_status||"N/A"})]})]})]})]}),(a.lease_start||a.lease_end)&&e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"my-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.lease_start&&e.jsxs(c,{className:"bg-blue-50 p-4 dark:bg-blue-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-blue-600 uppercase dark:text-blue-400",children:"Lease Start"})]}),e.jsx("div",{className:"font-semibold text-blue-900 dark:text-blue-100",children:T(a.lease_start)})]}),a.lease_end&&e.jsxs(c,{className:"bg-orange-50 p-4 dark:bg-orange-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-orange-600 uppercase dark:text-orange-400",children:"Lease End"})]}),e.jsx("div",{className:"font-semibold text-orange-900 dark:text-orange-100",children:T(a.lease_end)})]})]})]}),(a.insurance||a.insurance_expiration_date)&&e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"my-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(G,{className:"h-4 w-4"}),"Insurance Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs(c,{className:"bg-emerald-50 p-4 dark:bg-emerald-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-emerald-600 uppercase dark:text-emerald-400",children:"Coverage Status"})]}),e.jsx(g,{variant:a.insurance==="Yes"?"default":"destructive",children:a.insurance||"No"})]}),a.insurance_expiration_date&&e.jsxs(c,{className:"bg-amber-50 p-4 dark:bg-amber-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-amber-600 uppercase dark:text-amber-400",children:"Expiration Date"})]}),e.jsx("div",{className:"font-semibold text-amber-900 dark:text-amber-100",children:T(a.insurance_expiration_date)})]})]})]})]}),(a.recurring_transaction||a.account_number)&&e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"my-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.recurring_transaction&&e.jsxs(c,{className:"bg-purple-50 p-4 dark:bg-purple-950/20",children:[e.jsx("div",{className:"mb-2 text-xs font-medium tracking-wide text-purple-600 uppercase dark:text-purple-400",children:"Recurring Transaction"}),e.jsx(g,{variant:a.recurring_transaction==="Yes"?"default":"secondary",children:a.recurring_transaction||"No"})]}),a.account_number&&e.jsxs(c,{className:"bg-gray-50 p-4 dark:bg-gray-900",children:[e.jsx("div",{className:"mb-2 text-xs font-medium tracking-wide text-gray-500 uppercase dark:text-gray-400",children:"Account Number"}),e.jsx("code",{className:"font-mono text-sm font-semibold text-gray-900 dark:text-gray-100",children:a.account_number})]})]})]})]})})]})}),e.jsx(xe,{tenants:r,selectedUnitId:l}),e.jsx(ne,{moveIns:n,selectedUnitId:l}),e.jsx(le,{moveOuts:o,selectedUnitId:l}),e.jsx(pe,{vendorTasks:h,selectedUnitId:l}),e.jsx(oe,{payments:x,selectedUnitId:l}),e.jsx(de,{paymentPlans:p,selectedUnitId:l}),a?.vacant==="Yes"&&e.jsx(ie,{applications:m,selectedUnitId:l}),e.jsx(me,{offersAndRenewals:u,selectedUnitId:l}),e.jsx(ce,{noticesAndEvictions:X,selectedUnitId:l})]})]})}export{ms as default};
