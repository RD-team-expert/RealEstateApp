import{j as s,H as b,b as f}from"./app-BM6QPhCs.js";import{A,F as C}from"./app-layout-CFtgqb2g.js";import{C as m,a as g,b as p,c as S}from"./card-CBl_kNDF.js";import{S as w,a as E,b as U,c as F,d as H}from"./select-Bc_oDp89.js";import{B as L}from"./badge-BHzBvDls.js";import"./app-EMhG3jeb.js";import"./app-logo-icon-_BgUcEZ_.js";import"./index-_PhYekxG.js";import"./index-DSqKqkft.js";import"./index-CjRzMLZC.js";function z({units:j,selectedUnit:o,unitRecord:t,application:r,moveIn:c,moveOut:n,notice:i,offer:a,payment:u,paymentPlan:h,tenant:x,vendorTask:_}){const N=v=>f.get(route("dashboard",{unit:v}),{},{preserveScroll:!0}),l=v=>v?new Date(v).toLocaleDateString():"—",D=v=>v==null?"—":`$${Number(v).toLocaleString(void 0,{minimumFractionDigits:2})}`;return s.jsxs(A,{breadcrumbs:[{title:"Dashboard",href:"/dashboard"}],children:[s.jsx(b,{title:"Dashboard"}),s.jsx("div",{className:"max-w-xs px-4 pt-4",children:s.jsxs(w,{defaultValue:o??j[0],onValueChange:N,children:[s.jsx(E,{children:s.jsx(U,{placeholder:"Select unit…"})}),s.jsx(F,{children:j.map(v=>s.jsx(H,{value:v,children:v},v))})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:[t&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsxs(p,{children:["Unit — ",t.unit_name]})}),s.jsxs(S,{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsx(e,{l:"City",v:t.city}),s.jsx(e,{l:"Property",v:t.property}),s.jsx(e,{l:"Tenants",v:t.tenants??"—"}),s.jsx(e,{l:"Beds",v:t.count_beds??"—"}),s.jsx(e,{l:"Baths",v:t.count_baths??"—"}),s.jsx(e,{l:"Lease Start",v:t.lease_start?new Date(t.lease_start).toLocaleDateString():"—"}),s.jsx(e,{l:"Lease End",v:t.lease_end?new Date(t.lease_end).toLocaleDateString():"—"}),s.jsx(e,{l:"Lease Status",v:t.lease_status??"—"}),s.jsx(e,{l:"Monthly Rent",v:t.formatted_monthly_rent}),s.jsx(e,{l:"Recurring Txn",v:t.recurring_transaction??"—"}),s.jsx(e,{l:"Utility Status",v:t.utility_status??"—"}),s.jsx(e,{l:"Account #",v:t.account_number??"—"}),s.jsx(e,{l:"Insurance",v:t.insurance??"—"}),s.jsx(e,{l:"Insurance Exp.",v:t.insurance_expiration_date?new Date(t.insurance_expiration_date).toLocaleDateString():"—"}),s.jsx(e,{l:"Vacant",v:t.vacant}),s.jsx(e,{l:"Listed",v:t.listed}),s.jsx(e,{l:"Total Applications",v:t.total_applications}),s.jsx(e,{l:"Created At",v:new Date(t.created_at).toLocaleDateString()}),s.jsx(e,{l:"Updated At",v:new Date(t.updated_at).toLocaleDateString()})]})]}),r&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsx(p,{children:"Application"})}),s.jsxs(S,{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsx(e,{l:"Applicant",v:r.name}),s.jsx(e,{l:"City",v:r.city}),s.jsx(e,{l:"Property",v:r.property}),s.jsx(e,{l:"Unit",v:r.unit}),s.jsx(e,{l:"Co-signer",v:r.co_signer}),s.jsx(e,{l:"Status",v:s.jsx(y,{b:r.status})}),s.jsx(e,{l:"Stage",v:r.stage_in_progress}),s.jsx(e,{l:"Date",v:l(r.date)}),r.notes&&s.jsx(e,{l:"Notes",full:!0,v:r.notes}),r.attachment_name&&s.jsx(e,{l:"Attachment",full:!0,v:s.jsxs("a",{href:`/applications/${r.id}/download`,className:"inline-flex items-center gap-1 text-primary underline",children:[s.jsx(C,{size:16}),r.attachment_name]})})]})]}),c&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsx(p,{children:"Move-In"})}),s.jsxs(S,{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsx(e,{l:"Signed Lease",v:s.jsx(d,{v:c.signed_lease})}),s.jsx(e,{l:"Lease Sign Date",v:l(c.lease_signing_date)}),s.jsx(e,{l:"Move-In Date",v:l(c.move_in_date)}),s.jsx(e,{l:"Paid Sec+1st Rent",v:s.jsx(d,{v:c.paid_security_deposit_first_month_rent})}),s.jsx(e,{l:"Paid on",v:l(c.scheduled_paid_time)}),s.jsx(e,{l:"Handled Keys",v:s.jsx(d,{v:c.handled_keys})}),s.jsx(e,{l:"Form Sent",v:l(c.move_in_form_sent_date)}),s.jsx(e,{l:"Form Filled",v:s.jsx(d,{v:c.filled_move_in_form})}),s.jsx(e,{l:"Form Filled Date",v:l(c.date_of_move_in_form_filled)}),s.jsx(e,{l:"Insurance",v:s.jsx(d,{v:c.submitted_insurance})}),s.jsx(e,{l:"Insurance Exp.",v:l(c.date_of_insurance_expiration)})]})]}),n&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsx(p,{children:"Move-Out"})}),s.jsxs(S,{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsx(e,{l:"Tenant",v:n.tenants_name}),s.jsx(e,{l:"Move-Out Date",v:l(n.move_out_date)}),s.jsx(e,{l:"Lease Status",v:n.lease_status}),s.jsx(e,{l:"Lease End (Buildium)",v:l(n.date_lease_ending_on_buildium)}),s.jsx(e,{l:"Keys Location",v:n.keys_location}),s.jsx(e,{l:"Utilities Under Our Name",v:s.jsx(d,{v:n.utilities_under_our_name})}),s.jsx(e,{l:"Utility Date",v:l(n.date_utility_put_under_our_name)}),s.jsx(e,{l:"Walkthrough",v:n.walkthrough}),s.jsx(e,{l:"Repairs",v:n.repairs}),s.jsx(e,{l:"Cleaning",v:n.cleaning}),s.jsx(e,{l:"Move-Out Form",v:n.move_out_form}),s.jsx(e,{l:"List Unit",v:n.list_the_unit}),s.jsx(e,{l:"Send Back Deposit",v:n.send_back_security_deposit}),n.notes&&s.jsx(e,{l:"Notes",full:!0,v:n.notes})]})]}),i&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsx(p,{children:"Notice / Eviction"})}),s.jsxs(S,{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsx(e,{l:"Type",v:i.type_of_notice??"—"}),s.jsx(e,{l:"Status",v:s.jsx(y,{b:i.status??null})}),s.jsx(e,{l:"Date",v:l(i.date??null)}),s.jsx(e,{l:"Exception",v:s.jsx(d,{v:i.have_an_exception??null})}),s.jsx(e,{l:"Evictions",v:i.evictions??"—"}),s.jsx(e,{l:"Sent to Attorney",v:s.jsx(d,{v:i.sent_to_atorney??null})}),s.jsx(e,{l:"Hearing",v:l(i.hearing_dates??null)}),s.jsx(e,{l:"Evicted/Plan",v:i.evected_or_payment_plan??"—"}),s.jsx(e,{l:"Left",v:s.jsx(d,{v:i.if_left??null})}),s.jsx(e,{l:"Writ Date",v:l(i.writ_date??null)}),i.note&&s.jsx(e,{l:"Note",full:!0,v:i.note}),s.jsx(e,{l:"Created At",v:i.created_at?new Date(i.created_at).toLocaleDateString():"—"}),s.jsx(e,{l:"Updated At",v:i.updated_at?new Date(i.updated_at).toLocaleDateString():"—"})]})]}),a&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsx(p,{children:"Offer & Renewal"})}),s.jsxs(S,{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsx(e,{l:"Status",v:s.jsx(y,{b:a.status??null})}),s.jsx(e,{l:"Sent",v:l(a.date_sent_offer??null)}),s.jsx(e,{l:"Accepted",v:l(a.date_of_acceptance??null)}),s.jsx(e,{l:"Days Left",v:a.how_many_days_left??"—"}),s.jsx(e,{l:"Expired",v:a.expired??"—"}),s.jsx(e,{l:"Lease Sent",v:s.jsx(d,{v:a.lease_sent??null})}),s.jsx(e,{l:"Date Sent Lease",v:l(a.date_sent_lease??null)}),s.jsx(e,{l:"Lease Signed",v:s.jsx(d,{v:a.lease_signed??null})}),s.jsx(e,{l:"Date Signed",v:l(a.date_signed??null)}),s.jsx(e,{l:"Last Notice",v:l(a.last_notice_sent??null)}),s.jsx(e,{l:"Notice Kind",v:a.notice_kind??"—"}),s.jsx(e,{l:"Last Notice 2",v:l(a.last_notice_sent_2??null)}),s.jsx(e,{l:"Notice Kind 2",v:a.notice_kind_2??"—"}),a.notes&&s.jsx(e,{l:"Notes",full:!0,v:a.notes}),s.jsx(e,{l:"Created At",v:a.created_at?new Date(a.created_at).toLocaleDateString():"—"}),s.jsx(e,{l:"Updated At",v:a.updated_at?new Date(a.updated_at).toLocaleDateString():"—"})]})]}),u&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsx(p,{children:"Payment"})}),s.jsxs(S,{className:"grid md:grid-cols-3 gap-4 text-sm",children:[s.jsx(e,{l:"Date",v:l(u.date)}),s.jsx(e,{l:"Status",v:s.jsx(y,{b:u.status})}),s.jsx(e,{l:"Owes",v:D(u.owes)}),s.jsx(e,{l:"Paid",v:D(u.paid)}),s.jsx(e,{l:"Left to Pay",v:D(u.left_to_pay)}),s.jsx(e,{l:"Reversed",full:!0,v:u.reversed_payments}),s.jsx(e,{l:"Permanent",v:s.jsx(d,{v:u.permanent})}),u.notes&&s.jsx(e,{l:"Notes",full:!0,v:u.notes})]})]}),h&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsx(p,{children:"Payment Plan"})}),s.jsxs(S,{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsx(e,{l:"Property",v:h.property}),s.jsx(e,{l:"Tenant",v:h.tenant}),s.jsx(e,{l:"Date",v:l(h.dates)}),s.jsx(e,{l:"Amount",v:D(h.amount)}),s.jsx(e,{l:"Paid",v:D(h.paid)}),s.jsx(e,{l:"Left to Pay",v:D(h.left_to_pay)}),s.jsx(e,{l:"Status",v:s.jsx(y,{b:h.status})}),h.notes&&s.jsx(e,{l:"Notes",full:!0,v:h.notes})]})]}),x&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsx(p,{children:"Tenant"})}),s.jsxs(S,{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsx(e,{l:"Name",v:`${x.first_name} ${x.last_name}`}),s.jsx(e,{l:"Property",v:x.property_name}),s.jsx(e,{l:"Unit",v:x.unit_number}),s.jsx(e,{l:"Login Email",v:x.login_email}),s.jsx(e,{l:"Alt Email",v:x.alternate_email}),s.jsx(e,{l:"Mobile",v:x.mobile}),s.jsx(e,{l:"Emergency Phone",v:x.emergency_phone}),s.jsx(e,{l:"Cash / Check",v:x.cash_or_check}),s.jsx(e,{l:"Has Insurance",v:x.has_insurance}),s.jsx(e,{l:"Sensitive Comm.",v:x.sensitive_communication}),s.jsx(e,{l:"Has Assistance",v:x.has_assistance}),x.has_assistance==="Yes"&&s.jsxs(s.Fragment,{children:[s.jsx(e,{l:"Assist Amt.",v:D(x.assistance_amount)}),s.jsx(e,{l:"Assist Company",v:x.assistance_company})]})]})]}),_&&s.jsxs(m,{children:[s.jsx(g,{children:s.jsx(p,{children:"Vendor Task"})}),s.jsxs(S,{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsx(e,{l:"Vendor",v:_.vendor_name}),s.jsx(e,{l:"City",v:_.city}),s.jsx(e,{l:"Unit",v:_.unit_name}),s.jsx(e,{l:"Status",v:s.jsx(y,{b:_.status})}),s.jsx(e,{l:"Urgent",v:s.jsx(d,{v:_.urgent})}),s.jsx(e,{l:"Submission Date",v:l(_.task_submission_date)}),s.jsx(e,{l:"Scheduled Visit",v:l(_.any_scheduled_visits)}),s.jsx(e,{l:"Task End",v:l(_.task_ending_date)}),s.jsx(e,{l:"Tasks",full:!0,v:_.assigned_tasks}),_.notes&&s.jsx(e,{l:"Notes",full:!0,v:_.notes})]})]})]})]})}function e({l:j,v:o,full:t=!1}){return s.jsxs("div",{className:t?"col-span-full":"",children:[s.jsx("p",{className:"text-muted-foreground",children:j}),s.jsx("p",{className:"font-medium break-words",children:o??"—"})]})}function d({v:j}){return j?s.jsx(L,{variant:j==="Yes"?"default":"secondary",children:j}):"—"}function y({b:j}){if(!j)return"—";const o=j.toLowerCase(),t=o.includes("accept")||o==="paid"?"default":o.includes("pending")||o==="paid partly"?"secondary":o.includes("rejected")||o==="expired"?"destructive":"outline";return s.jsx(L,{variant:t,children:j})}export{z as default};
