import{r as U,j as e}from"./app-DYme-6ST.js";import{C as B,a as E,b as I}from"./collapsible-B7rfYKib.js";import{C as a,a as h,c as j,d as N,b as r}from"./card-CWWVdt52.js";import{B as l}from"./badge-DkU7s25L.js";import{B as p}from"./button-DygVteL_.js";import{S as D}from"./separator-B54X1z2_.js";import{F as i}from"./file-text-B7N_rIF4.js";import{C as g}from"./calendar-Bw6k_ssZ.js";import{U as u,a as T}from"./users-Ep7o_MFV.js";import{c as A}from"./createLucideIcon-Dwp8kkct.js";import{C as F}from"./chevron-up-3w0W2Y4A.js";import{C as M}from"./chevron-down-CDnjTFxC.js";import{U as f}from"./user-CDg2Gfna.js";import{T as m}from"./target-BwqfnVdM.js";import{A as b}from"./archive-6NSVOq73.js";import{C as w}from"./circle-x-Cg5j1MdR.js";import{C as v}from"./circle-check-big-cvblO7g-.js";import{S as q}from"./sticky-note-CgLTmEix.js";import{C as y}from"./clock-CT4xEveS.js";import{E as C}from"./eye-aSD_-4Al.js";import{C as P}from"./circle-alert-jsi0zk16.js";import{F as R}from"./file-check-BqEOi7rO.js";import"./app-BxoA0TtB.js";import"./index-yvkaECEW.js";import"./index-DAeyJQLn.js";import"./index-wTYJRjsu.js";import"./index-B3RZid5o.js";import"./utils-CBfrqCZ4.js";import"./index-CdJFUDDL.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$=A("ExternalLink",V);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],d=A("Paperclip",H);function fe({applications:c,selectedUnitId:k}){const[x,_]=U.useState({}),S=s=>{_(t=>({...t,[s]:!t[s]}))},n=s=>{if(!s)return e.jsx(y,{className:"h-4 w-4 text-gray-400"});const t=s.toLowerCase();return t==="approved"||t==="accepted"?e.jsx(v,{className:"h-4 w-4 text-green-600"}):t==="pending"||t==="submitted"?e.jsx(y,{className:"h-4 w-4 text-yellow-600"}):t==="under review"||t==="reviewing"?e.jsx(C,{className:"h-4 w-4 text-blue-600"}):t==="rejected"||t==="denied"||t==="declined"?e.jsx(w,{className:"h-4 w-4 text-red-600"}):e.jsx(P,{className:"h-4 w-4 text-gray-600"})},o=s=>{if(!s)return"secondary";const t=s.toLowerCase();return t==="approved"||t==="accepted"?"default":t==="pending"||t==="submitted"?"outline":t==="under review"||t==="reviewing"?"secondary":t==="rejected"||t==="denied"||t==="declined"?"destructive":"secondary"},L=s=>{if(!s)return e.jsx(m,{className:"h-4 w-4 text-gray-400"});const t=s.toLowerCase();return t.includes("background")||t.includes("check")?e.jsx(T,{className:"h-4 w-4 text-purple-600"}):t.includes("document")||t.includes("paperwork")?e.jsx(R,{className:"h-4 w-4 text-blue-600"}):t.includes("review")||t.includes("verification")?e.jsx(C,{className:"h-4 w-4 text-orange-600"}):e.jsx(m,{className:"h-4 w-4 text-indigo-600"})};return k?e.jsxs(a,{className:"w-full",children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(j,{className:"text-2xl font-bold",children:"Applications"}),e.jsxs(N,{children:["Rental applications and applicant information for ",c.length," application",c.length!==1?"s":""]})]}),c.length===0&&e.jsx(l,{variant:"secondary",className:"px-4 py-2",children:"No applications found"})]})}),c.length>0&&e.jsx(r,{className:"space-y-4",children:c.map(s=>e.jsx(B,{open:x[s.id],onOpenChange:()=>S(s.id),children:e.jsxs(a,{className:"transition-all duration-200 hover:shadow-md",children:[e.jsx(E,{asChild:!0,children:e.jsx(p,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:e.jsx(h,{className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-indigo-100",children:e.jsx(i,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx(j,{className:"text-xl",children:s.name||"Unknown Applicant"}),e.jsxs(N,{className:"flex items-center space-x-4",children:[s.date_formatted&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(g,{className:"h-4 w-4 mr-1"}),"Applied: ",s.date_formatted]}),s.co_signer&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(u,{className:"h-4 w-4 mr-1"}),"Co-signer: ",s.co_signer]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx(l,{variant:s.is_archived?"destructive":"default",className:"px-3 py-1",children:s.is_archived?"Archived":"Active"}),s.status&&e.jsxs("div",{className:"flex items-center space-x-1",children:[n(s.status),e.jsx(l,{variant:o(s.status),className:"text-xs",children:s.status})]}),s.has_attachment&&e.jsxs(l,{variant:"secondary",className:"text-xs",children:[e.jsx(d,{className:"h-3 w-3 mr-1"}),"Attachment"]})]}),x[s.id]?e.jsx(F,{className:"h-5 w-5 text-gray-500"}):e.jsx(M,{className:"h-5 w-5 text-gray-500"})]})]})})})}),e.jsx(I,{children:e.jsxs(r,{className:"pt-0",children:[e.jsx(D,{className:"mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(f,{className:"h-5 w-5 text-blue-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Applicant Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{className:"bg-blue-50 border-blue-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(f,{className:"h-4 w-4 text-blue-600"}),e.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"Applicant Name"})]}),e.jsx("p",{className:"text-sm font-medium text-blue-900",children:s.name||"N/A"})]})}),e.jsx(a,{className:"bg-purple-50 border-purple-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(u,{className:"h-4 w-4 text-purple-600"}),e.jsx("label",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wide",children:"Co-Signer"})]}),e.jsx("p",{className:"text-sm font-medium text-purple-900",children:s.co_signer||"None"})]})}),e.jsx(a,{className:"bg-slate-50",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(m,{className:"h-4 w-4 text-slate-600"}),e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Application Status"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[n(s.status),e.jsx("p",{className:"text-sm font-medium text-slate-900",children:s.status||"N/A"})]})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(i,{className:"h-5 w-5 text-green-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Application Details"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{className:"bg-green-50 border-green-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(g,{className:"h-4 w-4 text-green-600"}),e.jsx("label",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide",children:"Application Date"})]}),e.jsx("p",{className:"text-sm font-medium text-green-900",children:s.date_formatted||"N/A"})]})}),s.stage_in_progress&&e.jsx(a,{className:"bg-orange-50 border-orange-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[L(s.stage_in_progress),e.jsx("label",{className:"text-xs font-semibold text-orange-700 uppercase tracking-wide",children:"Current Stage"})]}),e.jsx("p",{className:"text-sm font-medium text-orange-900",children:s.stage_in_progress})]})}),s.has_attachment&&e.jsx(a,{className:"bg-indigo-50 border-indigo-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(d,{className:"h-4 w-4 text-indigo-600"}),e.jsx("label",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide",children:"Attachment"})]}),e.jsx("div",{className:"mt-2",children:s.attachment_url?e.jsxs(p,{variant:"outline",size:"sm",className:"h-8 px-3",onClick:t=>{t.stopPropagation(),window.open(s.attachment_url,"_blank")},children:[e.jsx($,{className:"h-3 w-3 mr-1"}),s.attachment_name||"View Attachment"]}):e.jsxs(l,{variant:"secondary",children:[e.jsx(d,{className:"h-3 w-3 mr-1"}),"Attachment Available"]})})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(b,{className:"h-5 w-5 text-slate-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Record Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{className:"bg-slate-50",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(i,{className:"h-4 w-4 text-slate-600"}),e.jsx("label",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Application ID"})]}),e.jsxs("p",{className:"text-lg font-semibold text-slate-900",children:["#",s.id]})]})}),e.jsx(a,{className:"bg-gray-50 border-gray-200",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(b,{className:"h-4 w-4 text-gray-600"}),e.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Archived Status"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.is_archived?e.jsx(w,{className:"h-4 w-4 text-red-600"}):e.jsx(v,{className:"h-4 w-4 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.is_archived?"Archived":"Active"})]})]})}),e.jsx(a,{className:`${s.status?.toLowerCase()==="approved"?"bg-green-50 border-green-200":s.status?.toLowerCase()==="pending"?"bg-yellow-50 border-yellow-200":s.status?.toLowerCase()==="rejected"?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n(s.status),e.jsx("label",{className:`text-xs font-semibold uppercase tracking-wide ${s.status?.toLowerCase()==="approved"?"text-green-700":s.status?.toLowerCase()==="pending"?"text-yellow-700":s.status?.toLowerCase()==="rejected"?"text-red-700":"text-blue-700"}`,children:"Application Status"})]}),e.jsx(l,{variant:o(s.status),className:"font-semibold",children:s.status||"Status Unknown"})]})})]})]})]}),s.notes&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(q,{className:"h-5 w-5 text-amber-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Application Notes"})]}),e.jsx(a,{className:"bg-amber-50 border-amber-200",children:e.jsx(r,{className:"p-4",children:e.jsx("p",{className:"text-sm text-amber-900 whitespace-pre-wrap",children:s.notes})})})]})]})})]})},s.id))})]}):null}export{fe as default};
