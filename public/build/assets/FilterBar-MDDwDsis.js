import{r as o,j as t}from"./app-IncGAUEB.js";import{B as C}from"./button-BZreYh_c.js";import{I as s}from"./input-BKi6rfRv.js";import{C as g}from"./chevron-down-uas8HWR-.js";import{S as A}from"./search-CFDkSiim.js";import{X as T}from"./x-B_qSqN6z.js";import"./app-DgqXL21p.js";import"./index-bCzQdt7o.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-Ci0S1m_Z.js";function ee({cities:j,properties:b,units:N,onSearch:S,onClear:R}){const[n,x]=o.useState({city:"",property:"",unit:"",name:"",applicant_applied_from:""}),[D,l]=o.useState(!1),[F,i]=o.useState(!1),[I,c]=o.useState(!1),p=o.useRef(null),u=o.useRef(null),d=o.useRef(null),m=o.useRef(null),f=o.useRef(null),h=o.useRef(null);o.useEffect(()=>{const e=r=>{p.current&&!p.current.contains(r.target)&&m.current&&!m.current.contains(r.target)&&l(!1),u.current&&!u.current.contains(r.target)&&f.current&&!f.current.contains(r.target)&&i(!1),d.current&&!d.current.contains(r.target)&&h.current&&!h.current.contains(r.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const a=(e,r)=>{x(O=>({...O,[e]:r}))},L=e=>{a("city",e.name),l(!1)},P=e=>{const r=e.target.value;a("city",r),l(r.length>0)},U=e=>{a("property",e.name),i(!1)},_=e=>{const r=e.target.value;a("property",r),i(r.length>0)},k=e=>{a("unit",e.name),c(!1)},E=e=>{const r=e.target.value;a("unit",r),c(r.length>0)},z=()=>{S(n)},B=()=>{x({city:"",property:"",unit:"",name:"",applicant_applied_from:""}),R()},v=Object.values(b).flat().filter(e=>e.name.toLowerCase().includes(n.property.toLowerCase())),w=Object.values(N).flat().filter(e=>e.name.toLowerCase().includes(n.unit.toLowerCase())),y=j.filter(e=>e.name.toLowerCase().includes(n.city.toLowerCase()));return t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx(s,{ref:m,type:"text",placeholder:"City",value:n.city,onChange:P,onFocus:()=>l(!0),className:"text-input-foreground bg-input pr-8"}),t.jsx(g,{className:"absolute top-1/2 right-2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),D&&y.length>0&&t.jsx("div",{ref:p,className:"absolute top-full right-0 left-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:y.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>L(e),children:e.name},e.id))})]}),t.jsxs("div",{className:"relative",children:[t.jsx(s,{ref:f,type:"text",placeholder:"Property",value:n.property,onChange:_,onFocus:()=>i(!0),className:"text-input-foreground bg-input pr-8"}),t.jsx(g,{className:"absolute top-1/2 right-2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),F&&v.length>0&&t.jsx("div",{ref:u,className:"absolute top-full right-0 left-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:v.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>U(e),children:e.name},e.id))})]}),t.jsxs("div",{className:"relative",children:[t.jsx(s,{ref:h,type:"text",placeholder:"Unit",value:n.unit,onChange:E,onFocus:()=>c(!0),className:"text-input-foreground bg-input pr-8"}),t.jsx(g,{className:"absolute top-1/2 right-2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),I&&w.length>0&&t.jsx("div",{ref:d,className:"absolute top-full right-0 left-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:w.map(e=>t.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>k(e),children:e.name},e.id))})]}),t.jsx(s,{type:"text",placeholder:"Application Name",value:n.name,onChange:e=>a("name",e.target.value),className:"text-input-foreground bg-input"}),t.jsx(s,{type:"text",placeholder:"Applied From",value:n.applicant_applied_from,onChange:e=>a("applicant_applied_from",e.target.value),className:"text-input-foreground bg-input"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(C,{onClick:z,variant:"default",className:"flex items-center",children:[t.jsx(A,{className:"mr-2 h-4 w-4"}),"Search"]}),t.jsxs(C,{onClick:B,variant:"outline",className:"flex items-center",children:[t.jsx(T,{className:"mr-2 h-4 w-4"}),"Clear"]})]})]})}export{ee as default};
