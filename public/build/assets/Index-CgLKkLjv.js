import{r as C,u as w,j as e,H as A,b as T}from"./app-CPAFZdg5.js";import{u as F,A as S,X as H}from"./app-layout-BwaCDFuy.js";import{B as a}from"./app-logo-icon-DTHiVsgC.js";import{I as P}from"./input-BoejqtSG.js";import{L as k}from"./label-MD4WtZ4A.js";import{C as o,a as n,b as m,c as x}from"./card-DG8dAfP6.js";import{P as L,T as B,a as D,b as h,c as u,d as E,e as j,f as I}from"./table-Dyu91FOk.js";import"./app-fgSBv9O3.js";import"./index-B7VlAMgv.js";import"./index-CbLkonV9.js";const O=({cities:r})=>{const[t,i]=C.useState(!1),{data:f,setData:g,post:p,processing:d,errors:l,reset:b}=w({city:""}),N=s=>{s.preventDefault(),p("/cities",{onSuccess:()=>{b(),i(!1)}})},y=s=>{window.confirm("Are you sure you want to delete this city?")&&T.delete(`/cities/${s}`)},{hasPermission:c,hasAllPermissions:v}=F();return e.jsxs(S,{children:[e.jsx(A,{title:"Cities"}),e.jsx("div",{className:"py-12 bg-background text-foreground transition-colors min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v(["cities.store","cities.create"])&&e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(o,{className:"bg-card text-card-foreground shadow-lg",children:[e.jsx(n,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(m,{className:"text-xl",children:"Manage Cities"}),e.jsx(a,{onClick:()=>i(!t),variant:t?"outline":"default",children:t?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Cancel"]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Add City"]})})]})}),t&&e.jsxs(x,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Add New City"}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(k,{htmlFor:"city",className:"block text-sm font-medium text-foreground mb-1",children:["City Name ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(P,{id:"city",type:"text",value:f.city,onChange:s=>g("city",s.target.value),placeholder:"Enter city name",className:"bg-input text-input-foreground",required:!0}),l.city&&e.jsx("div",{className:"text-destructive text-sm mt-1",children:l.city})]}),e.jsx(a,{type:"submit",disabled:d,className:"w-full",children:d?"Adding...":"Add City"})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(o,{className:"bg-card text-card-foreground shadow-lg",children:[e.jsx(n,{children:e.jsx(m,{className:"text-xl",children:"Cities List"})}),e.jsxs(x,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(B,{children:[e.jsx(D,{children:e.jsxs(h,{className:"border-border",children:[e.jsx(u,{className:"text-muted-foreground",children:"City"}),c("cities.destroy")&&e.jsx(u,{className:"text-muted-foreground",children:"Actions"})]})}),e.jsx(E,{children:r.map(s=>e.jsxs(h,{className:"hover:bg-muted/50 border-border",children:[e.jsx(j,{className:"font-medium text-foreground",children:s.city}),c("cities.destroy")&&e.jsx(j,{children:e.jsx(a,{variant:"outline",size:"sm",onClick:()=>y(s.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:e.jsx(I,{className:"h-4 w-4"})})})]},s.id))})]})}),r.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{className:"text-lg",children:"No cities found."}),e.jsx("p",{className:"text-sm",children:"Add your first city using the form on the left."})]}),e.jsx("div",{className:"mt-6 flex justify-between items-center border-t border-border pt-4",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",r.length," cities"]})})]})]})})]})})})]})};export{O as default};
