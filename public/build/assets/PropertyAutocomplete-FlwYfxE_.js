import{r as t,j as r}from"./app-C2rmVmHv.js";import{I as g}from"./input-DlixSfKS.js";import{C as x}from"./chevron-down-CfuMUa4e.js";import"./app-Ofegqgfz.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-vG7_p-6g.js";const E=({properties:s,value:a,onChange:d,onSelect:i})=>{const[p,o]=t.useState(!1),[c,m]=t.useState(s),l=t.useRef(null),u=t.useRef(null);t.useEffect(()=>{const e=s.filter(n=>n.property_name.toLowerCase().includes(a.toLowerCase()));m(e)},[a,s]),t.useEffect(()=>{const e=n=>{u.current&&!u.current.contains(n.target)&&l.current&&!l.current.contains(n.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const f=e=>{d(e.target.value),o(e.target.value.length>0)},h=e=>{i(e),o(!1)};return r.jsxs("div",{className:"relative",children:[r.jsx(g,{ref:l,type:"text",placeholder:"Property",value:a,onChange:f,onFocus:()=>o(!0),className:"text-input-foreground bg-input pr-8"}),r.jsx(x,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),p&&c.length>0&&r.jsx("div",{ref:u,className:"absolute top-full left-0 right-0 z-50 mt-1 max-h-60 overflow-auto rounded-md border border-input bg-popover shadow-lg",children:c.map(e=>r.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>h(e),children:e.property_name},e.id))})]})};export{E as default};
