import{r as b,j as e,H as y,L as n,b as m}from"./app-BydbXvNR.js";import{u as w,A as T}from"./app-layout-JAdefpY2.js";import{B as d}from"./app-logo-icon-_X7DW1Ak.js";import{I as S}from"./input-D0VuUaJ9.js";import{C as _,a as C,b as A,c as D}from"./card-D9wtjh1c.js";import{P as L,T as B,a as P,b as x,c as s,d as E,e as t,f as H}from"./table-BEFqGt7n.js";import{B as u}from"./badge-18jTDmdE.js";import{S as V}from"./search-BwFZdpyj.js";import{E as z}from"./eye-CPs45M0j.js";import{S as I}from"./square-pen-DQ2VcgES.js";import"./app-B_WQW7DO.js";import"./index-BqVwD9uT.js";import"./index-BMp7K-bq.js";function Z({tasks:a,search:h}){const{hasPermission:o,hasAnyPermission:c,hasAllPermissions:i}=w(),[l,j]=b.useState(h||""),f=r=>{r.preventDefault(),m.get(route("vendor-task-tracker.index"),{search:l},{preserveState:!0})},g=r=>{confirm("Are you sure you want to delete this task?")&&m.delete(route("vendor-task-tracker.destroy",r.id))},v=r=>e.jsx(u,{variant:r==="Yes"?"destructive":"secondary",children:r}),N=r=>{if(!r)return null;const p=r.toLowerCase().includes("completed")?"default":r.toLowerCase().includes("pending")?"secondary":"outline";return e.jsx(u,{variant:p,children:r})},k=[{title:"VendorTaskTracker",href:"/vendor-task-tracker"}];return e.jsxs(T,{breadcrumbs:k,children:[e.jsx(y,{title:"Vendor Task Tracker"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(_,{children:[e.jsxs(C,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(A,{className:"text-2xl text-foreground",children:"Vendor Task Tracker"}),i(["vendor-task-tracker.create","vendor-task-tracker.store"])&&e.jsx(n,{href:route("vendor-task-tracker.create"),children:e.jsxs(d,{children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Add Task"]})})]}),e.jsxs("form",{onSubmit:f,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(S,{type:"text",placeholder:"Search tasks by city, vendor, unit, or status...",value:l,onChange:r=>j(r.target.value),className:"bg-background text-foreground placeholder:text-muted-foreground"})}),e.jsx(d,{type:"submit",children:e.jsx(V,{className:"h-4 w-4"})})]})]}),e.jsxs(D,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(B,{children:[e.jsx(P,{children:e.jsxs(x,{className:"border-border",children:[e.jsx(s,{className:"text-muted-foreground",children:"City"}),e.jsx(s,{className:"text-muted-foreground",children:"Submission Date"}),e.jsx(s,{className:"text-muted-foreground",children:"Vendor Name"}),e.jsx(s,{className:"text-muted-foreground",children:"Unit Name"}),e.jsx(s,{className:"text-muted-foreground",children:"Assigned Tasks"}),e.jsx(s,{className:"text-muted-foreground",children:"Scheduled Visits"}),e.jsx(s,{className:"text-muted-foreground",children:"Task End Date"}),e.jsx(s,{className:"text-muted-foreground",children:"Note"}),e.jsx(s,{className:"text-muted-foreground",children:"Status"}),e.jsx(s,{className:"text-muted-foreground",children:"Urgent"}),c(["vendor-task-tracker.show","vendor-task-tracker.edit","vendor-task-tracker.update","vendor-task-tracker.destroy"])&&e.jsx(s,{className:"text-muted-foreground",children:"Actions"})]})}),e.jsx(E,{children:a.data.map(r=>e.jsxs(x,{className:"hover:bg-muted/50 border-border",children:[e.jsx(t,{className:"font-medium text-foreground",children:r.city}),e.jsx(t,{className:"text-foreground",children:new Date(r.task_submission_date).toLocaleDateString()}),e.jsx(t,{className:"text-foreground",children:r.vendor_name}),e.jsx(t,{className:"text-foreground",children:r.unit_name}),e.jsx(t,{className:"max-w-xs truncate text-foreground",children:r.assigned_tasks}),e.jsx(t,{className:"text-foreground",children:r.any_scheduled_visits?new Date(r.any_scheduled_visits).toLocaleDateString():"N/A"}),e.jsx(t,{className:"text-foreground",children:r.task_ending_date?new Date(r.task_ending_date).toLocaleDateString():"N/A"}),e.jsx(t,{className:"font-medium text-foreground",children:r.notes}),e.jsx(t,{children:N(r.status)}),e.jsx(t,{children:v(r.urgent)}),c(["vendor-task-tracker.show","vendor-task-tracker.edit","vendor-task-tracker.update","vendor-task-tracker.destroy"])&&e.jsx(t,{children:e.jsxs("div",{className:"flex gap-1",children:[o("vendor-task-tracker.show")&&e.jsx(n,{href:route("vendor-task-tracker.show",r.id),children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx(z,{className:"h-4 w-4"})})}),i(["vendor-task-tracker.edit","vendor-task-tracker.update"])&&e.jsx(n,{href:route("vendor-task-tracker.edit",r.id),children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx(I,{className:"h-4 w-4"})})}),o("vendor-task-tracker.destroy")&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>g(r),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(H,{className:"h-4 w-4"})})]})})]},r.id))})]})}),a.data.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{className:"text-lg",children:"No tasks found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),a.meta&&e.jsx("div",{className:"mt-6 flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",a.meta.from||0," to ",a.meta.to||0," of ",a.meta.total||0," results"]})})]})]})})})]})}export{Z as default};
