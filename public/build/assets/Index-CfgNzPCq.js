import{r as C,a as w,j as e,H as T,L as j,b as u}from"./app-8klrsFG4.js";import{A as _}from"./app-layout-CZFQIP7A.js";import{B as m}from"./app-logo-icon-b_GmilaL.js";import{I as h}from"./input-BPyuLaX6.js";import{C as a,c as l,a as p,b}from"./card-DmUt7_vd.js";import{P as S,T as E,a as V,b as N,c as t,d as H,e as i,f as A}from"./table-e7cw4vTw.js";import{E as L}from"./eye-Dmoyn9pJ.js";import{S as P}from"./square-pen-9qlHHJ7K.js";import"./app-BBUFBqzS.js";import"./index-BOHH6eXm.js";import"./index-B5uxA-de.js";function J({auth:F,vendors:r,statistics:d,filters:y,cities:I}){const[c,f]=C.useState(y),{flash:x}=w().props,o=(s,n)=>{const g={...c,[s]:n};f(g),u.get(route("vendors.index"),g,{preserveState:!0,preserveScroll:!0})},v=s=>{confirm("Are you sure you want to delete this vendor?")&&u.delete(route("vendors.destroy",s.id))};return e.jsxs(_,{children:[e.jsx(T,{title:"Vendors"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[x?.success&&e.jsx("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:x.success}),x?.error&&e.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:x.error}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx(a,{children:e.jsxs(l,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Vendors"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:d.total})]})}),e.jsx(a,{children:e.jsxs(l,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"With Email"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:d.with_email})]})}),e.jsx(a,{children:e.jsxs(l,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"With Phone"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:d.with_number})]})}),e.jsx(a,{children:e.jsxs(l,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cities"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:Object.keys(d.city_counts).length})]})}),e.jsxs(a,{children:[e.jsx(p,{children:e.jsx(b,{className:"text-lg",children:"Vendors by City"})}),e.jsx(l,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.entries(d.city_counts).map(([s,n])=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:n})]},s))})})]})]}),e.jsxs(a,{className:"mt-6",children:[e.jsxs(p,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(b,{className:"text-2xl",children:"Vendors List"}),e.jsx(j,{href:route("vendors.create"),children:e.jsxs(m,{children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Add Vendor"]})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(h,{type:"text",placeholder:"City",value:c.city||"",onChange:s=>o("city",s.target.value)}),e.jsx(h,{type:"text",placeholder:"Vendor Name",value:c.vendor_name||"",onChange:s=>o("vendor_name",s.target.value)}),e.jsx(h,{type:"text",placeholder:"Number",value:c.number||"",onChange:s=>o("number",s.target.value)}),e.jsx(h,{type:"email",placeholder:"Email",value:c.email||"",onChange:s=>o("email",s.target.value)})]})})]}),e.jsxs(l,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(E,{children:[e.jsx(V,{children:e.jsxs(N,{children:[e.jsx(t,{children:"City"}),e.jsx(t,{children:"Vendor Name"}),e.jsx(t,{children:"Number"}),e.jsx(t,{children:"Email"}),e.jsx(t,{children:"Service Type"}),e.jsx(t,{children:"Actions"})]})}),e.jsx(H,{children:r.data.map(s=>e.jsxs(N,{className:"hover:bg-gray-50",children:[e.jsx(i,{className:"font-medium",children:s.city}),e.jsx(i,{children:s.vendor_name}),e.jsx(i,{children:s.number||"-"}),e.jsx(i,{children:s.email?e.jsx("a",{href:`mailto:${s.email}`,className:"text-blue-600 hover:text-blue-900",children:s.email}):"-"}),e.jsx(i,{children:s.service_type}),e.jsx(i,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(j,{href:route("vendors.show",s.id),children:e.jsx(m,{variant:"outline",size:"sm",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsx(j,{href:route("vendors.edit",s.id),children:e.jsx(m,{variant:"outline",size:"sm",children:e.jsx(P,{className:"h-4 w-4"})})}),e.jsx(m,{variant:"outline",size:"sm",onClick:()=>v(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(A,{className:"h-4 w-4"})})]})})]},s.id))})]})}),r.data.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No vendors found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search filters."})]}),r.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex space-x-2",children:r.links.map((s,n)=>e.jsx("button",{onClick:()=>s.url&&u.get(s.url),disabled:!s.url,className:`px-3 py-2 text-sm rounded ${s.active?"bg-blue-500 text-white":s.url?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},n))})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 text-center",children:["Showing ",r.from||0," to ",r.to||0," of ",r.total||0," vendors"]})]})]})]})})]})}export{J as default};
