import{r as v,j as e,H as A,L as d,b as j}from"./app-C1twEVwI.js";import{u as w,A as b}from"./app-layout-DkJIfOWg.js";import{B as n}from"./app-logo-icon-CaMXxJye.js";import{I as S}from"./input-NXhmTsJ2.js";import{C as T,a as C,b as P,c as B}from"./card-qxLiEYpz.js";import{B as t}from"./badge-Bj6s11Mw.js";import{P as E,T as H,a as L,b as u,c as r,d as I,e as a,f as $}from"./table-3ioI8PwR.js";import{S as D}from"./search-CpqKyOVj.js";import{E as k}from"./eye--djmK1ZG.js";import{S as z}from"./square-pen-DFDPNGb5.js";import"./app-CHbdQBn0.js";import"./index-BgfIhE8z.js";import"./index-BZECT6gi.js";function X({tenants:l,search:c}){const{hasPermission:x,hasAnyPermission:o,hasAllPermissions:h}=w(),[m,p]=v.useState(c||""),N=s=>{s.preventDefault(),j.get(route("tenants.index"),{search:m},{preserveState:!0})},f=s=>{confirm(`Are you sure you want to delete ${s.first_name} ${s.last_name}?`)&&j.delete(route("tenants.destroy",s.id))},i=s=>s==null||s===""?"N/A":String(s),g=s=>s==null||s===""?e.jsx(t,{variant:"outline",children:"N/A"}):e.jsx(t,{variant:s==="Yes"?"default":"destructive",children:s}),y=s=>s==null||s===""?e.jsx(t,{variant:"outline",children:"N/A"}):e.jsx(t,{variant:s==="Yes"?"destructive":"default",children:s}),_=s=>s==null||s===""?e.jsx(t,{variant:"outline",children:"N/A"}):e.jsx(t,{variant:s==="Yes"?"default":"secondary",children:s});return e.jsxs(b,{children:[e.jsx(A,{title:"Tenants"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(T,{children:[e.jsxs(C,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(P,{className:"text-2xl",children:"Tenants"}),h(["tenants.create","tenants.store"])&&e.jsx(d,{href:route("tenants.create"),children:e.jsxs(n,{children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Add New Tenant"]})})]}),e.jsxs("form",{onSubmit:N,className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(S,{type:"text",placeholder:"Search tenants...",value:m,onChange:s=>p(s.target.value)})}),e.jsx(n,{type:"submit",children:e.jsx(D,{className:"h-4 w-4"})})]})]}),e.jsxs(B,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(H,{children:[e.jsx(L,{children:e.jsxs(u,{children:[e.jsx(r,{children:"Property Name"}),e.jsx(r,{children:"Unit Number"}),e.jsx(r,{children:"First Name"}),e.jsx(r,{children:"Last Name"}),e.jsx(r,{children:"Street Address"}),e.jsx(r,{children:"Login Email"}),e.jsx(r,{children:"Alternate Email"}),e.jsx(r,{children:"Mobile"}),e.jsx(r,{children:"Emergency Phone"}),e.jsx(r,{children:"Payment Method"}),e.jsx(r,{children:"Has Insurance"}),e.jsx(r,{children:"Sensitive Communication"}),e.jsx(r,{children:"Has Assistance"}),e.jsx(r,{children:"Assistance Amount"}),e.jsx(r,{children:"Assistance Company"}),e.jsx(r,{children:"Created"}),o(["tenants.show","tenants.edit","tenants.update","tenants.destroy"])&&e.jsx(r,{children:"Actions"})]})}),e.jsx(I,{children:l.map(s=>e.jsxs(u,{className:"hover:bg-gray-50",children:[e.jsx(a,{className:"font-medium",children:i(s.property_name)}),e.jsx(a,{children:i(s.unit_number)}),e.jsx(a,{children:i(s.first_name)}),e.jsx(a,{children:i(s.last_name)}),e.jsx(a,{className:"max-w-[200px]",children:e.jsx("div",{className:"truncate",title:s.street_address_line||"N/A",children:i(s.street_address_line)})}),e.jsx(a,{className:"max-w-[200px]",children:e.jsx("div",{className:"truncate",title:s.login_email||"N/A",children:i(s.login_email)})}),e.jsx(a,{className:"max-w-[200px]",children:e.jsx("div",{className:"truncate",title:s.alternate_email||"N/A",children:i(s.alternate_email)})}),e.jsx(a,{children:i(s.mobile)}),e.jsx(a,{children:i(s.emergency_phone)}),e.jsx(a,{children:i(s.cash_or_check)}),e.jsx(a,{children:g(s.has_insurance)}),e.jsx(a,{children:y(s.sensitive_communication)}),e.jsx(a,{children:_(s.has_assistance)}),e.jsx(a,{children:s.assistance_amount?`$${s.assistance_amount}`:"N/A"}),e.jsx(a,{className:"max-w-[150px]",children:e.jsx("div",{className:"truncate",title:s.assistance_company||"N/A",children:i(s.assistance_company)})}),e.jsx(a,{children:new Date(s.created_at).toLocaleDateString()}),o(["tenants.show","tenants.edit","tenants.update","tenants.destroy"])&&e.jsx(a,{children:e.jsxs("div",{className:"flex gap-1",children:[x("tenants.show")&&e.jsx(d,{href:route("tenants.show",s.id),children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(k,{className:"h-4 w-4"})})}),h(["tenants.edit","tenants.update"])&&e.jsx(d,{href:route("tenants.edit",s.id),children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(z,{className:"h-4 w-4"})})}),x("tenants.destroy")&&e.jsx(n,{variant:"outline",size:"sm",onClick:()=>f(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx($,{className:"h-4 w-4"})})]})})]},s.id))})]})}),l.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No tenants found."}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]}),e.jsx("div",{className:"mt-6 flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",l.length," tenant",l.length!==1?"s":"",c&&` matching "${c}"`]})})]})]})})})]})}export{X as default};
